(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ww(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nf={exports:{}},aa={},Lf={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Qw(){if(ny)return Ge;ny=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function d(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function w(V,B,K){this.props=V,this.context=B,this.refs=A,this.updater=K||m}w.prototype.isReactComponent={},w.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},w.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _(){}_.prototype=w.prototype;function T(V,B,K){this.props=V,this.context=B,this.refs=A,this.updater=K||m}var x=T.prototype=new _;x.constructor=T,S(x,w.prototype),x.isPureReactComponent=!0;var b=Array.isArray,M=Object.prototype.hasOwnProperty,j={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(V,B,K){var J,Z={},z=null,Y=null;if(B!=null)for(J in B.ref!==void 0&&(Y=B.ref),B.key!==void 0&&(z=""+B.key),B)M.call(B,J)&&!C.hasOwnProperty(J)&&(Z[J]=B[J]);var ie=arguments.length-2;if(ie===1)Z.children=K;else if(1<ie){for(var oe=Array(ie),he=0;he<ie;he++)oe[he]=arguments[he+2];Z.children=oe}if(V&&V.defaultProps)for(J in ie=V.defaultProps,ie)Z[J]===void 0&&(Z[J]=ie[J]);return{$$typeof:r,type:V,key:z,ref:Y,props:Z,_owner:j.current}}function D(V,B){return{$$typeof:r,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(K){return B[K]})}var L=/\/+/g;function N(V,B){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):B.toString(36)}function $(V,B,K,J,Z){var z=typeof V;(z==="undefined"||z==="boolean")&&(V=null);var Y=!1;if(V===null)Y=!0;else switch(z){case"string":case"number":Y=!0;break;case"object":switch(V.$$typeof){case r:case e:Y=!0}}if(Y)return Y=V,Z=Z(Y),V=J===""?"."+N(Y,0):J,b(Z)?(K="",V!=null&&(K=V.replace(L,"$&/")+"/"),$(Z,B,K,"",function(he){return he})):Z!=null&&(O(Z)&&(Z=D(Z,K+(!Z.key||Y&&Y.key===Z.key?"":(""+Z.key).replace(L,"$&/")+"/")+V)),B.push(Z)),1;if(Y=0,J=J===""?".":J+":",b(V))for(var ie=0;ie<V.length;ie++){z=V[ie];var oe=J+N(z,ie);Y+=$(z,B,K,oe,Z)}else if(oe=d(V),typeof oe=="function")for(V=oe.call(V),ie=0;!(z=V.next()).done;)z=z.value,oe=J+N(z,ie++),Y+=$(z,B,K,oe,Z);else if(z==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Y}function G(V,B,K){if(V==null)return V;var J=[],Z=0;return $(V,J,"","",function(z){return B.call(K,z,Z++)}),J}function ne(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(K){(V._status===0||V._status===-1)&&(V._status=1,V._result=K)},function(K){(V._status===0||V._status===-1)&&(V._status=2,V._result=K)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var te={current:null},re={transition:null},Q={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:re,ReactCurrentOwner:j};function H(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:G,forEach:function(V,B,K){G(V,function(){B.apply(this,arguments)},K)},count:function(V){var B=0;return G(V,function(){B++}),B},toArray:function(V){return G(V,function(B){return B})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ge.Component=w,Ge.Fragment=t,Ge.Profiler=s,Ge.PureComponent=T,Ge.StrictMode=i,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ge.act=H,Ge.cloneElement=function(V,B,K){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var J=S({},V.props),Z=V.key,z=V.ref,Y=V._owner;if(B!=null){if(B.ref!==void 0&&(z=B.ref,Y=j.current),B.key!==void 0&&(Z=""+B.key),V.type&&V.type.defaultProps)var ie=V.type.defaultProps;for(oe in B)M.call(B,oe)&&!C.hasOwnProperty(oe)&&(J[oe]=B[oe]===void 0&&ie!==void 0?ie[oe]:B[oe])}var oe=arguments.length-2;if(oe===1)J.children=K;else if(1<oe){ie=Array(oe);for(var he=0;he<oe;he++)ie[he]=arguments[he+2];J.children=ie}return{$$typeof:r,type:V.type,key:Z,ref:z,props:J,_owner:Y}},Ge.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ge.createElement=R,Ge.createFactory=function(V){var B=R.bind(null,V);return B.type=V,B},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(V){return{$$typeof:f,render:V}},Ge.isValidElement=O,Ge.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ne}},Ge.memo=function(V,B){return{$$typeof:y,type:V,compare:B===void 0?null:B}},Ge.startTransition=function(V){var B=re.transition;re.transition={};try{V()}finally{re.transition=B}},Ge.unstable_act=H,Ge.useCallback=function(V,B){return te.current.useCallback(V,B)},Ge.useContext=function(V){return te.current.useContext(V)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(V){return te.current.useDeferredValue(V)},Ge.useEffect=function(V,B){return te.current.useEffect(V,B)},Ge.useId=function(){return te.current.useId()},Ge.useImperativeHandle=function(V,B,K){return te.current.useImperativeHandle(V,B,K)},Ge.useInsertionEffect=function(V,B){return te.current.useInsertionEffect(V,B)},Ge.useLayoutEffect=function(V,B){return te.current.useLayoutEffect(V,B)},Ge.useMemo=function(V,B){return te.current.useMemo(V,B)},Ge.useReducer=function(V,B,K){return te.current.useReducer(V,B,K)},Ge.useRef=function(V){return te.current.useRef(V)},Ge.useState=function(V){return te.current.useState(V)},Ge.useSyncExternalStore=function(V,B,K){return te.current.useSyncExternalStore(V,B,K)},Ge.useTransition=function(){return te.current.useTransition()},Ge.version="18.3.1",Ge}var ry;function Nu(){return ry||(ry=1,Lf.exports=Qw()),Lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function Yw(){if(iy)return aa;iy=1;var r=Nu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,y){var v,g={},d=null,m=null;y!==void 0&&(d=""+y),p.key!==void 0&&(d=""+p.key),p.ref!==void 0&&(m=p.ref);for(v in p)i.call(p,v)&&!a.hasOwnProperty(v)&&(g[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)g[v]===void 0&&(g[v]=p[v]);return{$$typeof:e,type:f,key:d,ref:m,props:g,_owner:s.current}}return aa.Fragment=t,aa.jsx=u,aa.jsxs=u,aa}var oy;function Xw(){return oy||(oy=1,Nf.exports=Yw()),Nf.exports}var Se=Xw(),pe=Nu(),tu={},Df={exports:{}},pn={},Mf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Zw(){return sy||(sy=1,function(r){function e(re,Q){var H=re.length;re.push(Q);e:for(;0<H;){var V=H-1>>>1,B=re[V];if(0<s(B,Q))re[V]=Q,re[H]=B,H=V;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var Q=re[0],H=re.pop();if(H!==Q){re[0]=H;e:for(var V=0,B=re.length,K=B>>>1;V<K;){var J=2*(V+1)-1,Z=re[J],z=J+1,Y=re[z];if(0>s(Z,H))z<B&&0>s(Y,Z)?(re[V]=Y,re[z]=H,V=z):(re[V]=Z,re[J]=H,V=J);else if(z<B&&0>s(Y,H))re[V]=Y,re[z]=H,V=z;else break e}}return Q}function s(re,Q){var H=re.sortIndex-Q.sortIndex;return H!==0?H:re.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],y=[],v=1,g=null,d=3,m=!1,S=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(re){for(var Q=t(y);Q!==null;){if(Q.callback===null)i(y);else if(Q.startTime<=re)i(y),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=t(y)}}function b(re){if(A=!1,x(re),!S)if(t(p)!==null)S=!0,ne(M);else{var Q=t(y);Q!==null&&te(b,Q.startTime-re)}}function M(re,Q){S=!1,A&&(A=!1,_(R),R=-1),m=!0;var H=d;try{for(x(Q),g=t(p);g!==null&&(!(g.expirationTime>Q)||re&&!I());){var V=g.callback;if(typeof V=="function"){g.callback=null,d=g.priorityLevel;var B=V(g.expirationTime<=Q);Q=r.unstable_now(),typeof B=="function"?g.callback=B:g===t(p)&&i(p),x(Q)}else i(p);g=t(p)}if(g!==null)var K=!0;else{var J=t(y);J!==null&&te(b,J.startTime-Q),K=!1}return K}finally{g=null,d=H,m=!1}}var j=!1,C=null,R=-1,D=5,O=-1;function I(){return!(r.unstable_now()-O<D)}function L(){if(C!==null){var re=r.unstable_now();O=re;var Q=!0;try{Q=C(!0,re)}finally{Q?N():(j=!1,C=null)}}else j=!1}var N;if(typeof T=="function")N=function(){T(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){w(L,0)};function ne(re){C=re,j||(j=!0,N())}function te(re,Q){R=w(function(){re(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){S||m||(S=!0,ne(M))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(d){case 1:case 2:case 3:var Q=3;break;default:Q=d}var H=d;d=Q;try{return re()}finally{d=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Q){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var H=d;d=re;try{return Q()}finally{d=H}},r.unstable_scheduleCallback=function(re,Q,H){var V=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,re){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,re={id:v++,callback:Q,priorityLevel:re,startTime:H,expirationTime:B,sortIndex:-1},H>V?(re.sortIndex=H,e(y,re),t(p)===null&&re===t(y)&&(A?(_(R),R=-1):A=!0,te(b,H-V))):(re.sortIndex=B,e(p,re),S||m||(S=!0,ne(M))),re},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(re){var Q=d;return function(){var H=d;d=Q;try{return re.apply(this,arguments)}finally{d=H}}}}(Vf)),Vf}var ay;function Jw(){return ay||(ay=1,Mf.exports=Zw()),Mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function eT(){if(ly)return pn;ly=1;var r=Nu(),e=Jw();function t(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(n,o){u(n,o),u(n+"Capture",o)}function u(n,o){for(s[n]=o,n=0;n<o.length;n++)i.add(o[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function d(n){return p.call(g,n)?!0:p.call(v,n)?!1:y.test(n)?g[n]=!0:(v[n]=!0,!1)}function m(n,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,o,l,h){if(o===null||typeof o>"u"||m(n,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(n,o,l,h,E,P,F){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=E,this.mustUseProperty=l,this.propertyName=n,this.type=o,this.sanitizeURL=P,this.removeEmptyString=F}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){w[n]=new A(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];w[o]=new A(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){w[n]=new A(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){w[n]=new A(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){w[n]=new A(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){w[n]=new A(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){w[n]=new A(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){w[n]=new A(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){w[n]=new A(n,5,!1,n.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(_,T);w[o]=new A(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(_,T);w[o]=new A(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(_,T);w[o]=new A(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){w[n]=new A(n,1,!1,n.toLowerCase(),null,!1,!1)}),w.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){w[n]=new A(n,1,!1,n.toLowerCase(),null,!0,!0)});function x(n,o,l,h){var E=w.hasOwnProperty(o)?w[o]:null;(E!==null?E.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,E,h)&&(l=null),h||E===null?d(o)&&(l===null?n.removeAttribute(o):n.setAttribute(o,""+l)):E.mustUseProperty?n[E.propertyName]=l===null?E.type===3?!1:"":l:(o=E.attributeName,h=E.attributeNamespace,l===null?n.removeAttribute(o):(E=E.type,l=E===3||E===4&&l===!0?"":""+l,h?n.setAttributeNS(h,o,l):n.setAttribute(o,l))))}var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),re=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,V;function B(n){if(V===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+n}var K=!1;function J(n,o){if(!n||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ue){var h=ue}Reflect.construct(n,[],o)}else{try{o.call()}catch(ue){h=ue}n.call(o.prototype)}else{try{throw Error()}catch(ue){h=ue}n()}}catch(ue){if(ue&&h&&typeof ue.stack=="string"){for(var E=ue.stack.split(`
`),P=h.stack.split(`
`),F=E.length-1,W=P.length-1;1<=F&&0<=W&&E[F]!==P[W];)W--;for(;1<=F&&0<=W;F--,W--)if(E[F]!==P[W]){if(F!==1||W!==1)do if(F--,W--,0>W||E[F]!==P[W]){var X=`
`+E[F].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=F&&0<=W);break}}}finally{K=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?B(n):""}function Z(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=J(n.type,!1),n;case 11:return n=J(n.type.render,!1),n;case 1:return n=J(n.type,!0),n;default:return""}}function z(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case j:return"Portal";case D:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case $:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case I:return(n.displayName||"Context")+".Consumer";case O:return(n._context.displayName||"Context")+".Provider";case L:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return o=n.displayName||null,o!==null?o:z(n.type)||"Memo";case ne:o=n._payload,n=n._init;try{return z(n(o))}catch{}}return null}function Y(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ie(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oe(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function he(n){var o=oe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),h=""+n[o];if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var E=l.get,P=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return E.call(this)},set:function(F){h=""+F,P.call(this,F)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Ie(n){n._valueTracker||(n._valueTracker=he(n))}function De(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return n&&(h=oe(n)?n.checked?"true":"false":n.value),n=h,n!==l?(o.setValue(n),!0):!1}function qe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function He(n,o){var l=o.checked;return H({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function We(n,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=ie(o.value!=null?o.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function It(n,o){o=o.checked,o!=null&&x(n,"checked",o,!1)}function ht(n,o){It(n,o);var l=ie(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?de(n,o.type,l):o.hasOwnProperty("defaultValue")&&de(n,o.type,ie(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function fe(n,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,l||o===n.value||(n.value=o),n.defaultValue=o}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function de(n,o,l){(o!=="number"||qe(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Te=Array.isArray;function be(n,o,l,h){if(n=n.options,o){o={};for(var E=0;E<l.length;E++)o["$"+l[E]]=!0;for(l=0;l<n.length;l++)E=o.hasOwnProperty("$"+n[l].value),n[l].selected!==E&&(n[l].selected=E),E&&h&&(n[l].defaultSelected=!0)}else{for(l=""+ie(l),o=null,E=0;E<n.length;E++){if(n[E].value===l){n[E].selected=!0,h&&(n[E].defaultSelected=!0);return}o!==null||n[E].disabled||(o=n[E])}o!==null&&(o.selected=!0)}}function ye(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Be(n,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Te(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}n._wrapperState={initialValue:ie(l)}}function Ue(n,o){var l=ie(o.value),h=ie(o.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),o.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function Ke(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function rt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?rt(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tt,Si=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,E){MSApp.execUnsafeLocalFunction(function(){return n(o,l,h,E)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=tt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function at(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(n){bi.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Wt[o]=Wt[n]})});function vs(n,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Wt.hasOwnProperty(n)&&Wt[n]?(""+o).trim():o+"px"}function _s(n,o){n=n.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,E=vs(l,o[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,E):n[l]=E}}var Es=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ws(n,o){if(o){if(Es[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ts(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=null;function uo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,In=null,tr=null;function fo(n){if(n=Ks(n)){if(typeof co!="function")throw Error(t(280));var o=n.stateNode;o&&(o=ml(o),co(n.stateNode,n.type,o))}}function nr(n){In?tr?tr.push(n):tr=[n]:In=n}function As(){if(In){var n=In,o=tr;if(tr=In=null,fo(n),o)for(n=0;n<o.length;n++)fo(o[n])}}function Ri(n,o){return n(o)}function Ss(){}var _r=!1;function bs(n,o,l){if(_r)return n(o,l);_r=!0;try{return Ri(n,o,l)}finally{_r=!1,(In!==null||tr!==null)&&(Ss(),As())}}function At(n,o){var l=n.stateNode;if(l===null)return null;var h=ml(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ho=!1;if(f)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{ho=!1}function ki(n,o,l,h,E,P,F,W,X){var ue=Array.prototype.slice.call(arguments,3);try{o.apply(l,ue)}catch(_e){this.onError(_e)}}var Pi=!1,po=null,qn=!1,Is=null,sc={onError:function(n){Pi=!0,po=n}};function mo(n,o,l,h,E,P,F,W,X){Pi=!1,po=null,ki.apply(sc,arguments)}function Fa(n,o,l,h,E,P,F,W,X){if(mo.apply(this,arguments),Pi){if(Pi){var ue=po;Pi=!1,po=null}else throw Error(t(198));qn||(qn=!0,Is=ue)}}function jn(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,o.flags&4098&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function Oi(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Fn(n){if(jn(n)!==n)throw Error(t(188))}function Ba(n){var o=n.alternate;if(!o){if(o=jn(n),o===null)throw Error(t(188));return o!==n?null:n}for(var l=n,h=o;;){var E=l.return;if(E===null)break;var P=E.alternate;if(P===null){if(h=E.return,h!==null){l=h;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===l)return Fn(E),n;if(P===h)return Fn(E),o;P=P.sibling}throw Error(t(188))}if(l.return!==h.return)l=E,h=P;else{for(var F=!1,W=E.child;W;){if(W===l){F=!0,l=E,h=P;break}if(W===h){F=!0,h=E,l=P;break}W=W.sibling}if(!F){for(W=P.child;W;){if(W===l){F=!0,l=P,h=E;break}if(W===h){F=!0,h=P,l=E;break}W=W.sibling}if(!F)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:o}function Rs(n){return n=Ba(n),n!==null?go(n):null}function go(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=go(n);if(o!==null)return o;n=n.sibling}return null}var yo=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,Ua=e.unstable_shouldYield,ac=e.unstable_requestPaint,ct=e.unstable_now,za=e.unstable_getCurrentPriorityLevel,Ci=e.unstable_ImmediatePriority,Br=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,Ps=e.unstable_LowPriority,$a=e.unstable_IdlePriority,xi=null,yn=null;function Ha(n){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(xi,n,void 0,(n.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Ga,Os=Math.log,Ka=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(Os(n)/Ka|0)|0}var vo=64,_o=4194304;function Ur(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ni(n,o){var l=n.pendingLanes;if(l===0)return 0;var h=0,E=n.suspendedLanes,P=n.pingedLanes,F=l&268435455;if(F!==0){var W=F&~E;W!==0?h=Ur(W):(P&=F,P!==0&&(h=Ur(P)))}else F=l&~E,F!==0?h=Ur(F):P!==0&&(h=Ur(P));if(h===0)return 0;if(o!==0&&o!==h&&!(o&E)&&(E=h&-h,P=o&-o,E>=P||E===16&&(P&4194240)!==0))return o;if(h&4&&(h|=l&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=h;0<o;)l=31-nn(o),E=1<<l,h|=n[l],o&=~E;return h}function lc(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(n,o){for(var l=n.suspendedLanes,h=n.pingedLanes,E=n.expirationTimes,P=n.pendingLanes;0<P;){var F=31-nn(P),W=1<<F,X=E[F];X===-1?(!(W&l)||W&h)&&(E[F]=lc(W,o)):X<=o&&(n.expiredLanes|=W),P&=~W}}function vn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Li(){var n=vo;return vo<<=1,!(vo&4194240)&&(vo=64),n}function zr(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function $r(n,o,l){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-nn(o),n[o]=l}function ut(n,o){var l=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var E=31-nn(l),P=1<<E;o[E]=0,h[E]=-1,n[E]=-1,l&=~P}}function Hr(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var h=31-nn(l),E=1<<h;E&o|n[h]&o&&(n[h]|=o),l&=~E}}var Ye=0;function Kr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Wa,Eo,Qa,Ya,Xa,Cs=!1,rr=[],Bt=null,Bn=null,Un=null,Gr=new Map,kn=new Map,ir=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(n,o){switch(n){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Gr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(o.pointerId)}}function an(n,o,l,h,E,P){return n===null||n.nativeEvent!==P?(n={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:P,targetContainers:[E]},o!==null&&(o=Ks(o),o!==null&&Eo(o)),n):(n.eventSystemFlags|=h,o=n.targetContainers,E!==null&&o.indexOf(E)===-1&&o.push(E),n)}function cc(n,o,l,h,E){switch(o){case"focusin":return Bt=an(Bt,n,o,l,h,E),!0;case"dragenter":return Bn=an(Bn,n,o,l,h,E),!0;case"mouseover":return Un=an(Un,n,o,l,h,E),!0;case"pointerover":var P=E.pointerId;return Gr.set(P,an(Gr.get(P)||null,n,o,l,h,E)),!0;case"gotpointercapture":return P=E.pointerId,kn.set(P,an(kn.get(P)||null,n,o,l,h,E)),!0}return!1}function Ja(n){var o=ji(n.target);if(o!==null){var l=jn(o);if(l!==null){if(o=l.tag,o===13){if(o=Oi(l),o!==null){n.blockedOn=o,Xa(n.priority,function(){Qa(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wr(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=wo(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Ii=h,l.target.dispatchEvent(h),Ii=null}else return o=Ks(l),o!==null&&Eo(o),n.blockedOn=l,!1;o.shift()}return!0}function Di(n,o,l){wr(n)&&l.delete(o)}function el(){Cs=!1,Bt!==null&&wr(Bt)&&(Bt=null),Bn!==null&&wr(Bn)&&(Bn=null),Un!==null&&wr(Un)&&(Un=null),Gr.forEach(Di),kn.forEach(Di)}function zn(n,o){n.blockedOn===o&&(n.blockedOn=null,Cs||(Cs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,el)))}function $n(n){function o(E){return zn(E,n)}if(0<rr.length){zn(rr[0],n);for(var l=1;l<rr.length;l++){var h=rr[l];h.blockedOn===n&&(h.blockedOn=null)}}for(Bt!==null&&zn(Bt,n),Bn!==null&&zn(Bn,n),Un!==null&&zn(Un,n),Gr.forEach(o),kn.forEach(o),l=0;l<ir.length;l++)h=ir[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)Ja(l),l.blockedOn===null&&ir.shift()}var Tr=b.ReactCurrentBatchConfig,Wr=!0;function gt(n,o,l,h){var E=Ye,P=Tr.transition;Tr.transition=null;try{Ye=1,xs(n,o,l,h)}finally{Ye=E,Tr.transition=P}}function fc(n,o,l,h){var E=Ye,P=Tr.transition;Tr.transition=null;try{Ye=4,xs(n,o,l,h)}finally{Ye=E,Tr.transition=P}}function xs(n,o,l,h){if(Wr){var E=wo(n,o,l,h);if(E===null)Tc(n,o,h,Mi,l),Za(n,h);else if(cc(E,n,o,l,h))h.stopPropagation();else if(Za(n,h),o&4&&-1<uc.indexOf(n)){for(;E!==null;){var P=Ks(E);if(P!==null&&Wa(P),P=wo(n,o,l,h),P===null&&Tc(n,o,h,Mi,l),P===E)break;E=P}E!==null&&h.stopPropagation()}else Tc(n,o,h,null,l)}}var Mi=null;function wo(n,o,l,h){if(Mi=null,n=uo(h),n=ji(n),n!==null)if(o=jn(n),o===null)n=null;else if(l=o.tag,l===13){if(n=Oi(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Mi=n,null}function Ns(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(za()){case Ci:return 1;case Br:return 4;case Rn:case Ps:return 16;case $a:return 536870912;default:return 16}default:return 16}}var _n=null,To=null,ln=null;function Ls(){if(ln)return ln;var n,o=To,l=o.length,h,E="value"in _n?_n.value:_n.textContent,P=E.length;for(n=0;n<l&&o[n]===E[n];n++);var F=l-n;for(h=1;h<=F&&o[l-h]===E[P-h];h++);return ln=E.slice(n,1<h?1-h:void 0)}function Ao(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function Ds(){return!1}function Ut(n){function o(l,h,E,P,F){this._reactName=l,this._targetInst=E,this.type=h,this.nativeEvent=P,this.target=F,this.currentTarget=null;for(var W in n)n.hasOwnProperty(W)&&(l=n[W],this[W]=l?l(P):P[W]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?or:Ds,this.isPropagationStopped=Ds,this}return H(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),o}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Ut(Hn),sr=H({},Hn,{view:0,detail:0}),hc=Ut(sr),bo,Ar,Qr,Vi=H({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(bo=n.screenX-Qr.screenX,Ar=n.screenY-Qr.screenY):Ar=bo=0,Qr=n),bo)},movementY:function(n){return"movementY"in n?n.movementY:Ar}}),Io=Ut(Vi),Ms=H({},Vi,{dataTransfer:0}),tl=Ut(Ms),Ro=H({},sr,{relatedTarget:0}),ko=Ut(Ro),nl=H({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Ut(nl),rl=H({},Hn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),il=Ut(rl),ol=H({},Hn,{data:0}),Vs=Ut(ol),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=sl[n])?!!o[n]:!1}function ar(){return al}var c=H({},sr,{key:function(n){if(n.key){var o=Po[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Ao(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(n){return n.type==="keypress"?Ao(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ao(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),k=Ut(c),q=H({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Ut(q),se=H({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),ce=Ut(se),Ae=H({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Ut(Ae),Ct=H({},Vi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=Ut(Ct),Mt=[9,13,27,32],Rt=f&&"CompositionEvent"in window,Pn=null;f&&"documentMode"in document&&(Pn=document.documentMode);var En=f&&"TextEvent"in window&&!Pn,qi=f&&(!Rt||Pn&&8<Pn&&11>=Pn),Oo=" ",Yp=!1;function Xp(n,o){switch(n){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Co=!1;function KE(n,o){switch(n){case"compositionend":return Zp(o);case"keypress":return o.which!==32?null:(Yp=!0,Oo);case"textInput":return n=o.data,n===Oo&&Yp?null:n;default:return null}}function GE(n,o){if(Co)return n==="compositionend"||!Rt&&Xp(n,o)?(n=Ls(),ln=To=_n=null,Co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qi&&o.locale!=="ko"?null:o.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!WE[n.type]:o==="textarea"}function em(n,o,l,h){nr(h),o=hl(o,"onChange"),0<o.length&&(l=new So("onChange","change",null,l,h),n.push({event:l,listeners:o}))}var qs=null,js=null;function QE(n){vm(n,0)}function ll(n){var o=Mo(n);if(De(o))return n}function YE(n,o){if(n==="change")return o}var tm=!1;if(f){var dc;if(f){var pc="oninput"in document;if(!pc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),pc=typeof nm.oninput=="function"}dc=pc}else dc=!1;tm=dc&&(!document.documentMode||9<document.documentMode)}function rm(){qs&&(qs.detachEvent("onpropertychange",im),js=qs=null)}function im(n){if(n.propertyName==="value"&&ll(js)){var o=[];em(o,js,n,uo(n)),bs(QE,o)}}function XE(n,o,l){n==="focusin"?(rm(),qs=o,js=l,qs.attachEvent("onpropertychange",im)):n==="focusout"&&rm()}function ZE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ll(js)}function JE(n,o){if(n==="click")return ll(o)}function ew(n,o){if(n==="input"||n==="change")return ll(o)}function tw(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Kn=typeof Object.is=="function"?Object.is:tw;function Fs(n,o){if(Kn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var E=l[h];if(!p.call(o,E)||!Kn(n[E],o[E]))return!1}return!0}function om(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sm(n,o){var l=om(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=o&&h>=o)return{node:l,offset:o-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=om(l)}}function am(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?am(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function lm(){for(var n=window,o=qe();o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=qe(n.document)}return o}function mc(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function nw(n){var o=lm(),l=n.focusedElem,h=n.selectionRange;if(o!==l&&l&&l.ownerDocument&&am(l.ownerDocument.documentElement,l)){if(h!==null&&mc(l)){if(o=h.start,n=h.end,n===void 0&&(n=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(n,l.value.length);else if(n=(o=l.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var E=l.textContent.length,P=Math.min(h.start,E);h=h.end===void 0?P:Math.min(h.end,E),!n.extend&&P>h&&(E=h,h=P,P=E),E=sm(l,P);var F=sm(l,h);E&&F&&(n.rangeCount!==1||n.anchorNode!==E.node||n.anchorOffset!==E.offset||n.focusNode!==F.node||n.focusOffset!==F.offset)&&(o=o.createRange(),o.setStart(E.node,E.offset),n.removeAllRanges(),P>h?(n.addRange(o),n.extend(F.node,F.offset)):(o.setEnd(F.node,F.offset),n.addRange(o)))}}for(o=[],n=l;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)n=o[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rw=f&&"documentMode"in document&&11>=document.documentMode,xo=null,gc=null,Bs=null,yc=!1;function um(n,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yc||xo==null||xo!==qe(h)||(h=xo,"selectionStart"in h&&mc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Bs&&Fs(Bs,h)||(Bs=h,h=hl(gc,"onSelect"),0<h.length&&(o=new So("onSelect","select",null,o,l),n.push({event:o,listeners:h}),o.target=xo)))}function ul(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var No={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},vc={},cm={};f&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function cl(n){if(vc[n])return vc[n];if(!No[n])return n;var o=No[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in cm)return vc[n]=o[l];return n}var fm=cl("animationend"),hm=cl("animationiteration"),dm=cl("animationstart"),pm=cl("transitionend"),mm=new Map,gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(n,o){mm.set(n,o),a(o,[n])}for(var _c=0;_c<gm.length;_c++){var Ec=gm[_c],iw=Ec.toLowerCase(),ow=Ec[0].toUpperCase()+Ec.slice(1);Yr(iw,"on"+ow)}Yr(fm,"onAnimationEnd"),Yr(hm,"onAnimationIteration"),Yr(dm,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(pm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function ym(n,o,l){var h=n.type||"unknown-event";n.currentTarget=l,Fa(h,o,void 0,n),n.currentTarget=null}function vm(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],E=h.event;h=h.listeners;e:{var P=void 0;if(o)for(var F=h.length-1;0<=F;F--){var W=h[F],X=W.instance,ue=W.currentTarget;if(W=W.listener,X!==P&&E.isPropagationStopped())break e;ym(E,W,ue),P=X}else for(F=0;F<h.length;F++){if(W=h[F],X=W.instance,ue=W.currentTarget,W=W.listener,X!==P&&E.isPropagationStopped())break e;ym(E,W,ue),P=X}}}if(qn)throw n=Is,qn=!1,Is=null,n}function dt(n,o){var l=o[kc];l===void 0&&(l=o[kc]=new Set);var h=n+"__bubble";l.has(h)||(_m(o,n,2,!1),l.add(h))}function wc(n,o,l){var h=0;o&&(h|=4),_m(l,n,h,o)}var fl="_reactListening"+Math.random().toString(36).slice(2);function zs(n){if(!n[fl]){n[fl]=!0,i.forEach(function(l){l!=="selectionchange"&&(sw.has(l)||wc(l,!1,n),wc(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[fl]||(o[fl]=!0,wc("selectionchange",!1,o))}}function _m(n,o,l,h){switch(Ns(o)){case 1:var E=gt;break;case 4:E=fc;break;default:E=xs}l=E.bind(null,o,l,n),E=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(E=!0),h?E!==void 0?n.addEventListener(o,l,{capture:!0,passive:E}):n.addEventListener(o,l,!0):E!==void 0?n.addEventListener(o,l,{passive:E}):n.addEventListener(o,l,!1)}function Tc(n,o,l,h,E){var P=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var F=h.tag;if(F===3||F===4){var W=h.stateNode.containerInfo;if(W===E||W.nodeType===8&&W.parentNode===E)break;if(F===4)for(F=h.return;F!==null;){var X=F.tag;if((X===3||X===4)&&(X=F.stateNode.containerInfo,X===E||X.nodeType===8&&X.parentNode===E))return;F=F.return}for(;W!==null;){if(F=ji(W),F===null)return;if(X=F.tag,X===5||X===6){h=P=F;continue e}W=W.parentNode}}h=h.return}bs(function(){var ue=P,_e=uo(l),Ee=[];e:{var ve=mm.get(n);if(ve!==void 0){var Re=So,Ce=n;switch(n){case"keypress":if(Ao(l)===0)break e;case"keydown":case"keyup":Re=k;break;case"focusin":Ce="focus",Re=ko;break;case"focusout":Ce="blur",Re=ko;break;case"beforeblur":case"afterblur":Re=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=ce;break;case fm:case hm:case dm:Re=Sr;break;case pm:Re=lt;break;case"scroll":Re=hc;break;case"wheel":Re=Ze;break;case"copy":case"cut":case"paste":Re=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=U}var xe=(o&4)!==0,St=!xe&&n==="scroll",ae=xe?ve!==null?ve+"Capture":null:ve;xe=[];for(var ee=ue,le;ee!==null;){le=ee;var we=le.stateNode;if(le.tag===5&&we!==null&&(le=we,ae!==null&&(we=At(ee,ae),we!=null&&xe.push($s(ee,we,le)))),St)break;ee=ee.return}0<xe.length&&(ve=new Re(ve,Ce,null,l,_e),Ee.push({event:ve,listeners:xe}))}}if(!(o&7)){e:{if(ve=n==="mouseover"||n==="pointerover",Re=n==="mouseout"||n==="pointerout",ve&&l!==Ii&&(Ce=l.relatedTarget||l.fromElement)&&(ji(Ce)||Ce[br]))break e;if((Re||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Ce=l.relatedTarget||l.toElement,Re=ue,Ce=Ce?ji(Ce):null,Ce!==null&&(St=jn(Ce),Ce!==St||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Re=null,Ce=ue),Re!==Ce)){if(xe=Io,we="onMouseLeave",ae="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(xe=U,we="onPointerLeave",ae="onPointerEnter",ee="pointer"),St=Re==null?ve:Mo(Re),le=Ce==null?ve:Mo(Ce),ve=new xe(we,ee+"leave",Re,l,_e),ve.target=St,ve.relatedTarget=le,we=null,ji(_e)===ue&&(xe=new xe(ae,ee+"enter",Ce,l,_e),xe.target=le,xe.relatedTarget=St,we=xe),St=we,Re&&Ce)t:{for(xe=Re,ae=Ce,ee=0,le=xe;le;le=Lo(le))ee++;for(le=0,we=ae;we;we=Lo(we))le++;for(;0<ee-le;)xe=Lo(xe),ee--;for(;0<le-ee;)ae=Lo(ae),le--;for(;ee--;){if(xe===ae||ae!==null&&xe===ae.alternate)break t;xe=Lo(xe),ae=Lo(ae)}xe=null}else xe=null;Re!==null&&Em(Ee,ve,Re,xe,!1),Ce!==null&&St!==null&&Em(Ee,St,Ce,xe,!0)}}e:{if(ve=ue?Mo(ue):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var Ne=YE;else if(Jp(ve))if(tm)Ne=ew;else{Ne=ZE;var Me=XE}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ne=JE);if(Ne&&(Ne=Ne(n,ue))){em(Ee,Ne,l,_e);break e}Me&&Me(n,ve,ue),n==="focusout"&&(Me=ve._wrapperState)&&Me.controlled&&ve.type==="number"&&de(ve,"number",ve.value)}switch(Me=ue?Mo(ue):window,n){case"focusin":(Jp(Me)||Me.contentEditable==="true")&&(xo=Me,gc=ue,Bs=null);break;case"focusout":Bs=gc=xo=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,um(Ee,l,_e);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":um(Ee,l,_e)}var Ve;if(Rt)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Co?Xp(n,l)&&(je="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(qi&&l.locale!=="ko"&&(Co||je!=="onCompositionStart"?je==="onCompositionEnd"&&Co&&(Ve=Ls()):(_n=_e,To="value"in _n?_n.value:_n.textContent,Co=!0)),Me=hl(ue,je),0<Me.length&&(je=new Vs(je,n,null,l,_e),Ee.push({event:je,listeners:Me}),Ve?je.data=Ve:(Ve=Zp(l),Ve!==null&&(je.data=Ve)))),(Ve=En?KE(n,l):GE(n,l))&&(ue=hl(ue,"onBeforeInput"),0<ue.length&&(_e=new Vs("onBeforeInput","beforeinput",null,l,_e),Ee.push({event:_e,listeners:ue}),_e.data=Ve))}vm(Ee,o)})}function $s(n,o,l){return{instance:n,listener:o,currentTarget:l}}function hl(n,o){for(var l=o+"Capture",h=[];n!==null;){var E=n,P=E.stateNode;E.tag===5&&P!==null&&(E=P,P=At(n,l),P!=null&&h.unshift($s(n,P,E)),P=At(n,o),P!=null&&h.push($s(n,P,E))),n=n.return}return h}function Lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Em(n,o,l,h,E){for(var P=o._reactName,F=[];l!==null&&l!==h;){var W=l,X=W.alternate,ue=W.stateNode;if(X!==null&&X===h)break;W.tag===5&&ue!==null&&(W=ue,E?(X=At(l,P),X!=null&&F.unshift($s(l,X,W))):E||(X=At(l,P),X!=null&&F.push($s(l,X,W)))),l=l.return}F.length!==0&&n.push({event:o,listeners:F})}var aw=/\r\n?/g,lw=/\u0000|\uFFFD/g;function wm(n){return(typeof n=="string"?n:""+n).replace(aw,`
`).replace(lw,"")}function dl(n,o,l){if(o=wm(o),wm(n)!==o&&l)throw Error(t(425))}function pl(){}var Ac=null,Sc=null;function bc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,uw=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(n){return Tm.resolve(null).then(n).catch(fw)}:Ic;function fw(n){setTimeout(function(){throw n})}function Rc(n,o){var l=o,h=0;do{var E=l.nextSibling;if(n.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(h===0){n.removeChild(E),$n(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=E}while(l);$n(o)}function Xr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Am(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return n;o--}else l==="/$"&&o++}n=n.previousSibling}return null}var Do=Math.random().toString(36).slice(2),lr="__reactFiber$"+Do,Hs="__reactProps$"+Do,br="__reactContainer$"+Do,kc="__reactEvents$"+Do,hw="__reactListeners$"+Do,dw="__reactHandles$"+Do;function ji(n){var o=n[lr];if(o)return o;for(var l=n.parentNode;l;){if(o=l[br]||l[lr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=Am(n);n!==null;){if(l=n[lr])return l;n=Am(n)}return o}n=l,l=n.parentNode}return null}function Ks(n){return n=n[lr]||n[br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ml(n){return n[Hs]||null}var Pc=[],Vo=-1;function Zr(n){return{current:n}}function pt(n){0>Vo||(n.current=Pc[Vo],Pc[Vo]=null,Vo--)}function ft(n,o){Vo++,Pc[Vo]=n.current,n.current=o}var Jr={},Qt=Zr(Jr),un=Zr(!1),Fi=Jr;function qo(n,o){var l=n.type.contextTypes;if(!l)return Jr;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var E={},P;for(P in l)E[P]=o[P];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=E),E}function cn(n){return n=n.childContextTypes,n!=null}function gl(){pt(un),pt(Qt)}function Sm(n,o,l){if(Qt.current!==Jr)throw Error(t(168));ft(Qt,o),ft(un,l)}function bm(n,o,l){var h=n.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var E in h)if(!(E in o))throw Error(t(108,Y(n)||"Unknown",E));return H({},l,h)}function yl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Fi=Qt.current,ft(Qt,n),ft(un,un.current),!0}function Im(n,o,l){var h=n.stateNode;if(!h)throw Error(t(169));l?(n=bm(n,o,Fi),h.__reactInternalMemoizedMergedChildContext=n,pt(un),pt(Qt),ft(Qt,n)):pt(un),ft(un,l)}var Ir=null,vl=!1,Oc=!1;function Rm(n){Ir===null?Ir=[n]:Ir.push(n)}function pw(n){vl=!0,Rm(n)}function ei(){if(!Oc&&Ir!==null){Oc=!0;var n=0,o=Ye;try{var l=Ir;for(Ye=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Ir=null,vl=!1}catch(E){throw Ir!==null&&(Ir=Ir.slice(n+1)),yo(Ci,ei),E}finally{Ye=o,Oc=!1}}return null}var jo=[],Fo=0,_l=null,El=0,On=[],Cn=0,Bi=null,Rr=1,kr="";function Ui(n,o){jo[Fo++]=El,jo[Fo++]=_l,_l=n,El=o}function km(n,o,l){On[Cn++]=Rr,On[Cn++]=kr,On[Cn++]=Bi,Bi=n;var h=Rr;n=kr;var E=32-nn(h)-1;h&=~(1<<E),l+=1;var P=32-nn(o)+E;if(30<P){var F=E-E%5;P=(h&(1<<F)-1).toString(32),h>>=F,E-=F,Rr=1<<32-nn(o)+E|l<<E|h,kr=P+n}else Rr=1<<P|l<<E|h,kr=n}function Cc(n){n.return!==null&&(Ui(n,1),km(n,1,0))}function xc(n){for(;n===_l;)_l=jo[--Fo],jo[Fo]=null,El=jo[--Fo],jo[Fo]=null;for(;n===Bi;)Bi=On[--Cn],On[Cn]=null,kr=On[--Cn],On[Cn]=null,Rr=On[--Cn],On[Cn]=null}var wn=null,Tn=null,yt=!1,Gn=null;function Pm(n,o){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=n,o=n.deletions,o===null?(n.deletions=[l],n.flags|=16):o.push(l)}function Om(n,o){switch(n.tag){case 5:var l=n.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,wn=n,Tn=Xr(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,wn=n,Tn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Bi!==null?{id:Rr,overflow:kr}:null,n.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=o,l.return=n,n.child=l,wn=n,Tn=null,!0):!1;default:return!1}}function Nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Lc(n){if(yt){var o=Tn;if(o){var l=o;if(!Om(n,o)){if(Nc(n))throw Error(t(418));o=Xr(l.nextSibling);var h=wn;o&&Om(n,o)?Pm(h,l):(n.flags=n.flags&-4097|2,yt=!1,wn=n)}}else{if(Nc(n))throw Error(t(418));n.flags=n.flags&-4097|2,yt=!1,wn=n}}}function Cm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wn=n}function wl(n){if(n!==wn)return!1;if(!yt)return Cm(n),yt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!bc(n.type,n.memoizedProps)),o&&(o=Tn)){if(Nc(n))throw xm(),Error(t(418));for(;o;)Pm(n,o),o=Xr(o.nextSibling)}if(Cm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(o===0){Tn=Xr(n.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}n=n.nextSibling}Tn=null}}else Tn=wn?Xr(n.stateNode.nextSibling):null;return!0}function xm(){for(var n=Tn;n;)n=Xr(n.nextSibling)}function Bo(){Tn=wn=null,yt=!1}function Dc(n){Gn===null?Gn=[n]:Gn.push(n)}var mw=b.ReactCurrentBatchConfig;function Gs(n,o,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,n));var E=h,P=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===P?o.ref:(o=function(F){var W=E.refs;F===null?delete W[P]:W[P]=F},o._stringRef=P,o)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function Tl(n,o){throw n=Object.prototype.toString.call(o),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function Nm(n){var o=n._init;return o(n._payload)}function Lm(n){function o(ae,ee){if(n){var le=ae.deletions;le===null?(ae.deletions=[ee],ae.flags|=16):le.push(ee)}}function l(ae,ee){if(!n)return null;for(;ee!==null;)o(ae,ee),ee=ee.sibling;return null}function h(ae,ee){for(ae=new Map;ee!==null;)ee.key!==null?ae.set(ee.key,ee):ae.set(ee.index,ee),ee=ee.sibling;return ae}function E(ae,ee){return ae=li(ae,ee),ae.index=0,ae.sibling=null,ae}function P(ae,ee,le){return ae.index=le,n?(le=ae.alternate,le!==null?(le=le.index,le<ee?(ae.flags|=2,ee):le):(ae.flags|=2,ee)):(ae.flags|=1048576,ee)}function F(ae){return n&&ae.alternate===null&&(ae.flags|=2),ae}function W(ae,ee,le,we){return ee===null||ee.tag!==6?(ee=Rf(le,ae.mode,we),ee.return=ae,ee):(ee=E(ee,le),ee.return=ae,ee)}function X(ae,ee,le,we){var Ne=le.type;return Ne===C?_e(ae,ee,le.props.children,we,le.key):ee!==null&&(ee.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&Nm(Ne)===ee.type)?(we=E(ee,le.props),we.ref=Gs(ae,ee,le),we.return=ae,we):(we=Kl(le.type,le.key,le.props,null,ae.mode,we),we.ref=Gs(ae,ee,le),we.return=ae,we)}function ue(ae,ee,le,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=kf(le,ae.mode,we),ee.return=ae,ee):(ee=E(ee,le.children||[]),ee.return=ae,ee)}function _e(ae,ee,le,we,Ne){return ee===null||ee.tag!==7?(ee=Yi(le,ae.mode,we,Ne),ee.return=ae,ee):(ee=E(ee,le),ee.return=ae,ee)}function Ee(ae,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Rf(""+ee,ae.mode,le),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:return le=Kl(ee.type,ee.key,ee.props,null,ae.mode,le),le.ref=Gs(ae,null,ee),le.return=ae,le;case j:return ee=kf(ee,ae.mode,le),ee.return=ae,ee;case ne:var we=ee._init;return Ee(ae,we(ee._payload),le)}if(Te(ee)||Q(ee))return ee=Yi(ee,ae.mode,le,null),ee.return=ae,ee;Tl(ae,ee)}return null}function ve(ae,ee,le,we){var Ne=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ne!==null?null:W(ae,ee,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return le.key===Ne?X(ae,ee,le,we):null;case j:return le.key===Ne?ue(ae,ee,le,we):null;case ne:return Ne=le._init,ve(ae,ee,Ne(le._payload),we)}if(Te(le)||Q(le))return Ne!==null?null:_e(ae,ee,le,we,null);Tl(ae,le)}return null}function Re(ae,ee,le,we,Ne){if(typeof we=="string"&&we!==""||typeof we=="number")return ae=ae.get(le)||null,W(ee,ae,""+we,Ne);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case M:return ae=ae.get(we.key===null?le:we.key)||null,X(ee,ae,we,Ne);case j:return ae=ae.get(we.key===null?le:we.key)||null,ue(ee,ae,we,Ne);case ne:var Me=we._init;return Re(ae,ee,le,Me(we._payload),Ne)}if(Te(we)||Q(we))return ae=ae.get(le)||null,_e(ee,ae,we,Ne,null);Tl(ee,we)}return null}function Ce(ae,ee,le,we){for(var Ne=null,Me=null,Ve=ee,je=ee=0,jt=null;Ve!==null&&je<le.length;je++){Ve.index>je?(jt=Ve,Ve=null):jt=Ve.sibling;var it=ve(ae,Ve,le[je],we);if(it===null){Ve===null&&(Ve=jt);break}n&&Ve&&it.alternate===null&&o(ae,Ve),ee=P(it,ee,je),Me===null?Ne=it:Me.sibling=it,Me=it,Ve=jt}if(je===le.length)return l(ae,Ve),yt&&Ui(ae,je),Ne;if(Ve===null){for(;je<le.length;je++)Ve=Ee(ae,le[je],we),Ve!==null&&(ee=P(Ve,ee,je),Me===null?Ne=Ve:Me.sibling=Ve,Me=Ve);return yt&&Ui(ae,je),Ne}for(Ve=h(ae,Ve);je<le.length;je++)jt=Re(Ve,ae,je,le[je],we),jt!==null&&(n&&jt.alternate!==null&&Ve.delete(jt.key===null?je:jt.key),ee=P(jt,ee,je),Me===null?Ne=jt:Me.sibling=jt,Me=jt);return n&&Ve.forEach(function(ui){return o(ae,ui)}),yt&&Ui(ae,je),Ne}function xe(ae,ee,le,we){var Ne=Q(le);if(typeof Ne!="function")throw Error(t(150));if(le=Ne.call(le),le==null)throw Error(t(151));for(var Me=Ne=null,Ve=ee,je=ee=0,jt=null,it=le.next();Ve!==null&&!it.done;je++,it=le.next()){Ve.index>je?(jt=Ve,Ve=null):jt=Ve.sibling;var ui=ve(ae,Ve,it.value,we);if(ui===null){Ve===null&&(Ve=jt);break}n&&Ve&&ui.alternate===null&&o(ae,Ve),ee=P(ui,ee,je),Me===null?Ne=ui:Me.sibling=ui,Me=ui,Ve=jt}if(it.done)return l(ae,Ve),yt&&Ui(ae,je),Ne;if(Ve===null){for(;!it.done;je++,it=le.next())it=Ee(ae,it.value,we),it!==null&&(ee=P(it,ee,je),Me===null?Ne=it:Me.sibling=it,Me=it);return yt&&Ui(ae,je),Ne}for(Ve=h(ae,Ve);!it.done;je++,it=le.next())it=Re(Ve,ae,je,it.value,we),it!==null&&(n&&it.alternate!==null&&Ve.delete(it.key===null?je:it.key),ee=P(it,ee,je),Me===null?Ne=it:Me.sibling=it,Me=it);return n&&Ve.forEach(function(Gw){return o(ae,Gw)}),yt&&Ui(ae,je),Ne}function St(ae,ee,le,we){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case M:e:{for(var Ne=le.key,Me=ee;Me!==null;){if(Me.key===Ne){if(Ne=le.type,Ne===C){if(Me.tag===7){l(ae,Me.sibling),ee=E(Me,le.props.children),ee.return=ae,ae=ee;break e}}else if(Me.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&Nm(Ne)===Me.type){l(ae,Me.sibling),ee=E(Me,le.props),ee.ref=Gs(ae,Me,le),ee.return=ae,ae=ee;break e}l(ae,Me);break}else o(ae,Me);Me=Me.sibling}le.type===C?(ee=Yi(le.props.children,ae.mode,we,le.key),ee.return=ae,ae=ee):(we=Kl(le.type,le.key,le.props,null,ae.mode,we),we.ref=Gs(ae,ee,le),we.return=ae,ae=we)}return F(ae);case j:e:{for(Me=le.key;ee!==null;){if(ee.key===Me)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){l(ae,ee.sibling),ee=E(ee,le.children||[]),ee.return=ae,ae=ee;break e}else{l(ae,ee);break}else o(ae,ee);ee=ee.sibling}ee=kf(le,ae.mode,we),ee.return=ae,ae=ee}return F(ae);case ne:return Me=le._init,St(ae,ee,Me(le._payload),we)}if(Te(le))return Ce(ae,ee,le,we);if(Q(le))return xe(ae,ee,le,we);Tl(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ee!==null&&ee.tag===6?(l(ae,ee.sibling),ee=E(ee,le),ee.return=ae,ae=ee):(l(ae,ee),ee=Rf(le,ae.mode,we),ee.return=ae,ae=ee),F(ae)):l(ae,ee)}return St}var Uo=Lm(!0),Dm=Lm(!1),Al=Zr(null),Sl=null,zo=null,Mc=null;function Vc(){Mc=zo=Sl=null}function qc(n){var o=Al.current;pt(Al),n._currentValue=o}function jc(n,o,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),n===l)break;n=n.return}}function $o(n,o){Sl=n,Mc=zo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&o&&(fn=!0),n.firstContext=null)}function xn(n){var o=n._currentValue;if(Mc!==n)if(n={context:n,memoizedValue:o,next:null},zo===null){if(Sl===null)throw Error(t(308));zo=n,Sl.dependencies={lanes:0,firstContext:n}}else zo=zo.next=n;return o}var zi=null;function Fc(n){zi===null?zi=[n]:zi.push(n)}function Mm(n,o,l,h){var E=o.interleaved;return E===null?(l.next=l,Fc(o)):(l.next=E.next,E.next=l),o.interleaved=l,Pr(n,h)}function Pr(n,o){n.lanes|=o;var l=n.alternate;for(l!==null&&(l.lanes|=o),l=n,n=n.return;n!==null;)n.childLanes|=o,l=n.alternate,l!==null&&(l.childLanes|=o),l=n,n=n.return;return l.tag===3?l.stateNode:null}var ti=!1;function Bc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Or(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function ni(n,o,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,nt&2){var E=h.pending;return E===null?o.next=o:(o.next=E.next,E.next=o),h.pending=o,Pr(n,l)}return E=h.interleaved,E===null?(o.next=o,Fc(h)):(o.next=E.next,E.next=o),h.interleaved=o,Pr(n,l)}function bl(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=n.pendingLanes,l|=h,o.lanes=l,Hr(n,l)}}function qm(n,o){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var E=null,P=null;if(l=l.firstBaseUpdate,l!==null){do{var F={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};P===null?E=P=F:P=P.next=F,l=l.next}while(l!==null);P===null?E=P=o:P=P.next=o}else E=P=o;l={baseState:h.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}function Il(n,o,l,h){var E=n.updateQueue;ti=!1;var P=E.firstBaseUpdate,F=E.lastBaseUpdate,W=E.shared.pending;if(W!==null){E.shared.pending=null;var X=W,ue=X.next;X.next=null,F===null?P=ue:F.next=ue,F=X;var _e=n.alternate;_e!==null&&(_e=_e.updateQueue,W=_e.lastBaseUpdate,W!==F&&(W===null?_e.firstBaseUpdate=ue:W.next=ue,_e.lastBaseUpdate=X))}if(P!==null){var Ee=E.baseState;F=0,_e=ue=X=null,W=P;do{var ve=W.lane,Re=W.eventTime;if((h&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Re,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ce=n,xe=W;switch(ve=o,Re=l,xe.tag){case 1:if(Ce=xe.payload,typeof Ce=="function"){Ee=Ce.call(Re,Ee,ve);break e}Ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=xe.payload,ve=typeof Ce=="function"?Ce.call(Re,Ee,ve):Ce,ve==null)break e;Ee=H({},Ee,ve);break e;case 2:ti=!0}}W.callback!==null&&W.lane!==0&&(n.flags|=64,ve=E.effects,ve===null?E.effects=[W]:ve.push(W))}else Re={eventTime:Re,lane:ve,tag:W.tag,payload:W.payload,callback:W.callback,next:null},_e===null?(ue=_e=Re,X=Ee):_e=_e.next=Re,F|=ve;if(W=W.next,W===null){if(W=E.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,E.lastBaseUpdate=ve,E.shared.pending=null}}while(!0);if(_e===null&&(X=Ee),E.baseState=X,E.firstBaseUpdate=ue,E.lastBaseUpdate=_e,o=E.shared.interleaved,o!==null){E=o;do F|=E.lane,E=E.next;while(E!==o)}else P===null&&(E.shared.lanes=0);Ki|=F,n.lanes=F,n.memoizedState=Ee}}function jm(n,o,l){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var h=n[o],E=h.callback;if(E!==null){if(h.callback=null,h=l,typeof E!="function")throw Error(t(191,E));E.call(h)}}}var Ws={},ur=Zr(Ws),Qs=Zr(Ws),Ys=Zr(Ws);function $i(n){if(n===Ws)throw Error(t(174));return n}function Uc(n,o){switch(ft(Ys,o),ft(Qs,n),ft(ur,Ws),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:st(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=st(o,n)}pt(ur),ft(ur,o)}function Ho(){pt(ur),pt(Qs),pt(Ys)}function Fm(n){$i(Ys.current);var o=$i(ur.current),l=st(o,n.type);o!==l&&(ft(Qs,n),ft(ur,l))}function zc(n){Qs.current===n&&(pt(ur),pt(Qs))}var vt=Zr(0);function Rl(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $c=[];function Hc(){for(var n=0;n<$c.length;n++)$c[n]._workInProgressVersionPrimary=null;$c.length=0}var kl=b.ReactCurrentDispatcher,Kc=b.ReactCurrentBatchConfig,Hi=0,_t=null,xt=null,Vt=null,Pl=!1,Xs=!1,Zs=0,gw=0;function Yt(){throw Error(t(321))}function Gc(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!Kn(n[l],o[l]))return!1;return!0}function Wc(n,o,l,h,E,P){if(Hi=P,_t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,kl.current=n===null||n.memoizedState===null?Ew:ww,n=l(h,E),Xs){P=0;do{if(Xs=!1,Zs=0,25<=P)throw Error(t(301));P+=1,Vt=xt=null,o.updateQueue=null,kl.current=Tw,n=l(h,E)}while(Xs)}if(kl.current=xl,o=xt!==null&&xt.next!==null,Hi=0,Vt=xt=_t=null,Pl=!1,o)throw Error(t(300));return n}function Qc(){var n=Zs!==0;return Zs=0,n}function cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Nn(){if(xt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var o=Vt===null?_t.memoizedState:Vt.next;if(o!==null)Vt=o,xt=n;else{if(n===null)throw Error(t(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Vt===null?_t.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function Js(n,o){return typeof o=="function"?o(n):o}function Yc(n){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=xt,E=h.baseQueue,P=l.pending;if(P!==null){if(E!==null){var F=E.next;E.next=P.next,P.next=F}h.baseQueue=E=P,l.pending=null}if(E!==null){P=E.next,h=h.baseState;var W=F=null,X=null,ue=P;do{var _e=ue.lane;if((Hi&_e)===_e)X!==null&&(X=X.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),h=ue.hasEagerState?ue.eagerState:n(h,ue.action);else{var Ee={lane:_e,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};X===null?(W=X=Ee,F=h):X=X.next=Ee,_t.lanes|=_e,Ki|=_e}ue=ue.next}while(ue!==null&&ue!==P);X===null?F=h:X.next=W,Kn(h,o.memoizedState)||(fn=!0),o.memoizedState=h,o.baseState=F,o.baseQueue=X,l.lastRenderedState=h}if(n=l.interleaved,n!==null){E=n;do P=E.lane,_t.lanes|=P,Ki|=P,E=E.next;while(E!==n)}else E===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Xc(n){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=l.dispatch,E=l.pending,P=o.memoizedState;if(E!==null){l.pending=null;var F=E=E.next;do P=n(P,F.action),F=F.next;while(F!==E);Kn(P,o.memoizedState)||(fn=!0),o.memoizedState=P,o.baseQueue===null&&(o.baseState=P),l.lastRenderedState=P}return[P,h]}function Bm(){}function Um(n,o){var l=_t,h=Nn(),E=o(),P=!Kn(h.memoizedState,E);if(P&&(h.memoizedState=E,fn=!0),h=h.queue,Zc(Hm.bind(null,l,h,n),[n]),h.getSnapshot!==o||P||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ea(9,$m.bind(null,l,h,E,o),void 0,null),qt===null)throw Error(t(349));Hi&30||zm(l,o,E)}return E}function zm(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function $m(n,o,l,h){o.value=l,o.getSnapshot=h,Km(o)&&Gm(n)}function Hm(n,o,l){return l(function(){Km(o)&&Gm(n)})}function Km(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!Kn(n,l)}catch{return!0}}function Gm(n){var o=Pr(n,1);o!==null&&Xn(o,n,1,-1)}function Wm(n){var o=cr();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:n},o.queue=n,n=n.dispatch=_w.bind(null,_t,n),[o.memoizedState,n]}function ea(n,o,l,h){return n={tag:n,create:o,destroy:l,deps:h,next:null},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.lastEffect=n.next=n):(l=o.lastEffect,l===null?o.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,o.lastEffect=n)),n}function Qm(){return Nn().memoizedState}function Ol(n,o,l,h){var E=cr();_t.flags|=n,E.memoizedState=ea(1|o,l,void 0,h===void 0?null:h)}function Cl(n,o,l,h){var E=Nn();h=h===void 0?null:h;var P=void 0;if(xt!==null){var F=xt.memoizedState;if(P=F.destroy,h!==null&&Gc(h,F.deps)){E.memoizedState=ea(o,l,P,h);return}}_t.flags|=n,E.memoizedState=ea(1|o,l,P,h)}function Ym(n,o){return Ol(8390656,8,n,o)}function Zc(n,o){return Cl(2048,8,n,o)}function Xm(n,o){return Cl(4,2,n,o)}function Zm(n,o){return Cl(4,4,n,o)}function Jm(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function eg(n,o,l){return l=l!=null?l.concat([n]):null,Cl(4,4,Jm.bind(null,o,n),l)}function Jc(){}function tg(n,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Gc(o,h[1])?h[0]:(l.memoizedState=[n,o],n)}function ng(n,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Gc(o,h[1])?h[0]:(n=n(),l.memoizedState=[n,o],n)}function rg(n,o,l){return Hi&21?(Kn(l,o)||(l=Li(),_t.lanes|=l,Ki|=l,n.baseState=!0),o):(n.baseState&&(n.baseState=!1,fn=!0),n.memoizedState=l)}function yw(n,o){var l=Ye;Ye=l!==0&&4>l?l:4,n(!0);var h=Kc.transition;Kc.transition={};try{n(!1),o()}finally{Ye=l,Kc.transition=h}}function ig(){return Nn().memoizedState}function vw(n,o,l){var h=si(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},og(n))sg(o,l);else if(l=Mm(n,o,l,h),l!==null){var E=sn();Xn(l,n,h,E),ag(l,o,h)}}function _w(n,o,l){var h=si(n),E={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(og(n))sg(o,E);else{var P=n.alternate;if(n.lanes===0&&(P===null||P.lanes===0)&&(P=o.lastRenderedReducer,P!==null))try{var F=o.lastRenderedState,W=P(F,l);if(E.hasEagerState=!0,E.eagerState=W,Kn(W,F)){var X=o.interleaved;X===null?(E.next=E,Fc(o)):(E.next=X.next,X.next=E),o.interleaved=E;return}}catch{}finally{}l=Mm(n,o,E,h),l!==null&&(E=sn(),Xn(l,n,h,E),ag(l,o,h))}}function og(n){var o=n.alternate;return n===_t||o!==null&&o===_t}function sg(n,o){Xs=Pl=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function ag(n,o,l){if(l&4194240){var h=o.lanes;h&=n.pendingLanes,l|=h,o.lanes=l,Hr(n,l)}}var xl={readContext:xn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Ew={readContext:xn,useCallback:function(n,o){return cr().memoizedState=[n,o===void 0?null:o],n},useContext:xn,useEffect:Ym,useImperativeHandle:function(n,o,l){return l=l!=null?l.concat([n]):null,Ol(4194308,4,Jm.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Ol(4194308,4,n,o)},useInsertionEffect:function(n,o){return Ol(4,2,n,o)},useMemo:function(n,o){var l=cr();return o=o===void 0?null:o,n=n(),l.memoizedState=[n,o],n},useReducer:function(n,o,l){var h=cr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},h.queue=n,n=n.dispatch=vw.bind(null,_t,n),[h.memoizedState,n]},useRef:function(n){var o=cr();return n={current:n},o.memoizedState=n},useState:Wm,useDebugValue:Jc,useDeferredValue:function(n){return cr().memoizedState=n},useTransition:function(){var n=Wm(!1),o=n[0];return n=yw.bind(null,n[1]),cr().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,l){var h=_t,E=cr();if(yt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),qt===null)throw Error(t(349));Hi&30||zm(h,o,l)}E.memoizedState=l;var P={value:l,getSnapshot:o};return E.queue=P,Ym(Hm.bind(null,h,P,n),[n]),h.flags|=2048,ea(9,$m.bind(null,h,P,l,o),void 0,null),l},useId:function(){var n=cr(),o=qt.identifierPrefix;if(yt){var l=kr,h=Rr;l=(h&~(1<<32-nn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Zs++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=gw++,o=":"+o+"r"+l.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},ww={readContext:xn,useCallback:tg,useContext:xn,useEffect:Zc,useImperativeHandle:eg,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:ng,useReducer:Yc,useRef:Qm,useState:function(){return Yc(Js)},useDebugValue:Jc,useDeferredValue:function(n){var o=Nn();return rg(o,xt.memoizedState,n)},useTransition:function(){var n=Yc(Js)[0],o=Nn().memoizedState;return[n,o]},useMutableSource:Bm,useSyncExternalStore:Um,useId:ig,unstable_isNewReconciler:!1},Tw={readContext:xn,useCallback:tg,useContext:xn,useEffect:Zc,useImperativeHandle:eg,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:ng,useReducer:Xc,useRef:Qm,useState:function(){return Xc(Js)},useDebugValue:Jc,useDeferredValue:function(n){var o=Nn();return xt===null?o.memoizedState=n:rg(o,xt.memoizedState,n)},useTransition:function(){var n=Xc(Js)[0],o=Nn().memoizedState;return[n,o]},useMutableSource:Bm,useSyncExternalStore:Um,useId:ig,unstable_isNewReconciler:!1};function Wn(n,o){if(n&&n.defaultProps){o=H({},o),n=n.defaultProps;for(var l in n)o[l]===void 0&&(o[l]=n[l]);return o}return o}function ef(n,o,l,h){o=n.memoizedState,l=l(h,o),l=l==null?o:H({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Nl={isMounted:function(n){return(n=n._reactInternals)?jn(n)===n:!1},enqueueSetState:function(n,o,l){n=n._reactInternals;var h=sn(),E=si(n),P=Or(h,E);P.payload=o,l!=null&&(P.callback=l),o=ni(n,P,E),o!==null&&(Xn(o,n,E,h),bl(o,n,E))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var h=sn(),E=si(n),P=Or(h,E);P.tag=1,P.payload=o,l!=null&&(P.callback=l),o=ni(n,P,E),o!==null&&(Xn(o,n,E,h),bl(o,n,E))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=sn(),h=si(n),E=Or(l,h);E.tag=2,o!=null&&(E.callback=o),o=ni(n,E,h),o!==null&&(Xn(o,n,h,l),bl(o,n,h))}};function lg(n,o,l,h,E,P,F){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,P,F):o.prototype&&o.prototype.isPureReactComponent?!Fs(l,h)||!Fs(E,P):!0}function ug(n,o,l){var h=!1,E=Jr,P=o.contextType;return typeof P=="object"&&P!==null?P=xn(P):(E=cn(o)?Fi:Qt.current,h=o.contextTypes,P=(h=h!=null)?qo(n,E):Jr),o=new o(l,P),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nl,n.stateNode=o,o._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=E,n.__reactInternalMemoizedMaskedChildContext=P),o}function cg(n,o,l,h){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==n&&Nl.enqueueReplaceState(o,o.state,null)}function tf(n,o,l,h){var E=n.stateNode;E.props=l,E.state=n.memoizedState,E.refs={},Bc(n);var P=o.contextType;typeof P=="object"&&P!==null?E.context=xn(P):(P=cn(o)?Fi:Qt.current,E.context=qo(n,P)),E.state=n.memoizedState,P=o.getDerivedStateFromProps,typeof P=="function"&&(ef(n,o,P,l),E.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(o=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),o!==E.state&&Nl.enqueueReplaceState(E,E.state,null),Il(n,l,E,h),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308)}function Ko(n,o){try{var l="",h=o;do l+=Z(h),h=h.return;while(h);var E=l}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:n,source:o,stack:E,digest:null}}function nf(n,o,l){return{value:n,source:null,stack:l??null,digest:o??null}}function rf(n,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Aw=typeof WeakMap=="function"?WeakMap:Map;function fg(n,o,l){l=Or(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Fl||(Fl=!0,_f=h),rf(n,o)},l}function hg(n,o,l){l=Or(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var E=o.value;l.payload=function(){return h(E)},l.callback=function(){rf(n,o)}}var P=n.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){rf(n,o),typeof h!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var F=o.stack;this.componentDidCatch(o.value,{componentStack:F!==null?F:""})}),l}function dg(n,o,l){var h=n.pingCache;if(h===null){h=n.pingCache=new Aw;var E=new Set;h.set(o,E)}else E=h.get(o),E===void 0&&(E=new Set,h.set(o,E));E.has(l)||(E.add(l),n=Vw.bind(null,n,o,l),o.then(n,n))}function pg(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function mg(n,o,l,h,E){return n.mode&1?(n.flags|=65536,n.lanes=E,n):(n===o?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Or(-1,1),o.tag=2,ni(l,o,1))),l.lanes|=1),n)}var Sw=b.ReactCurrentOwner,fn=!1;function on(n,o,l,h){o.child=n===null?Dm(o,null,l,h):Uo(o,n.child,l,h)}function gg(n,o,l,h,E){l=l.render;var P=o.ref;return $o(o,E),h=Wc(n,o,l,h,P,E),l=Qc(),n!==null&&!fn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~E,Cr(n,o,E)):(yt&&l&&Cc(o),o.flags|=1,on(n,o,h,E),o.child)}function yg(n,o,l,h,E){if(n===null){var P=l.type;return typeof P=="function"&&!If(P)&&P.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=P,vg(n,o,P,h,E)):(n=Kl(l.type,null,h,o,o.mode,E),n.ref=o.ref,n.return=o,o.child=n)}if(P=n.child,!(n.lanes&E)){var F=P.memoizedProps;if(l=l.compare,l=l!==null?l:Fs,l(F,h)&&n.ref===o.ref)return Cr(n,o,E)}return o.flags|=1,n=li(P,h),n.ref=o.ref,n.return=o,o.child=n}function vg(n,o,l,h,E){if(n!==null){var P=n.memoizedProps;if(Fs(P,h)&&n.ref===o.ref)if(fn=!1,o.pendingProps=h=P,(n.lanes&E)!==0)n.flags&131072&&(fn=!0);else return o.lanes=n.lanes,Cr(n,o,E)}return of(n,o,l,h,E)}function _g(n,o,l){var h=o.pendingProps,E=h.children,P=n!==null?n.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Wo,An),An|=l;else{if(!(l&1073741824))return n=P!==null?P.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,ft(Wo,An),An|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=P!==null?P.baseLanes:l,ft(Wo,An),An|=h}else P!==null?(h=P.baseLanes|l,o.memoizedState=null):h=l,ft(Wo,An),An|=h;return on(n,o,E,l),o.child}function Eg(n,o){var l=o.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function of(n,o,l,h,E){var P=cn(l)?Fi:Qt.current;return P=qo(o,P),$o(o,E),l=Wc(n,o,l,h,P,E),h=Qc(),n!==null&&!fn?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~E,Cr(n,o,E)):(yt&&h&&Cc(o),o.flags|=1,on(n,o,l,E),o.child)}function wg(n,o,l,h,E){if(cn(l)){var P=!0;yl(o)}else P=!1;if($o(o,E),o.stateNode===null)Dl(n,o),ug(o,l,h),tf(o,l,h,E),h=!0;else if(n===null){var F=o.stateNode,W=o.memoizedProps;F.props=W;var X=F.context,ue=l.contextType;typeof ue=="object"&&ue!==null?ue=xn(ue):(ue=cn(l)?Fi:Qt.current,ue=qo(o,ue));var _e=l.getDerivedStateFromProps,Ee=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ee||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==h||X!==ue)&&cg(o,F,h,ue),ti=!1;var ve=o.memoizedState;F.state=ve,Il(o,h,F,E),X=o.memoizedState,W!==h||ve!==X||un.current||ti?(typeof _e=="function"&&(ef(o,l,_e,h),X=o.memoizedState),(W=ti||lg(o,l,W,h,ve,X,ue))?(Ee||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=X),F.props=h,F.state=X,F.context=ue,h=W):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{F=o.stateNode,Vm(n,o),W=o.memoizedProps,ue=o.type===o.elementType?W:Wn(o.type,W),F.props=ue,Ee=o.pendingProps,ve=F.context,X=l.contextType,typeof X=="object"&&X!==null?X=xn(X):(X=cn(l)?Fi:Qt.current,X=qo(o,X));var Re=l.getDerivedStateFromProps;(_e=typeof Re=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(W!==Ee||ve!==X)&&cg(o,F,h,X),ti=!1,ve=o.memoizedState,F.state=ve,Il(o,h,F,E);var Ce=o.memoizedState;W!==Ee||ve!==Ce||un.current||ti?(typeof Re=="function"&&(ef(o,l,Re,h),Ce=o.memoizedState),(ue=ti||lg(o,l,ue,h,ve,Ce,X)||!1)?(_e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(h,Ce,X),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(h,Ce,X)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||W===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ce),F.props=h,F.state=Ce,F.context=X,h=ue):(typeof F.componentDidUpdate!="function"||W===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),h=!1)}return sf(n,o,l,h,P,E)}function sf(n,o,l,h,E,P){Eg(n,o);var F=(o.flags&128)!==0;if(!h&&!F)return E&&Im(o,l,!1),Cr(n,o,P);h=o.stateNode,Sw.current=o;var W=F&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,n!==null&&F?(o.child=Uo(o,n.child,null,P),o.child=Uo(o,null,W,P)):on(n,o,W,P),o.memoizedState=h.state,E&&Im(o,l,!0),o.child}function Tg(n){var o=n.stateNode;o.pendingContext?Sm(n,o.pendingContext,o.pendingContext!==o.context):o.context&&Sm(n,o.context,!1),Uc(n,o.containerInfo)}function Ag(n,o,l,h,E){return Bo(),Dc(E),o.flags|=256,on(n,o,l,h),o.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Sg(n,o,l){var h=o.pendingProps,E=vt.current,P=!1,F=(o.flags&128)!==0,W;if((W=F)||(W=n!==null&&n.memoizedState===null?!1:(E&2)!==0),W?(P=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(E|=1),ft(vt,E&1),n===null)return Lc(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(o.mode&1?n.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(F=h.children,n=h.fallback,P?(h=o.mode,P=o.child,F={mode:"hidden",children:F},!(h&1)&&P!==null?(P.childLanes=0,P.pendingProps=F):P=Gl(F,h,0,null),n=Yi(n,h,l,null),P.return=o,n.return=o,P.sibling=n,o.child=P,o.child.memoizedState=lf(l),o.memoizedState=af,n):uf(o,F));if(E=n.memoizedState,E!==null&&(W=E.dehydrated,W!==null))return bw(n,o,F,h,W,E,l);if(P){P=h.fallback,F=o.mode,E=n.child,W=E.sibling;var X={mode:"hidden",children:h.children};return!(F&1)&&o.child!==E?(h=o.child,h.childLanes=0,h.pendingProps=X,o.deletions=null):(h=li(E,X),h.subtreeFlags=E.subtreeFlags&14680064),W!==null?P=li(W,P):(P=Yi(P,F,l,null),P.flags|=2),P.return=o,h.return=o,h.sibling=P,o.child=h,h=P,P=o.child,F=n.child.memoizedState,F=F===null?lf(l):{baseLanes:F.baseLanes|l,cachePool:null,transitions:F.transitions},P.memoizedState=F,P.childLanes=n.childLanes&~l,o.memoizedState=af,h}return P=n.child,n=P.sibling,h=li(P,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,n!==null&&(l=o.deletions,l===null?(o.deletions=[n],o.flags|=16):l.push(n)),o.child=h,o.memoizedState=null,h}function uf(n,o){return o=Gl({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Ll(n,o,l,h){return h!==null&&Dc(h),Uo(o,n.child,null,l),n=uf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function bw(n,o,l,h,E,P,F){if(l)return o.flags&256?(o.flags&=-257,h=nf(Error(t(422))),Ll(n,o,F,h)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(P=h.fallback,E=o.mode,h=Gl({mode:"visible",children:h.children},E,0,null),P=Yi(P,E,F,null),P.flags|=2,h.return=o,P.return=o,h.sibling=P,o.child=h,o.mode&1&&Uo(o,n.child,null,F),o.child.memoizedState=lf(F),o.memoizedState=af,P);if(!(o.mode&1))return Ll(n,o,F,null);if(E.data==="$!"){if(h=E.nextSibling&&E.nextSibling.dataset,h)var W=h.dgst;return h=W,P=Error(t(419)),h=nf(P,h,void 0),Ll(n,o,F,h)}if(W=(F&n.childLanes)!==0,fn||W){if(h=qt,h!==null){switch(F&-F){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=E&(h.suspendedLanes|F)?0:E,E!==0&&E!==P.retryLane&&(P.retryLane=E,Pr(n,E),Xn(h,n,E,-1))}return bf(),h=nf(Error(t(421))),Ll(n,o,F,h)}return E.data==="$?"?(o.flags|=128,o.child=n.child,o=qw.bind(null,n),E._reactRetry=o,null):(n=P.treeContext,Tn=Xr(E.nextSibling),wn=o,yt=!0,Gn=null,n!==null&&(On[Cn++]=Rr,On[Cn++]=kr,On[Cn++]=Bi,Rr=n.id,kr=n.overflow,Bi=o),o=uf(o,h.children),o.flags|=4096,o)}function bg(n,o,l){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o),jc(n.return,o,l)}function cf(n,o,l,h,E){var P=n.memoizedState;P===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:E}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=h,P.tail=l,P.tailMode=E)}function Ig(n,o,l){var h=o.pendingProps,E=h.revealOrder,P=h.tail;if(on(n,o,h.children,l),h=vt.current,h&2)h=h&1|2,o.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bg(n,l,o);else if(n.tag===19)bg(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(ft(vt,h),!(o.mode&1))o.memoizedState=null;else switch(E){case"forwards":for(l=o.child,E=null;l!==null;)n=l.alternate,n!==null&&Rl(n)===null&&(E=l),l=l.sibling;l=E,l===null?(E=o.child,o.child=null):(E=l.sibling,l.sibling=null),cf(o,!1,E,l,P);break;case"backwards":for(l=null,E=o.child,o.child=null;E!==null;){if(n=E.alternate,n!==null&&Rl(n)===null){o.child=E;break}n=E.sibling,E.sibling=l,l=E,E=n}cf(o,!0,l,null,P);break;case"together":cf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dl(n,o){!(o.mode&1)&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Cr(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),Ki|=o.lanes,!(l&o.childLanes))return null;if(n!==null&&o.child!==n.child)throw Error(t(153));if(o.child!==null){for(n=o.child,l=li(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=li(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Iw(n,o,l){switch(o.tag){case 3:Tg(o),Bo();break;case 5:Fm(o);break;case 1:cn(o.type)&&yl(o);break;case 4:Uc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,E=o.memoizedProps.value;ft(Al,h._currentValue),h._currentValue=E;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(ft(vt,vt.current&1),o.flags|=128,null):l&o.child.childLanes?Sg(n,o,l):(ft(vt,vt.current&1),n=Cr(n,o,l),n!==null?n.sibling:null);ft(vt,vt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,n.flags&128){if(h)return Ig(n,o,l);o.flags|=128}if(E=o.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ft(vt,vt.current),h)break;return null;case 22:case 23:return o.lanes=0,_g(n,o,l)}return Cr(n,o,l)}var Rg,ff,kg,Pg;Rg=function(n,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ff=function(){},kg=function(n,o,l,h){var E=n.memoizedProps;if(E!==h){n=o.stateNode,$i(ur.current);var P=null;switch(l){case"input":E=He(n,E),h=He(n,h),P=[];break;case"select":E=H({},E,{value:void 0}),h=H({},h,{value:void 0}),P=[];break;case"textarea":E=ye(n,E),h=ye(n,h),P=[];break;default:typeof E.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=pl)}ws(l,h);var F;l=null;for(ue in E)if(!h.hasOwnProperty(ue)&&E.hasOwnProperty(ue)&&E[ue]!=null)if(ue==="style"){var W=E[ue];for(F in W)W.hasOwnProperty(F)&&(l||(l={}),l[F]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(s.hasOwnProperty(ue)?P||(P=[]):(P=P||[]).push(ue,null));for(ue in h){var X=h[ue];if(W=E!=null?E[ue]:void 0,h.hasOwnProperty(ue)&&X!==W&&(X!=null||W!=null))if(ue==="style")if(W){for(F in W)!W.hasOwnProperty(F)||X&&X.hasOwnProperty(F)||(l||(l={}),l[F]="");for(F in X)X.hasOwnProperty(F)&&W[F]!==X[F]&&(l||(l={}),l[F]=X[F])}else l||(P||(P=[]),P.push(ue,l)),l=X;else ue==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,W=W?W.__html:void 0,X!=null&&W!==X&&(P=P||[]).push(ue,X)):ue==="children"?typeof X!="string"&&typeof X!="number"||(P=P||[]).push(ue,""+X):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(s.hasOwnProperty(ue)?(X!=null&&ue==="onScroll"&&dt("scroll",n),P||W===X||(P=[])):(P=P||[]).push(ue,X))}l&&(P=P||[]).push("style",l);var ue=P;(o.updateQueue=ue)&&(o.flags|=4)}},Pg=function(n,o,l,h){l!==h&&(o.flags|=4)};function ta(n,o){if(!yt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Xt(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(o)for(var E=n.child;E!==null;)l|=E.lanes|E.childLanes,h|=E.subtreeFlags&14680064,h|=E.flags&14680064,E.return=n,E=E.sibling;else for(E=n.child;E!==null;)l|=E.lanes|E.childLanes,h|=E.subtreeFlags,h|=E.flags,E.return=n,E=E.sibling;return n.subtreeFlags|=h,n.childLanes=l,o}function Rw(n,o,l){var h=o.pendingProps;switch(xc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return cn(o.type)&&gl(),Xt(o),null;case 3:return h=o.stateNode,Ho(),pt(un),pt(Qt),Hc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(wl(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Gn!==null&&(Tf(Gn),Gn=null))),ff(n,o),Xt(o),null;case 5:zc(o);var E=$i(Ys.current);if(l=o.type,n!==null&&o.stateNode!=null)kg(n,o,l,h,E),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(n=$i(ur.current),wl(o)){h=o.stateNode,l=o.type;var P=o.memoizedProps;switch(h[lr]=o,h[Hs]=P,n=(o.mode&1)!==0,l){case"dialog":dt("cancel",h),dt("close",h);break;case"iframe":case"object":case"embed":dt("load",h);break;case"video":case"audio":for(E=0;E<Us.length;E++)dt(Us[E],h);break;case"source":dt("error",h);break;case"img":case"image":case"link":dt("error",h),dt("load",h);break;case"details":dt("toggle",h);break;case"input":We(h,P),dt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!P.multiple},dt("invalid",h);break;case"textarea":Be(h,P),dt("invalid",h)}ws(l,P),E=null;for(var F in P)if(P.hasOwnProperty(F)){var W=P[F];F==="children"?typeof W=="string"?h.textContent!==W&&(P.suppressHydrationWarning!==!0&&dl(h.textContent,W,n),E=["children",W]):typeof W=="number"&&h.textContent!==""+W&&(P.suppressHydrationWarning!==!0&&dl(h.textContent,W,n),E=["children",""+W]):s.hasOwnProperty(F)&&W!=null&&F==="onScroll"&&dt("scroll",h)}switch(l){case"input":Ie(h),fe(h,P,!0);break;case"textarea":Ie(h),Ke(h);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(h.onclick=pl)}h=E,o.updateQueue=h,h!==null&&(o.flags|=4)}else{F=E.nodeType===9?E:E.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rt(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=F.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=F.createElement(l,{is:h.is}):(n=F.createElement(l),l==="select"&&(F=n,h.multiple?F.multiple=!0:h.size&&(F.size=h.size))):n=F.createElementNS(n,l),n[lr]=o,n[Hs]=h,Rg(n,o,!1,!1),o.stateNode=n;e:{switch(F=Ts(l,h),l){case"dialog":dt("cancel",n),dt("close",n),E=h;break;case"iframe":case"object":case"embed":dt("load",n),E=h;break;case"video":case"audio":for(E=0;E<Us.length;E++)dt(Us[E],n);E=h;break;case"source":dt("error",n),E=h;break;case"img":case"image":case"link":dt("error",n),dt("load",n),E=h;break;case"details":dt("toggle",n),E=h;break;case"input":We(n,h),E=He(n,h),dt("invalid",n);break;case"option":E=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},E=H({},h,{value:void 0}),dt("invalid",n);break;case"textarea":Be(n,h),E=ye(n,h),dt("invalid",n);break;default:E=h}ws(l,E),W=E;for(P in W)if(W.hasOwnProperty(P)){var X=W[P];P==="style"?_s(n,X):P==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Si(n,X)):P==="children"?typeof X=="string"?(l!=="textarea"||X!=="")&&at(n,X):typeof X=="number"&&at(n,""+X):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?X!=null&&P==="onScroll"&&dt("scroll",n):X!=null&&x(n,P,X,F))}switch(l){case"input":Ie(n),fe(n,h,!1);break;case"textarea":Ie(n),Ke(n);break;case"option":h.value!=null&&n.setAttribute("value",""+ie(h.value));break;case"select":n.multiple=!!h.multiple,P=h.value,P!=null?be(n,!!h.multiple,P,!1):h.defaultValue!=null&&be(n,!!h.multiple,h.defaultValue,!0);break;default:typeof E.onClick=="function"&&(n.onclick=pl)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(n&&o.stateNode!=null)Pg(n,o,n.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=$i(Ys.current),$i(ur.current),wl(o)){if(h=o.stateNode,l=o.memoizedProps,h[lr]=o,(P=h.nodeValue!==l)&&(n=wn,n!==null))switch(n.tag){case 3:dl(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&dl(h.nodeValue,l,(n.mode&1)!==0)}P&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[lr]=o,o.stateNode=h}return Xt(o),null;case 13:if(pt(vt),h=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(yt&&Tn!==null&&o.mode&1&&!(o.flags&128))xm(),Bo(),o.flags|=98560,P=!1;else if(P=wl(o),h!==null&&h.dehydrated!==null){if(n===null){if(!P)throw Error(t(318));if(P=o.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(t(317));P[lr]=o}else Bo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Xt(o),P=!1}else Gn!==null&&(Tf(Gn),Gn=null),P=!0;if(!P)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(n===null||vt.current&1?Nt===0&&(Nt=3):bf())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return Ho(),ff(n,o),n===null&&zs(o.stateNode.containerInfo),Xt(o),null;case 10:return qc(o.type._context),Xt(o),null;case 17:return cn(o.type)&&gl(),Xt(o),null;case 19:if(pt(vt),P=o.memoizedState,P===null)return Xt(o),null;if(h=(o.flags&128)!==0,F=P.rendering,F===null)if(h)ta(P,!1);else{if(Nt!==0||n!==null&&n.flags&128)for(n=o.child;n!==null;){if(F=Rl(n),F!==null){for(o.flags|=128,ta(P,!1),h=F.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)P=l,n=h,P.flags&=14680066,F=P.alternate,F===null?(P.childLanes=0,P.lanes=n,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=F.childLanes,P.lanes=F.lanes,P.child=F.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=F.memoizedProps,P.memoizedState=F.memoizedState,P.updateQueue=F.updateQueue,P.type=F.type,n=F.dependencies,P.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return ft(vt,vt.current&1|2),o.child}n=n.sibling}P.tail!==null&&ct()>Qo&&(o.flags|=128,h=!0,ta(P,!1),o.lanes=4194304)}else{if(!h)if(n=Rl(F),n!==null){if(o.flags|=128,h=!0,l=n.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ta(P,!0),P.tail===null&&P.tailMode==="hidden"&&!F.alternate&&!yt)return Xt(o),null}else 2*ct()-P.renderingStartTime>Qo&&l!==1073741824&&(o.flags|=128,h=!0,ta(P,!1),o.lanes=4194304);P.isBackwards?(F.sibling=o.child,o.child=F):(l=P.last,l!==null?l.sibling=F:o.child=F,P.last=F)}return P.tail!==null?(o=P.tail,P.rendering=o,P.tail=o.sibling,P.renderingStartTime=ct(),o.sibling=null,l=vt.current,ft(vt,h?l&1|2:l&1),o):(Xt(o),null);case 22:case 23:return Sf(),h=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?An&1073741824&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function kw(n,o){switch(xc(o),o.tag){case 1:return cn(o.type)&&gl(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Ho(),pt(un),pt(Qt),Hc(),n=o.flags,n&65536&&!(n&128)?(o.flags=n&-65537|128,o):null;case 5:return zc(o),null;case 13:if(pt(vt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Bo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return pt(vt),null;case 4:return Ho(),null;case 10:return qc(o.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var Ml=!1,Zt=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Go(n,o){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Tt(n,o,h)}else l.current=null}function hf(n,o,l){try{l()}catch(h){Tt(n,o,h)}}var Og=!1;function Ow(n,o){if(Ac=Wr,n=lm(),mc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var E=h.anchorOffset,P=h.focusNode;h=h.focusOffset;try{l.nodeType,P.nodeType}catch{l=null;break e}var F=0,W=-1,X=-1,ue=0,_e=0,Ee=n,ve=null;t:for(;;){for(var Re;Ee!==l||E!==0&&Ee.nodeType!==3||(W=F+E),Ee!==P||h!==0&&Ee.nodeType!==3||(X=F+h),Ee.nodeType===3&&(F+=Ee.nodeValue.length),(Re=Ee.firstChild)!==null;)ve=Ee,Ee=Re;for(;;){if(Ee===n)break t;if(ve===l&&++ue===E&&(W=F),ve===P&&++_e===h&&(X=F),(Re=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Re}l=W===-1||X===-1?null:{start:W,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sc={focusedElem:n,selectionRange:l},Wr=!1,Oe=o;Oe!==null;)if(o=Oe,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Oe=n;else for(;Oe!==null;){o=Oe;try{var Ce=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var xe=Ce.memoizedProps,St=Ce.memoizedState,ae=o.stateNode,ee=ae.getSnapshotBeforeUpdate(o.elementType===o.type?xe:Wn(o.type,xe),St);ae.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var le=o.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(we){Tt(o,o.return,we)}if(n=o.sibling,n!==null){n.return=o.return,Oe=n;break}Oe=o.return}return Ce=Og,Og=!1,Ce}function na(n,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var E=h=h.next;do{if((E.tag&n)===n){var P=E.destroy;E.destroy=void 0,P!==void 0&&hf(o,l,P)}E=E.next}while(E!==h)}}function Vl(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function df(n){var o=n.ref;if(o!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof o=="function"?o(n):o.current=n}}function Cg(n){var o=n.alternate;o!==null&&(n.alternate=null,Cg(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[lr],delete o[Hs],delete o[kc],delete o[hw],delete o[dw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xg(n){return n.tag===5||n.tag===3||n.tag===4}function Ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pf(n,o,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(n,o):l.insertBefore(n,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(n,l)):(o=l,o.appendChild(n)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=pl));else if(h!==4&&(n=n.child,n!==null))for(pf(n,o,l),n=n.sibling;n!==null;)pf(n,o,l),n=n.sibling}function mf(n,o,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(mf(n,o,l),n=n.sibling;n!==null;)mf(n,o,l),n=n.sibling}var zt=null,Qn=!1;function ri(n,o,l){for(l=l.child;l!==null;)Lg(n,o,l),l=l.sibling}function Lg(n,o,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(xi,l)}catch{}switch(l.tag){case 5:Zt||Go(l,o);case 6:var h=zt,E=Qn;zt=null,ri(n,o,l),zt=h,Qn=E,zt!==null&&(Qn?(n=zt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):zt.removeChild(l.stateNode));break;case 18:zt!==null&&(Qn?(n=zt,l=l.stateNode,n.nodeType===8?Rc(n.parentNode,l):n.nodeType===1&&Rc(n,l),$n(n)):Rc(zt,l.stateNode));break;case 4:h=zt,E=Qn,zt=l.stateNode.containerInfo,Qn=!0,ri(n,o,l),zt=h,Qn=E;break;case 0:case 11:case 14:case 15:if(!Zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){E=h=h.next;do{var P=E,F=P.destroy;P=P.tag,F!==void 0&&(P&2||P&4)&&hf(l,o,F),E=E.next}while(E!==h)}ri(n,o,l);break;case 1:if(!Zt&&(Go(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(W){Tt(l,o,W)}ri(n,o,l);break;case 21:ri(n,o,l);break;case 22:l.mode&1?(Zt=(h=Zt)||l.memoizedState!==null,ri(n,o,l),Zt=h):ri(n,o,l);break;default:ri(n,o,l)}}function Dg(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Pw),o.forEach(function(h){var E=jw.bind(null,n,h);l.has(h)||(l.add(h),h.then(E,E))})}}function Yn(n,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var E=l[h];try{var P=n,F=o,W=F;e:for(;W!==null;){switch(W.tag){case 5:zt=W.stateNode,Qn=!1;break e;case 3:zt=W.stateNode.containerInfo,Qn=!0;break e;case 4:zt=W.stateNode.containerInfo,Qn=!0;break e}W=W.return}if(zt===null)throw Error(t(160));Lg(P,F,E),zt=null,Qn=!1;var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(ue){Tt(E,o,ue)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Mg(o,n),o=o.sibling}function Mg(n,o){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Yn(o,n),fr(n),h&4){try{na(3,n,n.return),Vl(3,n)}catch(xe){Tt(n,n.return,xe)}try{na(5,n,n.return)}catch(xe){Tt(n,n.return,xe)}}break;case 1:Yn(o,n),fr(n),h&512&&l!==null&&Go(l,l.return);break;case 5:if(Yn(o,n),fr(n),h&512&&l!==null&&Go(l,l.return),n.flags&32){var E=n.stateNode;try{at(E,"")}catch(xe){Tt(n,n.return,xe)}}if(h&4&&(E=n.stateNode,E!=null)){var P=n.memoizedProps,F=l!==null?l.memoizedProps:P,W=n.type,X=n.updateQueue;if(n.updateQueue=null,X!==null)try{W==="input"&&P.type==="radio"&&P.name!=null&&It(E,P),Ts(W,F);var ue=Ts(W,P);for(F=0;F<X.length;F+=2){var _e=X[F],Ee=X[F+1];_e==="style"?_s(E,Ee):_e==="dangerouslySetInnerHTML"?Si(E,Ee):_e==="children"?at(E,Ee):x(E,_e,Ee,ue)}switch(W){case"input":ht(E,P);break;case"textarea":Ue(E,P);break;case"select":var ve=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!P.multiple;var Re=P.value;Re!=null?be(E,!!P.multiple,Re,!1):ve!==!!P.multiple&&(P.defaultValue!=null?be(E,!!P.multiple,P.defaultValue,!0):be(E,!!P.multiple,P.multiple?[]:"",!1))}E[Hs]=P}catch(xe){Tt(n,n.return,xe)}}break;case 6:if(Yn(o,n),fr(n),h&4){if(n.stateNode===null)throw Error(t(162));E=n.stateNode,P=n.memoizedProps;try{E.nodeValue=P}catch(xe){Tt(n,n.return,xe)}}break;case 3:if(Yn(o,n),fr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(o.containerInfo)}catch(xe){Tt(n,n.return,xe)}break;case 4:Yn(o,n),fr(n);break;case 13:Yn(o,n),fr(n),E=n.child,E.flags&8192&&(P=E.memoizedState!==null,E.stateNode.isHidden=P,!P||E.alternate!==null&&E.alternate.memoizedState!==null||(vf=ct())),h&4&&Dg(n);break;case 22:if(_e=l!==null&&l.memoizedState!==null,n.mode&1?(Zt=(ue=Zt)||_e,Yn(o,n),Zt=ue):Yn(o,n),fr(n),h&8192){if(ue=n.memoizedState!==null,(n.stateNode.isHidden=ue)&&!_e&&n.mode&1)for(Oe=n,_e=n.child;_e!==null;){for(Ee=Oe=_e;Oe!==null;){switch(ve=Oe,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:na(4,ve,ve.return);break;case 1:Go(ve,ve.return);var Ce=ve.stateNode;if(typeof Ce.componentWillUnmount=="function"){h=ve,l=ve.return;try{o=h,Ce.props=o.memoizedProps,Ce.state=o.memoizedState,Ce.componentWillUnmount()}catch(xe){Tt(h,l,xe)}}break;case 5:Go(ve,ve.return);break;case 22:if(ve.memoizedState!==null){jg(Ee);continue}}Re!==null?(Re.return=ve,Oe=Re):jg(Ee)}_e=_e.sibling}e:for(_e=null,Ee=n;;){if(Ee.tag===5){if(_e===null){_e=Ee;try{E=Ee.stateNode,ue?(P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(W=Ee.stateNode,X=Ee.memoizedProps.style,F=X!=null&&X.hasOwnProperty("display")?X.display:null,W.style.display=vs("display",F))}catch(xe){Tt(n,n.return,xe)}}}else if(Ee.tag===6){if(_e===null)try{Ee.stateNode.nodeValue=ue?"":Ee.memoizedProps}catch(xe){Tt(n,n.return,xe)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;_e===Ee&&(_e=null),Ee=Ee.return}_e===Ee&&(_e=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Yn(o,n),fr(n),h&4&&Dg(n);break;case 21:break;default:Yn(o,n),fr(n)}}function fr(n){var o=n.flags;if(o&2){try{e:{for(var l=n.return;l!==null;){if(xg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var E=h.stateNode;h.flags&32&&(at(E,""),h.flags&=-33);var P=Ng(n);mf(n,P,E);break;case 3:case 4:var F=h.stateNode.containerInfo,W=Ng(n);pf(n,W,F);break;default:throw Error(t(161))}}catch(X){Tt(n,n.return,X)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Cw(n,o,l){Oe=n,Vg(n)}function Vg(n,o,l){for(var h=(n.mode&1)!==0;Oe!==null;){var E=Oe,P=E.child;if(E.tag===22&&h){var F=E.memoizedState!==null||Ml;if(!F){var W=E.alternate,X=W!==null&&W.memoizedState!==null||Zt;W=Ml;var ue=Zt;if(Ml=F,(Zt=X)&&!ue)for(Oe=E;Oe!==null;)F=Oe,X=F.child,F.tag===22&&F.memoizedState!==null?Fg(E):X!==null?(X.return=F,Oe=X):Fg(E);for(;P!==null;)Oe=P,Vg(P),P=P.sibling;Oe=E,Ml=W,Zt=ue}qg(n)}else E.subtreeFlags&8772&&P!==null?(P.return=E,Oe=P):qg(n)}}function qg(n){for(;Oe!==null;){var o=Oe;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Zt||Vl(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Zt)if(l===null)h.componentDidMount();else{var E=o.elementType===o.type?l.memoizedProps:Wn(o.type,l.memoizedProps);h.componentDidUpdate(E,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var P=o.updateQueue;P!==null&&jm(o,P,h);break;case 3:var F=o.updateQueue;if(F!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}jm(o,F,l)}break;case 5:var W=o.stateNode;if(l===null&&o.flags&4){l=W;var X=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&l.focus();break;case"img":X.src&&(l.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ue=o.alternate;if(ue!==null){var _e=ue.memoizedState;if(_e!==null){var Ee=_e.dehydrated;Ee!==null&&$n(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||o.flags&512&&df(o)}catch(ve){Tt(o,o.return,ve)}}if(o===n){Oe=null;break}if(l=o.sibling,l!==null){l.return=o.return,Oe=l;break}Oe=o.return}}function jg(n){for(;Oe!==null;){var o=Oe;if(o===n){Oe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Oe=l;break}Oe=o.return}}function Fg(n){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Vl(4,o)}catch(X){Tt(o,l,X)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var E=o.return;try{h.componentDidMount()}catch(X){Tt(o,E,X)}}var P=o.return;try{df(o)}catch(X){Tt(o,P,X)}break;case 5:var F=o.return;try{df(o)}catch(X){Tt(o,F,X)}}}catch(X){Tt(o,o.return,X)}if(o===n){Oe=null;break}var W=o.sibling;if(W!==null){W.return=o.return,Oe=W;break}Oe=o.return}}var xw=Math.ceil,ql=b.ReactCurrentDispatcher,gf=b.ReactCurrentOwner,Ln=b.ReactCurrentBatchConfig,nt=0,qt=null,kt=null,$t=0,An=0,Wo=Zr(0),Nt=0,ra=null,Ki=0,jl=0,yf=0,ia=null,hn=null,vf=0,Qo=1/0,xr=null,Fl=!1,_f=null,ii=null,Bl=!1,oi=null,Ul=0,oa=0,Ef=null,zl=-1,$l=0;function sn(){return nt&6?ct():zl!==-1?zl:zl=ct()}function si(n){return n.mode&1?nt&2&&$t!==0?$t&-$t:mw.transition!==null?($l===0&&($l=Li()),$l):(n=Ye,n!==0||(n=window.event,n=n===void 0?16:Ns(n.type)),n):1}function Xn(n,o,l,h){if(50<oa)throw oa=0,Ef=null,Error(t(185));$r(n,l,h),(!(nt&2)||n!==qt)&&(n===qt&&(!(nt&2)&&(jl|=l),Nt===4&&ai(n,$t)),dn(n,h),l===1&&nt===0&&!(o.mode&1)&&(Qo=ct()+500,vl&&ei()))}function dn(n,o){var l=n.callbackNode;Er(n,o);var h=Ni(n,n===qt?$t:0);if(h===0)l!==null&&ks(l),n.callbackNode=null,n.callbackPriority=0;else if(o=h&-h,n.callbackPriority!==o){if(l!=null&&ks(l),o===1)n.tag===0?pw(Ug.bind(null,n)):Rm(Ug.bind(null,n)),cw(function(){!(nt&6)&&ei()}),l=null;else{switch(Kr(h)){case 1:l=Ci;break;case 4:l=Br;break;case 16:l=Rn;break;case 536870912:l=$a;break;default:l=Rn}l=Yg(l,Bg.bind(null,n))}n.callbackPriority=o,n.callbackNode=l}}function Bg(n,o){if(zl=-1,$l=0,nt&6)throw Error(t(327));var l=n.callbackNode;if(Yo()&&n.callbackNode!==l)return null;var h=Ni(n,n===qt?$t:0);if(h===0)return null;if(h&30||h&n.expiredLanes||o)o=Hl(n,h);else{o=h;var E=nt;nt|=2;var P=$g();(qt!==n||$t!==o)&&(xr=null,Qo=ct()+500,Wi(n,o));do try{Dw();break}catch(W){zg(n,W)}while(!0);Vc(),ql.current=P,nt=E,kt!==null?o=0:(qt=null,$t=0,o=Nt)}if(o!==0){if(o===2&&(E=vn(n),E!==0&&(h=E,o=wf(n,E))),o===1)throw l=ra,Wi(n,0),ai(n,h),dn(n,ct()),l;if(o===6)ai(n,h);else{if(E=n.current.alternate,!(h&30)&&!Nw(E)&&(o=Hl(n,h),o===2&&(P=vn(n),P!==0&&(h=P,o=wf(n,P))),o===1))throw l=ra,Wi(n,0),ai(n,h),dn(n,ct()),l;switch(n.finishedWork=E,n.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Qi(n,hn,xr);break;case 3:if(ai(n,h),(h&130023424)===h&&(o=vf+500-ct(),10<o)){if(Ni(n,0)!==0)break;if(E=n.suspendedLanes,(E&h)!==h){sn(),n.pingedLanes|=n.suspendedLanes&E;break}n.timeoutHandle=Ic(Qi.bind(null,n,hn,xr),o);break}Qi(n,hn,xr);break;case 4:if(ai(n,h),(h&4194240)===h)break;for(o=n.eventTimes,E=-1;0<h;){var F=31-nn(h);P=1<<F,F=o[F],F>E&&(E=F),h&=~P}if(h=E,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xw(h/1960))-h,10<h){n.timeoutHandle=Ic(Qi.bind(null,n,hn,xr),h);break}Qi(n,hn,xr);break;case 5:Qi(n,hn,xr);break;default:throw Error(t(329))}}}return dn(n,ct()),n.callbackNode===l?Bg.bind(null,n):null}function wf(n,o){var l=ia;return n.current.memoizedState.isDehydrated&&(Wi(n,o).flags|=256),n=Hl(n,o),n!==2&&(o=hn,hn=l,o!==null&&Tf(o)),n}function Tf(n){hn===null?hn=n:hn.push.apply(hn,n)}function Nw(n){for(var o=n;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var E=l[h],P=E.getSnapshot;E=E.value;try{if(!Kn(P(),E))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ai(n,o){for(o&=~yf,o&=~jl,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var l=31-nn(o),h=1<<l;n[l]=-1,o&=~h}}function Ug(n){if(nt&6)throw Error(t(327));Yo();var o=Ni(n,0);if(!(o&1))return dn(n,ct()),null;var l=Hl(n,o);if(n.tag!==0&&l===2){var h=vn(n);h!==0&&(o=h,l=wf(n,h))}if(l===1)throw l=ra,Wi(n,0),ai(n,o),dn(n,ct()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Qi(n,hn,xr),dn(n,ct()),null}function Af(n,o){var l=nt;nt|=1;try{return n(o)}finally{nt=l,nt===0&&(Qo=ct()+500,vl&&ei())}}function Gi(n){oi!==null&&oi.tag===0&&!(nt&6)&&Yo();var o=nt;nt|=1;var l=Ln.transition,h=Ye;try{if(Ln.transition=null,Ye=1,n)return n()}finally{Ye=h,Ln.transition=l,nt=o,!(nt&6)&&ei()}}function Sf(){An=Wo.current,pt(Wo)}function Wi(n,o){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,uw(l)),kt!==null)for(l=kt.return;l!==null;){var h=l;switch(xc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&gl();break;case 3:Ho(),pt(un),pt(Qt),Hc();break;case 5:zc(h);break;case 4:Ho();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:qc(h.type._context);break;case 22:case 23:Sf()}l=l.return}if(qt=n,kt=n=li(n.current,null),$t=An=o,Nt=0,ra=null,yf=jl=Ki=0,hn=ia=null,zi!==null){for(o=0;o<zi.length;o++)if(l=zi[o],h=l.interleaved,h!==null){l.interleaved=null;var E=h.next,P=l.pending;if(P!==null){var F=P.next;P.next=E,h.next=F}l.pending=h}zi=null}return n}function zg(n,o){do{var l=kt;try{if(Vc(),kl.current=xl,Pl){for(var h=_t.memoizedState;h!==null;){var E=h.queue;E!==null&&(E.pending=null),h=h.next}Pl=!1}if(Hi=0,Vt=xt=_t=null,Xs=!1,Zs=0,gf.current=null,l===null||l.return===null){Nt=1,ra=o,kt=null;break}e:{var P=n,F=l.return,W=l,X=o;if(o=$t,W.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=X,_e=W,Ee=_e.tag;if(!(_e.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Re=pg(F);if(Re!==null){Re.flags&=-257,mg(Re,F,W,P,o),Re.mode&1&&dg(P,ue,o),o=Re,X=ue;var Ce=o.updateQueue;if(Ce===null){var xe=new Set;xe.add(X),o.updateQueue=xe}else Ce.add(X);break e}else{if(!(o&1)){dg(P,ue,o),bf();break e}X=Error(t(426))}}else if(yt&&W.mode&1){var St=pg(F);if(St!==null){!(St.flags&65536)&&(St.flags|=256),mg(St,F,W,P,o),Dc(Ko(X,W));break e}}P=X=Ko(X,W),Nt!==4&&(Nt=2),ia===null?ia=[P]:ia.push(P),P=F;do{switch(P.tag){case 3:P.flags|=65536,o&=-o,P.lanes|=o;var ae=fg(P,X,o);qm(P,ae);break e;case 1:W=X;var ee=P.type,le=P.stateNode;if(!(P.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(ii===null||!ii.has(le)))){P.flags|=65536,o&=-o,P.lanes|=o;var we=hg(P,W,o);qm(P,we);break e}}P=P.return}while(P!==null)}Kg(l)}catch(Ne){o=Ne,kt===l&&l!==null&&(kt=l=l.return);continue}break}while(!0)}function $g(){var n=ql.current;return ql.current=xl,n===null?xl:n}function bf(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),qt===null||!(Ki&268435455)&&!(jl&268435455)||ai(qt,$t)}function Hl(n,o){var l=nt;nt|=2;var h=$g();(qt!==n||$t!==o)&&(xr=null,Wi(n,o));do try{Lw();break}catch(E){zg(n,E)}while(!0);if(Vc(),nt=l,ql.current=h,kt!==null)throw Error(t(261));return qt=null,$t=0,Nt}function Lw(){for(;kt!==null;)Hg(kt)}function Dw(){for(;kt!==null&&!Ua();)Hg(kt)}function Hg(n){var o=Qg(n.alternate,n,An);n.memoizedProps=n.pendingProps,o===null?Kg(n):kt=o,gf.current=null}function Kg(n){var o=n;do{var l=o.alternate;if(n=o.return,o.flags&32768){if(l=kw(l,o),l!==null){l.flags&=32767,kt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nt=6,kt=null;return}}else if(l=Rw(l,o,An),l!==null){kt=l;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=n}while(o!==null);Nt===0&&(Nt=5)}function Qi(n,o,l){var h=Ye,E=Ln.transition;try{Ln.transition=null,Ye=1,Mw(n,o,l,h)}finally{Ln.transition=E,Ye=h}return null}function Mw(n,o,l,h){do Yo();while(oi!==null);if(nt&6)throw Error(t(327));l=n.finishedWork;var E=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var P=l.lanes|l.childLanes;if(ut(n,P),n===qt&&(kt=qt=null,$t=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Bl||(Bl=!0,Yg(Rn,function(){return Yo(),null})),P=(l.flags&15990)!==0,l.subtreeFlags&15990||P){P=Ln.transition,Ln.transition=null;var F=Ye;Ye=1;var W=nt;nt|=4,gf.current=null,Ow(n,l),Mg(l,n),nw(Sc),Wr=!!Ac,Sc=Ac=null,n.current=l,Cw(l),ac(),nt=W,Ye=F,Ln.transition=P}else n.current=l;if(Bl&&(Bl=!1,oi=n,Ul=E),P=n.pendingLanes,P===0&&(ii=null),Ha(l.stateNode),dn(n,ct()),o!==null)for(h=n.onRecoverableError,l=0;l<o.length;l++)E=o[l],h(E.value,{componentStack:E.stack,digest:E.digest});if(Fl)throw Fl=!1,n=_f,_f=null,n;return Ul&1&&n.tag!==0&&Yo(),P=n.pendingLanes,P&1?n===Ef?oa++:(oa=0,Ef=n):oa=0,ei(),null}function Yo(){if(oi!==null){var n=Kr(Ul),o=Ln.transition,l=Ye;try{if(Ln.transition=null,Ye=16>n?16:n,oi===null)var h=!1;else{if(n=oi,oi=null,Ul=0,nt&6)throw Error(t(331));var E=nt;for(nt|=4,Oe=n.current;Oe!==null;){var P=Oe,F=P.child;if(Oe.flags&16){var W=P.deletions;if(W!==null){for(var X=0;X<W.length;X++){var ue=W[X];for(Oe=ue;Oe!==null;){var _e=Oe;switch(_e.tag){case 0:case 11:case 15:na(8,_e,P)}var Ee=_e.child;if(Ee!==null)Ee.return=_e,Oe=Ee;else for(;Oe!==null;){_e=Oe;var ve=_e.sibling,Re=_e.return;if(Cg(_e),_e===ue){Oe=null;break}if(ve!==null){ve.return=Re,Oe=ve;break}Oe=Re}}}var Ce=P.alternate;if(Ce!==null){var xe=Ce.child;if(xe!==null){Ce.child=null;do{var St=xe.sibling;xe.sibling=null,xe=St}while(xe!==null)}}Oe=P}}if(P.subtreeFlags&2064&&F!==null)F.return=P,Oe=F;else e:for(;Oe!==null;){if(P=Oe,P.flags&2048)switch(P.tag){case 0:case 11:case 15:na(9,P,P.return)}var ae=P.sibling;if(ae!==null){ae.return=P.return,Oe=ae;break e}Oe=P.return}}var ee=n.current;for(Oe=ee;Oe!==null;){F=Oe;var le=F.child;if(F.subtreeFlags&2064&&le!==null)le.return=F,Oe=le;else e:for(F=ee;Oe!==null;){if(W=Oe,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Vl(9,W)}}catch(Ne){Tt(W,W.return,Ne)}if(W===F){Oe=null;break e}var we=W.sibling;if(we!==null){we.return=W.return,Oe=we;break e}Oe=W.return}}if(nt=E,ei(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(xi,n)}catch{}h=!0}return h}finally{Ye=l,Ln.transition=o}}return!1}function Gg(n,o,l){o=Ko(l,o),o=fg(n,o,1),n=ni(n,o,1),o=sn(),n!==null&&($r(n,1,o),dn(n,o))}function Tt(n,o,l){if(n.tag===3)Gg(n,n,l);else for(;o!==null;){if(o.tag===3){Gg(o,n,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))){n=Ko(l,n),n=hg(o,n,1),o=ni(o,n,1),n=sn(),o!==null&&($r(o,1,n),dn(o,n));break}}o=o.return}}function Vw(n,o,l){var h=n.pingCache;h!==null&&h.delete(o),o=sn(),n.pingedLanes|=n.suspendedLanes&l,qt===n&&($t&l)===l&&(Nt===4||Nt===3&&($t&130023424)===$t&&500>ct()-vf?Wi(n,0):yf|=l),dn(n,o)}function Wg(n,o){o===0&&(n.mode&1?(o=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):o=1);var l=sn();n=Pr(n,o),n!==null&&($r(n,o,l),dn(n,l))}function qw(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Wg(n,l)}function jw(n,o){var l=0;switch(n.tag){case 13:var h=n.stateNode,E=n.memoizedState;E!==null&&(l=E.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Wg(n,l)}var Qg;Qg=function(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps||un.current)fn=!0;else{if(!(n.lanes&l)&&!(o.flags&128))return fn=!1,Iw(n,o,l);fn=!!(n.flags&131072)}else fn=!1,yt&&o.flags&1048576&&km(o,El,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Dl(n,o),n=o.pendingProps;var E=qo(o,Qt.current);$o(o,l),E=Wc(null,o,h,n,E,l);var P=Qc();return o.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(h)?(P=!0,yl(o)):P=!1,o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Bc(o),E.updater=Nl,o.stateNode=E,E._reactInternals=o,tf(o,h,n,l),o=sf(null,o,h,!0,P,l)):(o.tag=0,yt&&P&&Cc(o),on(null,o,E,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Dl(n,o),n=o.pendingProps,E=h._init,h=E(h._payload),o.type=h,E=o.tag=Bw(h),n=Wn(h,n),E){case 0:o=of(null,o,h,n,l);break e;case 1:o=wg(null,o,h,n,l);break e;case 11:o=gg(null,o,h,n,l);break e;case 14:o=yg(null,o,h,Wn(h.type,n),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,E=o.pendingProps,E=o.elementType===h?E:Wn(h,E),of(n,o,h,E,l);case 1:return h=o.type,E=o.pendingProps,E=o.elementType===h?E:Wn(h,E),wg(n,o,h,E,l);case 3:e:{if(Tg(o),n===null)throw Error(t(387));h=o.pendingProps,P=o.memoizedState,E=P.element,Vm(n,o),Il(o,h,null,l);var F=o.memoizedState;if(h=F.element,P.isDehydrated)if(P={element:h,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},o.updateQueue.baseState=P,o.memoizedState=P,o.flags&256){E=Ko(Error(t(423)),o),o=Ag(n,o,h,l,E);break e}else if(h!==E){E=Ko(Error(t(424)),o),o=Ag(n,o,h,l,E);break e}else for(Tn=Xr(o.stateNode.containerInfo.firstChild),wn=o,yt=!0,Gn=null,l=Dm(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bo(),h===E){o=Cr(n,o,l);break e}on(n,o,h,l)}o=o.child}return o;case 5:return Fm(o),n===null&&Lc(o),h=o.type,E=o.pendingProps,P=n!==null?n.memoizedProps:null,F=E.children,bc(h,E)?F=null:P!==null&&bc(h,P)&&(o.flags|=32),Eg(n,o),on(n,o,F,l),o.child;case 6:return n===null&&Lc(o),null;case 13:return Sg(n,o,l);case 4:return Uc(o,o.stateNode.containerInfo),h=o.pendingProps,n===null?o.child=Uo(o,null,h,l):on(n,o,h,l),o.child;case 11:return h=o.type,E=o.pendingProps,E=o.elementType===h?E:Wn(h,E),gg(n,o,h,E,l);case 7:return on(n,o,o.pendingProps,l),o.child;case 8:return on(n,o,o.pendingProps.children,l),o.child;case 12:return on(n,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,E=o.pendingProps,P=o.memoizedProps,F=E.value,ft(Al,h._currentValue),h._currentValue=F,P!==null)if(Kn(P.value,F)){if(P.children===E.children&&!un.current){o=Cr(n,o,l);break e}}else for(P=o.child,P!==null&&(P.return=o);P!==null;){var W=P.dependencies;if(W!==null){F=P.child;for(var X=W.firstContext;X!==null;){if(X.context===h){if(P.tag===1){X=Or(-1,l&-l),X.tag=2;var ue=P.updateQueue;if(ue!==null){ue=ue.shared;var _e=ue.pending;_e===null?X.next=X:(X.next=_e.next,_e.next=X),ue.pending=X}}P.lanes|=l,X=P.alternate,X!==null&&(X.lanes|=l),jc(P.return,l,o),W.lanes|=l;break}X=X.next}}else if(P.tag===10)F=P.type===o.type?null:P.child;else if(P.tag===18){if(F=P.return,F===null)throw Error(t(341));F.lanes|=l,W=F.alternate,W!==null&&(W.lanes|=l),jc(F,l,o),F=P.sibling}else F=P.child;if(F!==null)F.return=P;else for(F=P;F!==null;){if(F===o){F=null;break}if(P=F.sibling,P!==null){P.return=F.return,F=P;break}F=F.return}P=F}on(n,o,E.children,l),o=o.child}return o;case 9:return E=o.type,h=o.pendingProps.children,$o(o,l),E=xn(E),h=h(E),o.flags|=1,on(n,o,h,l),o.child;case 14:return h=o.type,E=Wn(h,o.pendingProps),E=Wn(h.type,E),yg(n,o,h,E,l);case 15:return vg(n,o,o.type,o.pendingProps,l);case 17:return h=o.type,E=o.pendingProps,E=o.elementType===h?E:Wn(h,E),Dl(n,o),o.tag=1,cn(h)?(n=!0,yl(o)):n=!1,$o(o,l),ug(o,h,E),tf(o,h,E,l),sf(null,o,h,!0,n,l);case 19:return Ig(n,o,l);case 22:return _g(n,o,l)}throw Error(t(156,o.tag))};function Yg(n,o){return yo(n,o)}function Fw(n,o,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(n,o,l,h){return new Fw(n,o,l,h)}function If(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bw(n){if(typeof n=="function")return If(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===G)return 14}return 2}function li(n,o){var l=n.alternate;return l===null?(l=Dn(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Kl(n,o,l,h,E,P){var F=2;if(h=n,typeof n=="function")If(n)&&(F=1);else if(typeof n=="string")F=5;else e:switch(n){case C:return Yi(l.children,E,P,o);case R:F=8,E|=8;break;case D:return n=Dn(12,l,o,E|2),n.elementType=D,n.lanes=P,n;case N:return n=Dn(13,l,o,E),n.elementType=N,n.lanes=P,n;case $:return n=Dn(19,l,o,E),n.elementType=$,n.lanes=P,n;case te:return Gl(l,E,P,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:F=10;break e;case I:F=9;break e;case L:F=11;break e;case G:F=14;break e;case ne:F=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return o=Dn(F,l,o,E),o.elementType=n,o.type=h,o.lanes=P,o}function Yi(n,o,l,h){return n=Dn(7,n,h,o),n.lanes=l,n}function Gl(n,o,l,h){return n=Dn(22,n,h,o),n.elementType=te,n.lanes=l,n.stateNode={isHidden:!1},n}function Rf(n,o,l){return n=Dn(6,n,null,o),n.lanes=l,n}function kf(n,o,l){return o=Dn(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Uw(n,o,l,h,E){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=h,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Pf(n,o,l,h,E,P,F,W,X){return n=new Uw(n,o,l,W,X),o===1?(o=1,P===!0&&(o|=8)):o=0,P=Dn(3,null,null,o),n.current=P,P.stateNode=n,P.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(P),n}function zw(n,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:h==null?null:""+h,children:n,containerInfo:o,implementation:l}}function Xg(n){if(!n)return Jr;n=n._reactInternals;e:{if(jn(n)!==n||n.tag!==1)throw Error(t(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(cn(l))return bm(n,l,o)}return o}function Zg(n,o,l,h,E,P,F,W,X){return n=Pf(l,h,!0,n,E,P,F,W,X),n.context=Xg(null),l=n.current,h=sn(),E=si(l),P=Or(h,E),P.callback=o??null,ni(l,P,E),n.current.lanes=E,$r(n,E,h),dn(n,h),n}function Wl(n,o,l,h){var E=o.current,P=sn(),F=si(E);return l=Xg(l),o.context===null?o.context=l:o.pendingContext=l,o=Or(P,F),o.payload={element:n},h=h===void 0?null:h,h!==null&&(o.callback=h),n=ni(E,o,F),n!==null&&(Xn(n,E,F,P),bl(n,E,F)),F}function Ql(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Of(n,o){Jg(n,o),(n=n.alternate)&&Jg(n,o)}var ey=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cf(n){this._internalRoot=n}Yl.prototype.render=Cf.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(t(409));Wl(n,o,null,null)},Yl.prototype.unmount=Cf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Gi(function(){Wl(null,n,null,null)}),o[br]=null}};function Yl(n){this._internalRoot=n}Yl.prototype.unstable_scheduleHydration=function(n){if(n){var o=Ya();n={blockedOn:null,target:n,priority:o};for(var l=0;l<ir.length&&o!==0&&o<ir[l].priority;l++);ir.splice(l,0,n),l===0&&Ja(n)}};function xf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ty(){}function $w(n,o,l,h,E){if(E){if(typeof h=="function"){var P=h;h=function(){var ue=Ql(F);P.call(ue)}}var F=Zg(o,h,n,0,null,!1,!1,"",ty);return n._reactRootContainer=F,n[br]=F.current,zs(n.nodeType===8?n.parentNode:n),Gi(),F}for(;E=n.lastChild;)n.removeChild(E);if(typeof h=="function"){var W=h;h=function(){var ue=Ql(X);W.call(ue)}}var X=Pf(n,0,!1,null,null,!1,!1,"",ty);return n._reactRootContainer=X,n[br]=X.current,zs(n.nodeType===8?n.parentNode:n),Gi(function(){Wl(o,X,l,h)}),X}function Zl(n,o,l,h,E){var P=l._reactRootContainer;if(P){var F=P;if(typeof E=="function"){var W=E;E=function(){var X=Ql(F);W.call(X)}}Wl(o,F,n,E)}else F=$w(l,o,n,E,h);return Ql(F)}Wa=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ur(o.pendingLanes);l!==0&&(Hr(o,l|1),dn(o,ct()),!(nt&6)&&(Qo=ct()+500,ei()))}break;case 13:Gi(function(){var h=Pr(n,1);if(h!==null){var E=sn();Xn(h,n,1,E)}}),Of(n,1)}},Eo=function(n){if(n.tag===13){var o=Pr(n,134217728);if(o!==null){var l=sn();Xn(o,n,134217728,l)}Of(n,134217728)}},Qa=function(n){if(n.tag===13){var o=si(n),l=Pr(n,o);if(l!==null){var h=sn();Xn(l,n,o,h)}Of(n,o)}},Ya=function(){return Ye},Xa=function(n,o){var l=Ye;try{return Ye=n,o()}finally{Ye=l}},co=function(n,o,l){switch(o){case"input":if(ht(n,l),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==n&&h.form===n.form){var E=ml(h);if(!E)throw Error(t(90));De(h),ht(h,E)}}}break;case"textarea":Ue(n,l);break;case"select":o=l.value,o!=null&&be(n,!!l.multiple,o,!1)}},Ri=Af,Ss=Gi;var Hw={usingClientEntryPoint:!1,Events:[Ks,Mo,ml,nr,As,Af]},sa={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rs(n),n===null?null:n.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{xi=Jl.inject(Kw),yn=Jl}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw,pn.createPortal=function(n,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(o))throw Error(t(200));return zw(n,o,null,l)},pn.createRoot=function(n,o){if(!xf(n))throw Error(t(299));var l=!1,h="",E=ey;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=Pf(n,1,!1,null,null,l,!1,h,E),n[br]=o.current,zs(n.nodeType===8?n.parentNode:n),new Cf(o)},pn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Rs(o),n=n===null?null:n.stateNode,n},pn.flushSync=function(n){return Gi(n)},pn.hydrate=function(n,o,l){if(!Xl(o))throw Error(t(200));return Zl(null,n,o,!0,l)},pn.hydrateRoot=function(n,o,l){if(!xf(n))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,E=!1,P="",F=ey;if(l!=null&&(l.unstable_strictMode===!0&&(E=!0),l.identifierPrefix!==void 0&&(P=l.identifierPrefix),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),o=Zg(o,null,n,1,l??null,E,!1,P,F),n[br]=o.current,zs(n),h)for(n=0;n<h.length;n++)l=h[n],E=l._getVersion,E=E(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,E]:o.mutableSourceEagerHydrationData.push(l,E);return new Yl(o)},pn.render=function(n,o,l){if(!Xl(o))throw Error(t(200));return Zl(null,n,o,!1,l)},pn.unmountComponentAtNode=function(n){if(!Xl(n))throw Error(t(40));return n._reactRootContainer?(Gi(function(){Zl(null,null,n,!1,function(){n._reactRootContainer=null,n[br]=null})}),!0):!1},pn.unstable_batchedUpdates=Af,pn.unstable_renderSubtreeIntoContainer=function(n,o,l,h){if(!Xl(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Zl(n,o,l,!1,h)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var uy;function l1(){if(uy)return Df.exports;uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=eT(),Df.exports}var cy;function tT(){if(cy)return tu;cy=1;var r=l1();return tu.createRoot=r.createRoot,tu.hydrateRoot=r.hydrateRoot,tu}var nT=tT(),la={},fy;function rT(){if(fy)return la;fy=1,Object.defineProperty(la,"__esModule",{value:!0}),la.parse=u,la.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,m){const S=new a,A=d.length;if(A<2)return S;const w=(m==null?void 0:m.decode)||v;let _=0;do{const T=d.indexOf("=",_);if(T===-1)break;const x=d.indexOf(";",_),b=x===-1?A:x;if(T>b){_=d.lastIndexOf(";",T-1)+1;continue}const M=f(d,_,T),j=p(d,T,M),C=d.slice(M,j);if(S[C]===void 0){let R=f(d,T+1,b),D=p(d,b,R);const O=w(d.slice(R,D));S[C]=O}_=b+1}while(_<A);return S}function f(d,m,S){do{const A=d.charCodeAt(m);if(A!==32&&A!==9)return m}while(++m<S);return S}function p(d,m,S){for(;m>S;){const A=d.charCodeAt(--m);if(A!==32&&A!==9)return m+1}return S}function y(d,m,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(d))throw new TypeError(`argument name is invalid: ${d}`);const w=A(m);if(!e.test(w))throw new TypeError(`argument val is invalid: ${m}`);let _=d+"="+w;if(!S)return _;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);_+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);_+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);_+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);_+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(_+="; HttpOnly"),S.secure&&(_+="; Secure"),S.partitioned&&(_+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return _}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function g(d){return s.call(d)==="[object Date]"}return la}rT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function iT(r={}){function e(i,s){let{pathname:a,search:u,hash:f}=i.location;return Od("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Ta(s)}return sT(e,t,null,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oT(){return Math.random().toString(36).substring(2,10)}function dy(r,e){return{usr:r.state,key:r.key,idx:e}}function Od(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?cs(e):e,state:t,key:e&&e.key||i||oT()}}function Ta({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function cs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function sT(r,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,f="POP",p=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function g(){f="POP";let w=v(),_=w==null?null:w-y;y=w,p&&p({action:f,location:A.location,delta:_})}function d(w,_){f="PUSH";let T=Od(A.location,w,_);y=v()+1;let x=dy(T,y),b=A.createHref(T);try{u.pushState(x,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(b)}a&&p&&p({action:f,location:A.location,delta:1})}function m(w,_){f="REPLACE";let T=Od(A.location,w,_);y=v();let x=dy(T,y),b=A.createHref(T);u.replaceState(x,"",b),a&&p&&p({action:f,location:A.location,delta:0})}function S(w){let _=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof w=="string"?w:Ta(w);return T=T.replace(/ $/,"%20"),Et(_,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,_)}let A={get action(){return f},get location(){return r(s,u)},listen(w){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(hy,g),p=w,()=>{s.removeEventListener(hy,g),p=null}},createHref(w){return e(s,w)},createURL:S,encodeLocation(w){let _=S(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:m,go(w){return u.go(w)}};return A}function u1(r,e,t="/"){return aT(r,e,t,!1)}function aT(r,e,t,i){let s=typeof e=="string"?cs(e):e,a=pi(s.pathname||"/",t);if(a==null)return null;let u=c1(r);lT(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let y=_T(a);f=yT(u[p],y,i)}return f}function c1(r,e=[],t=[],i=""){let s=(a,u,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Nr([i,p.relativePath]),v=t.concat(p);a.children&&a.children.length>0&&(Et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),c1(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:mT(y,a.index),routesMeta:v})};return r.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let p of f1(a.path))s(a,u,p)}),e}function f1(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=f1(i.join("/")),f=[];return f.push(...u.map(p=>p===""?a:[a,p].join("/"))),s&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function lT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:gT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var uT=/^:[\w-]+$/,cT=3,fT=2,hT=1,dT=10,pT=-2,py=r=>r==="*";function mT(r,e){let t=r.split("/"),i=t.length;return t.some(py)&&(i+=pT),e&&(i+=fT),t.filter(s=>!py(s)).reduce((s,a)=>s+(uT.test(a)?cT:a===""?hT:dT),i)}function gT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function yT(r,e,t=!1){let{routesMeta:i}=r,s={},a="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",g=yu({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),d=p.route;if(!g&&y&&t&&!i[i.length-1].route.index&&(g=yu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!g)return null;Object.assign(s,g.params),u.push({params:s,pathname:Nr([a,g.pathname]),pathnameBase:AT(Nr([a,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(a=Nr([a,g.pathnameBase]))}return u}function yu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=vT(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:g},d)=>{if(v==="*"){let S=f[d]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const m=f[d];return g&&!m?y[v]=void 0:y[v]=(m||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:r}}function vT(r,e=!1,t=!0){mr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function _T(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function ET(r,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?cs(r):r;return{pathname:t?t.startsWith("/")?t:wT(t,e):e,search:ST(i),hash:bT(s)}}function wT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function qf(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function h1(r){let e=TT(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function d1(r,e,t,i=!1){let s;typeof r=="string"?s=cs(r):(s={...r},Et(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let a=r===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!i&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),g-=1;s.pathname=d.join("/")}f=g>=0?e[g]:"/"}let p=ET(s,f),y=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Nr=r=>r.join("/").replace(/\/\/+/g,"/"),AT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ST=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function IT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var RT=["GET",...p1];new Set(RT);var fs=pe.createContext(null);fs.displayName="DataRouter";var Lu=pe.createContext(null);Lu.displayName="DataRouterState";var m1=pe.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var kT=pe.createContext(new Map);kT.displayName="Fetchers";var PT=pe.createContext(null);PT.displayName="Await";var yr=pe.createContext(null);yr.displayName="Navigation";var xa=pe.createContext(null);xa.displayName="Location";var vr=pe.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Zd=pe.createContext(null);Zd.displayName="RouteError";function OT(r,{relative:e}={}){Et(Na(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=pe.useContext(yr),{hash:s,pathname:a,search:u}=La(r,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Nr([t,a])),i.createHref({pathname:f,search:u,hash:s})}function Na(){return pe.useContext(xa)!=null}function io(){return Et(Na(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(xa).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(r){pe.useContext(yr).static||pe.useLayoutEffect(r)}function v1(){let{isDataRoute:r}=pe.useContext(vr);return r?zT():CT()}function CT(){Et(Na(),"useNavigate() may be used only in the context of a <Router> component.");let r=pe.useContext(fs),{basename:e,navigator:t}=pe.useContext(yr),{matches:i}=pe.useContext(vr),{pathname:s}=io(),a=JSON.stringify(h1(i)),u=pe.useRef(!1);return y1(()=>{u.current=!0}),pe.useCallback((p,y={})=>{if(mr(u.current,g1),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=d1(p,JSON.parse(a),s,y.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Nr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,a,s,r])}pe.createContext(null);function _1(){let{matches:r}=pe.useContext(vr),e=r[r.length-1];return e?e.params:{}}function La(r,{relative:e}={}){let{matches:t}=pe.useContext(vr),{pathname:i}=io(),s=JSON.stringify(h1(t));return pe.useMemo(()=>d1(r,JSON.parse(s),i,e==="path"),[r,s,i,e])}function xT(r,e){return E1(r,e)}function E1(r,e,t,i){var _;Et(Na(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=pe.useContext(yr),{matches:a}=pe.useContext(vr),u=a[a.length-1],f=u?u.params:{},p=u?u.pathname:"/",y=u?u.pathnameBase:"/",v=u&&u.route;{let T=v&&v.path||"";w1(p,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=io(),d;if(e){let T=typeof e=="string"?cs(e):e;Et(y==="/"||((_=T.pathname)==null?void 0:_.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),d=T}else d=g;let m=d.pathname||"/",S=m;if(y!=="/"){let T=y.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=u1(r,{pathname:S});mr(v||A!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),mr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=VT(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Nr([y,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Nr([y,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,i);return e&&w?pe.createElement(xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},w):w}function NT(){let r=UT(),e=IT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=pe.createElement(pe.Fragment,null,pe.createElement("p",null," Hey developer "),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:a},"ErrorBoundary")," or"," ",pe.createElement("code",{style:a},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),t?pe.createElement("pre",{style:s},t):null,u)}var LT=pe.createElement(NT,null),DT=class extends pe.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?pe.createElement(vr.Provider,{value:this.props.routeContext},pe.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MT({routeContext:r,match:e,children:t}){let i=pe.useContext(fs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(vr.Provider,{value:r},t)}function VT(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=t==null?void 0:t.errors;if(a!=null){let p=s.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:v,errors:g}=t,d=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!g||g[y.route.id]===void 0);if(y.route.lazy||d){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,y,v)=>{let g,d=!1,m=null,S=null;t&&(g=a&&y.route.id?a[y.route.id]:void 0,m=y.route.errorElement||LT,u&&(f<0&&v===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,S=null):f===v&&(d=!0,S=y.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,v+1)),w=()=>{let _;return g?_=m:d?_=S:y.route.Component?_=pe.createElement(y.route.Component,null):y.route.element?_=y.route.element:_=p,pe.createElement(MT,{match:y,routeContext:{outlet:p,matches:A,isDataRoute:t!=null},children:_})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?pe.createElement(DT,{location:t.location,revalidation:t.revalidation,component:m,error:g,children:w(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):w()},null)}function Jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(r){let e=pe.useContext(fs);return Et(e,Jd(r)),e}function jT(r){let e=pe.useContext(Lu);return Et(e,Jd(r)),e}function FT(r){let e=pe.useContext(vr);return Et(e,Jd(r)),e}function ep(r){let e=FT(r),t=e.matches[e.matches.length-1];return Et(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function BT(){return ep("useRouteId")}function UT(){var i;let r=pe.useContext(Zd),e=jT("useRouteError"),t=ep("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function zT(){let{router:r}=qT("useNavigate"),e=ep("useNavigate"),t=pe.useRef(!1);return y1(()=>{t.current=!0}),pe.useCallback(async(s,a={})=>{mr(t.current,g1),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...a}))},[r,e])}var my={};function w1(r,e,t){!e&&!my[r]&&(my[r]=!0,mr(!1,t))}pe.memo($T);function $T({routes:r,future:e,state:t}){return E1(r,void 0,t,e)}function ca(r){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HT({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){Et(!Na(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=pe.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=cs(t));let{pathname:p="/",search:y="",hash:v="",state:g=null,key:d="default"}=t,m=pe.useMemo(()=>{let S=pi(p,u);return S==null?null:{location:{pathname:S,search:y,hash:v,state:g,key:d},navigationType:i}},[u,p,y,v,g,d,i]);return mr(m!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:pe.createElement(yr.Provider,{value:f},pe.createElement(xa.Provider,{children:e,value:m}))}function KT({children:r,location:e}){return xT(Cd(r),e)}function Cd(r,e=[]){let t=[];return pe.Children.forEach(r,(i,s)=>{if(!pe.isValidElement(i))return;let a=[...e,s];if(i.type===pe.Fragment){t.push.apply(t,Cd(i.props.children,a));return}Et(i.type===ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Cd(i.props.children,a)),t.push(u)}),t}var lu="get",uu="application/x-www-form-urlencoded";function Du(r){return r!=null&&typeof r.tagName=="string"}function GT(r){return Du(r)&&r.tagName.toLowerCase()==="button"}function WT(r){return Du(r)&&r.tagName.toLowerCase()==="form"}function QT(r){return Du(r)&&r.tagName.toLowerCase()==="input"}function YT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XT(r,e){return r.button===0&&(!e||e==="_self")&&!YT(r)}var nu=null;function ZT(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(r){return r!=null&&!JT.has(r)?(mr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):r}function eA(r,e){let t,i,s,a,u;if(WT(r)){let f=r.getAttribute("action");i=f?pi(f,e):null,t=r.getAttribute("method")||lu,s=jf(r.getAttribute("enctype"))||uu,a=new FormData(r)}else if(GT(r)||QT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(i=p?pi(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||lu,s=jf(r.getAttribute("formenctype"))||jf(f.getAttribute("enctype"))||uu,a=new FormData(f,r),!ZT()){let{name:y,type:v,value:g}=r;if(v==="image"){let d=y?`${y}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else y&&a.append(y,g)}}else{if(Du(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lu,i=null,s=uu,u=r}return a&&s==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:u}}function tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function tA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rA(r,e,t){let i=await Promise.all(r.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await tA(a,t);return u.links?u.links():[]}return[]}));return aA(i.flat(1).filter(nA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gy(r,e,t,i,s,a){let u=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>u(p,y)||f(p,y)):a==="data"?e.filter((p,y)=>{var g;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let d=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function iA(r,e){return oA(r.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function oA(r){return[...new Set(r)]}function sA(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function aA(r,e){let t=new Set;return new Set(e),r.reduce((i,s)=>{let a=JSON.stringify(sA(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function lA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uA(){let r=pe.useContext(fs);return tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cA(){let r=pe.useContext(Lu);return tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var np=pe.createContext(void 0);np.displayName="FrameworkContext";function T1(){let r=pe.useContext(np);return tp(r,"You must render this element inside a <HydratedRouter> element"),r}function fA(r,e){let t=pe.useContext(np),[i,s]=pe.useState(!1),[a,u]=pe.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:g}=e,d=pe.useRef(null);pe.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let A=_=>{_.forEach(T=>{u(T.isIntersecting)})},w=new IntersectionObserver(A,{threshold:.5});return d.current&&w.observe(d.current),()=>{w.disconnect()}}},[r]),pe.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let m=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?r!=="intent"?[a,d,{}]:[a,d,{onFocus:ua(f,m),onBlur:ua(p,S),onMouseEnter:ua(y,m),onMouseLeave:ua(v,S),onTouchStart:ua(g,m)}]:[!1,d,{}]}function ua(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function hA({page:r,...e}){let{router:t}=uA(),i=pe.useMemo(()=>u1(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?pe.createElement(pA,{page:r,matches:i,...e}):null}function dA(r){let{manifest:e,routeModules:t}=T1(),[i,s]=pe.useState([]);return pe.useEffect(()=>{let a=!1;return rA(r,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[r,e,t]),i}function pA({page:r,matches:e,...t}){let i=io(),{manifest:s,routeModules:a}=T1(),{loaderData:u,matches:f}=cA(),p=pe.useMemo(()=>gy(r,e,f,s,i,"data"),[r,e,f,s,i]),y=pe.useMemo(()=>gy(r,e,f,s,i,"assets"),[r,e,f,s,i]),v=pe.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let m=new Set,S=!1;if(e.forEach(w=>{var T;let _=s.routes[w.route.id];!_||!_.hasLoader||(!p.some(x=>x.route.id===w.route.id)&&w.route.id in u&&((T=a[w.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?S=!0:m.add(w.route.id))}),m.size===0)return[];let A=lA(r);return S&&m.size>0&&A.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[u,i,s,p,e,r,a]),g=pe.useMemo(()=>iA(y,s),[y,s]),d=dA(y);return pe.createElement(pe.Fragment,null,v.map(m=>pe.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),g.map(m=>pe.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),d.map(({key:m,link:S})=>pe.createElement("link",{key:m,...S})))}function mA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A1&&(window.__reactRouterVersion="7.1.1")}catch{}function gA({basename:r,children:e,window:t}){let i=pe.useRef();i.current==null&&(i.current=iT({window:t,v5Compat:!0}));let s=i.current,[a,u]=pe.useState({action:s.action,location:s.location}),f=pe.useCallback(p=>{pe.startTransition(()=>u(p))},[u]);return pe.useLayoutEffect(()=>s.listen(f),[s,f]),pe.createElement(HT,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:s})}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mu=pe.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:u,state:f,target:p,to:y,preventScrollReset:v,viewTransition:g,...d},m){let{basename:S}=pe.useContext(yr),A=typeof y=="string"&&S1.test(y),w,_=!1;if(typeof y=="string"&&A&&(w=y,A1))try{let D=new URL(window.location.href),O=y.startsWith("//")?new URL(D.protocol+y):new URL(y),I=pi(O.pathname,S);O.origin===D.origin&&I!=null?y=I+O.search+O.hash:_=!0}catch{mr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=OT(y,{relative:s}),[x,b,M]=fA(i,d),j=EA(y,{replace:u,state:f,target:p,preventScrollReset:v,relative:s,viewTransition:g});function C(D){e&&e(D),D.defaultPrevented||j(D)}let R=pe.createElement("a",{...d,...M,href:w||T,onClick:_||a?e:C,ref:mA(m,b),target:p,"data-discover":!A&&t==="render"?"true":void 0});return x&&!A?pe.createElement(pe.Fragment,null,R,pe.createElement(hA,{page:T})):R});Mu.displayName="Link";var yA=pe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:u,viewTransition:f,children:p,...y},v){let g=La(u,{relative:y.relative}),d=io(),m=pe.useContext(Lu),{navigator:S,basename:A}=pe.useContext(yr),w=m!=null&&bA(g)&&f===!0,_=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,T=d.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(T=T.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&A&&(x=pi(x,A)||x);const b=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=T===_||!s&&T.startsWith(_)&&T.charAt(b)==="/",j=x!=null&&(x===_||!s&&x.startsWith(_)&&x.charAt(_.length)==="/"),C={isActive:M,isPending:j,isTransitioning:w},R=M?e:void 0,D;typeof i=="function"?D=i(C):D=[i,M?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return pe.createElement(Mu,{...y,"aria-current":R,className:D,ref:v,style:O,to:u,viewTransition:f},typeof p=="function"?p(C):p)});yA.displayName="NavLink";var vA=pe.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:u=lu,action:f,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:g,...d},m)=>{let S=AA(),A=SA(f,{relative:y}),w=u.toLowerCase()==="get"?"get":"post",_=typeof f=="string"&&S1.test(f),T=x=>{if(p&&p(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,M=(b==null?void 0:b.getAttribute("formmethod"))||u;S(b||x.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:s,state:a,relative:y,preventScrollReset:v,viewTransition:g})};return pe.createElement("form",{ref:m,method:w,action:A,onSubmit:i?p:T,...d,"data-discover":!_&&r==="render"?"true":void 0})});vA.displayName="Form";function _A(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b1(r){let e=pe.useContext(fs);return Et(e,_A(r)),e}function EA(r,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=v1(),p=io(),y=La(r,{relative:a});return pe.useCallback(v=>{if(XT(v,e)){v.preventDefault();let g=t!==void 0?t:Ta(p)===Ta(y);f(r,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[p,f,y,t,i,e,r,s,a,u])}var wA=0,TA=()=>`__${String(++wA)}__`;function AA(){let{router:r}=b1("useSubmit"),{basename:e}=pe.useContext(yr),t=BT();return pe.useCallback(async(i,s={})=>{let{action:a,method:u,encType:f,formData:p,body:y}=eA(i,e);if(s.navigate===!1){let v=s.fetcherKey||TA();await r.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await r.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function SA(r,{relative:e}={}){let{basename:t}=pe.useContext(yr),i=pe.useContext(vr);Et(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...La(r||".",{relative:e})},u=io();if(r==null){a.search=u.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let v=f.toString();a.search=v?`?${v}`:""}}return(!r||r===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Nr([t,a.pathname])),Ta(a)}function bA(r,e={}){let t=pe.useContext(m1);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=b1("useViewTransitionState"),s=La(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yu(s.pathname,u)!=null||yu(s.pathname,a)!=null}new TextEncoder;var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},IA=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const s=r[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=r[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=r[t++],u=r[t++],f=r[t++],p=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=r[t++],u=r[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<r.length;s+=3){const a=r[s],u=s+1<r.length,f=u?r[s+1]:0,p=s+2<r.length,y=p?r[s+2]:0,v=a>>2,g=(a&3)<<4|f>>4;let d=(f&15)<<2|y>>6,m=y&63;p||(m=64,u||(d=64)),i.push(t[v],t[g],t[d],t[m])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<r.length;){const a=t[r.charAt(s++)],f=s<r.length?t[r.charAt(s)]:0;++s;const y=s<r.length?t[r.charAt(s)]:64;++s;const g=s<r.length?t[r.charAt(s)]:64;if(++s,a==null||f==null||y==null||g==null)throw new RA;const d=a<<2|f>>4;if(i.push(d),y!==64){const m=f<<4&240|y>>2;if(i.push(m),g!==64){const S=y<<6&192|g;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(r){const e=I1(r);return R1.encodeByteArray(e,!0)},vu=function(r){return kA(r).replace(/\./g,"")},PA=function(r){try{return R1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>OA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof yy>"u")return;const r=yy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PA(r[1]);return e&&JSON.parse(e)},rp=()=>{try{return CA()||xA()||NA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LA=r=>{var e,t;return(t=(e=rp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},DA=r=>{const e=LA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},k1=()=>{var r;return(r=rp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vu(JSON.stringify(t)),vu(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){var r;const e=(r=rp())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function UA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=zA,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?$A(a,i):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new Ti(s,f,i)}}function $A(r,e){return r.replace(HA,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HA=/\{\$([^}]+)}/g;function _u(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=r[s],u=e[s];if(vy(a)&&vy(u)){if(!_u(a,u))return!1}else if(a!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function vy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1e3,GA=2,WA=4*60*60*1e3,QA=.5;function _y(r,e=KA,t=GA){const i=e*Math.pow(t,r),s=Math.round(QA*i*(Math.random()-.5)*2);return Math.min(WA,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(r){return r&&r._delegate?r._delegate:r}class Mr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new MA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XA(r){return r===Xi?void 0:r}function ZA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const eS={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},tS=et.INFO,nS={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},rS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),s=nS[e];if(s)console[s](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const iS=(r,e)=>e.some(t=>r instanceof t);let Ey,wy;function oS(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sS(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,xd=new WeakMap,x1=new WeakMap,Ff=new WeakMap,op=new WeakMap;function aS(r){const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(fi(r.result)),s()},u=()=>{i(r.error),s()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&C1.set(t,r)}).catch(()=>{}),op.set(e,r),e}function lS(r){if(xd.has(r))return;const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});xd.set(r,e)}let Nd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||x1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uS(r){Nd=r(Nd)}function cS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Bf(this),e,...t);return x1.set(i,e.sort?e.sort():[e]),fi(i)}:sS().includes(r)?function(...e){return r.apply(Bf(this),e),fi(C1.get(this))}:function(...e){return fi(r.apply(Bf(this),e))}}function fS(r){return typeof r=="function"?cS(r):(r instanceof IDBTransaction&&lS(r),iS(r,oS())?new Proxy(r,Nd):r)}function fi(r){if(r instanceof IDBRequest)return aS(r);if(Ff.has(r))return Ff.get(r);const e=fS(r);return e!==r&&(Ff.set(r,e),op.set(e,r)),e}const Bf=r=>op.get(r);function N1(r,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(r,e),f=fi(u);return i&&u.addEventListener("upgradeneeded",p=>{i(fi(u.result),p.oldVersion,p.newVersion,fi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const hS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],Uf=new Map;function Ty(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=dS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||hS.includes(t)))return;const a=async function(u,...f){const p=this.transaction(u,s?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),s&&p.done]))[0]};return Uf.set(e,a),a}uS(r=>({...r,get:(e,t,i)=>Ty(e,t)||r.get(e,t,i),has:(e,t)=>!!Ty(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ld="@firebase/app",Ay="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new ip("@firebase/app"),gS="@firebase/app-compat",yS="@firebase/analytics-compat",vS="@firebase/analytics",_S="@firebase/app-check-compat",ES="@firebase/app-check",wS="@firebase/auth",TS="@firebase/auth-compat",AS="@firebase/database",SS="@firebase/data-connect",bS="@firebase/database-compat",IS="@firebase/functions",RS="@firebase/functions-compat",kS="@firebase/installations",PS="@firebase/installations-compat",OS="@firebase/messaging",CS="@firebase/messaging-compat",xS="@firebase/performance",NS="@firebase/performance-compat",LS="@firebase/remote-config",DS="@firebase/remote-config-compat",MS="@firebase/storage",VS="@firebase/storage-compat",qS="@firebase/firestore",jS="@firebase/vertexai",FS="@firebase/firestore-compat",BS="firebase",US="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",zS={[Ld]:"fire-core",[gS]:"fire-core-compat",[vS]:"fire-analytics",[yS]:"fire-analytics-compat",[ES]:"fire-app-check",[_S]:"fire-app-check-compat",[wS]:"fire-auth",[TS]:"fire-auth-compat",[AS]:"fire-rtdb",[SS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[IS]:"fire-fn",[RS]:"fire-fn-compat",[kS]:"fire-iid",[PS]:"fire-iid-compat",[OS]:"fire-fcm",[CS]:"fire-fcm-compat",[xS]:"fire-perf",[NS]:"fire-perf-compat",[LS]:"fire-rc",[DS]:"fire-rc-compat",[MS]:"fire-gcs",[VS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[jS]:"fire-vertex","fire-js":"fire-js",[BS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map,$S=new Map,Md=new Map;function Sy(r,e){try{r.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function gi(r){const e=r.name;if(Md.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;Md.set(e,r);for(const t of Eu.values())Sy(t,r);for(const t of $S.values())Sy(t,r);return!0}function Da(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new Vu("app","Firebase",HS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=US;function L1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw hi.create("bad-app-name",{appName:String(s)});if(t||(t=k1()),!t)throw hi.create("no-options");const a=Eu.get(s);if(a){if(_u(t,a.options)&&_u(i,a.config))return a;throw hi.create("duplicate-app",{appName:s})}const u=new JA(s);for(const p of Md.values())u.addComponent(p);const f=new KS(t,i,u);return Eu.set(s,f),f}function D1(r=Dd){const e=Eu.get(r);if(!e&&r===Dd&&k1())return L1();if(!e)throw hi.create("no-app",{appName:r});return e}function hr(r,e,t){var i;let s=(i=zS[r])!==null&&i!==void 0?i:r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(f.join(" "));return}gi(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebase-heartbeat-database",QS=1,Aa="firebase-heartbeat-store";let zf=null;function M1(){return zf||(zf=N1(WS,QS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Aa)}catch(t){console.warn(t)}}}}).catch(r=>{throw hi.create("idb-open",{originalErrorMessage:r.message})})),zf}async function YS(r){try{const t=(await M1()).transaction(Aa),i=await t.objectStore(Aa).get(V1(r));return await t.done,i}catch(e){if(e instanceof Ti)Vr.warn(e.message);else{const t=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(t.message)}}}async function by(r,e){try{const i=(await M1()).transaction(Aa,"readwrite");await i.objectStore(Aa).put(e,V1(r)),await i.done}catch(t){if(t instanceof Ti)Vr.warn(t.message);else{const i=hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(i.message)}}}function V1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1024,ZS=30*24*60*60*1e3;class JS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new t2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Iy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=ZS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Vr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iy(),{heartbeatsToSend:i,unsentEntries:s}=e2(this._heartbeatsCache.heartbeats),a=vu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vr.warn(t),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function e2(r,e=XS){const t=[];let i=r.slice();for(const s of r){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Ry(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ry(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class t2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return by(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return by(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ry(r){return vu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){gi(new Mr("platform-logger",e=>new pS(e),"PRIVATE")),gi(new Mr("heartbeat",e=>new JS(e),"PRIVATE")),hr(Ld,Ay,r),hr(Ld,Ay,"esm2017"),hr("fire-js","")}n2("");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,q1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function D(){}D.prototype=R.prototype,C.D=R.prototype,C.prototype=new D,C.prototype.constructor=C,C.C=function(O,I,L){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return R.prototype[I].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,R,D){D||(D=0);var O=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)O[I]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(I=0;16>I;++I)O[I]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=C.g[0],D=C.g[1],I=C.g[2];var L=C.g[3],N=R+(L^D&(I^L))+O[0]+3614090360&4294967295;R=D+(N<<7&4294967295|N>>>25),N=L+(I^R&(D^I))+O[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(D^L&(R^D))+O[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(R^I&(L^R))+O[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=R+(L^D&(I^L))+O[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=L+(I^R&(D^I))+O[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(D^L&(R^D))+O[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(R^I&(L^R))+O[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=R+(L^D&(I^L))+O[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=L+(I^R&(D^I))+O[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(D^L&(R^D))+O[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(R^I&(L^R))+O[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=R+(L^D&(I^L))+O[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=L+(I^R&(D^I))+O[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(D^L&(R^D))+O[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(R^I&(L^R))+O[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=R+(I^L&(D^I))+O[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(R^D))+O[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^D&(L^R))+O[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^R&(I^L))+O[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(D^I))+O[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(R^D))+O[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^D&(L^R))+O[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^R&(I^L))+O[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(D^I))+O[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(R^D))+O[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^D&(L^R))+O[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^R&(I^L))+O[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(D^I))+O[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(R^D))+O[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^D&(L^R))+O[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^R&(I^L))+O[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=R+(D^I^L)+O[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=L+(R^D^I)+O[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^D)+O[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^R)+O[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=R+(D^I^L)+O[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=L+(R^D^I)+O[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^D)+O[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^R)+O[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=R+(D^I^L)+O[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=L+(R^D^I)+O[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^D)+O[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^R)+O[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=R+(D^I^L)+O[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=L+(R^D^I)+O[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^D)+O[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^R)+O[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=R+(I^(D|~L))+O[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=L+(D^(R|~I))+O[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~D))+O[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~R))+O[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=R+(I^(D|~L))+O[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=L+(D^(R|~I))+O[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~D))+O[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~R))+O[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=R+(I^(D|~L))+O[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=L+(D^(R|~I))+O[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~D))+O[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~R))+O[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=R+(I^(D|~L))+O[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=L+(D^(R|~I))+O[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~D))+O[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var D=R-this.blockSize,O=this.B,I=this.h,L=0;L<R;){if(I==0)for(;L<=D;)s(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(O[I++]=C.charCodeAt(L++),I==this.blockSize){s(this,O),I=0;break}}else for(;L<R;)if(O[I++]=C[L++],I==this.blockSize){s(this,O),I=0;break}}this.h=I,this.o+=R},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var D=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=D&255,D/=256;for(this.u(C),C=Array(16),R=D=0;4>R;++R)for(var O=0;32>O;O+=8)C[D++]=this.g[R]>>>O&255;return C};function a(C,R){var D=f;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=R(C)}function u(C,R){this.h=R;for(var D=[],O=!0,I=C.length-1;0<=I;I--){var L=C[I]|0;O&&L==R||(D[I]=L,O=!1)}this.g=D}var f={};function p(C){return-128<=C&&128>C?a(C,function(R){return new u([R|0],0>R?-1:0)}):new u([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return w(y(-C));for(var R=[],D=1,O=0;C>=D;O++)R[O]=C/D|0,D*=4294967296;return new u(R,0)}function v(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return w(v(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(R,8)),O=g,I=0;I<C.length;I+=8){var L=Math.min(8,C.length-I),N=parseInt(C.substring(I,I+L),R);8>L?(L=y(Math.pow(R,L)),O=O.j(L).add(y(N))):(O=O.j(D),O=O.add(y(N)))}return O}var g=p(0),d=p(1),m=p(16777216);r=u.prototype,r.m=function(){if(A(this))return-w(this).m();for(var C=0,R=1,D=0;D<this.g.length;D++){var O=this.i(D);C+=(0<=O?O:4294967296+O)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(A(this))return"-"+w(this).toString(C);for(var R=y(Math.pow(C,6)),D=this,O="";;){var I=b(D,R).g;D=_(D,I.j(R));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(C);if(D=I,S(D))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function A(C){return C.h==-1}r.l=function(C){return C=_(this,C),A(C)?-1:S(C)?0:1};function w(C){for(var R=C.g.length,D=[],O=0;O<R;O++)D[O]=~C.g[O];return new u(D,~C.h).add(d)}r.abs=function(){return A(this)?w(this):this},r.add=function(C){for(var R=Math.max(this.g.length,C.g.length),D=[],O=0,I=0;I<=R;I++){var L=O+(this.i(I)&65535)+(C.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);O=N>>>16,L&=65535,N&=65535,D[I]=N<<16|L}return new u(D,D[D.length-1]&-2147483648?-1:0)};function _(C,R){return C.add(w(R))}r.j=function(C){if(S(this)||S(C))return g;if(A(this))return A(C)?w(this).j(w(C)):w(w(this).j(C));if(A(C))return w(this.j(w(C)));if(0>this.l(m)&&0>C.l(m))return y(this.m()*C.m());for(var R=this.g.length+C.g.length,D=[],O=0;O<2*R;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var I=0;I<C.g.length;I++){var L=this.i(O)>>>16,N=this.i(O)&65535,$=C.i(I)>>>16,G=C.i(I)&65535;D[2*O+2*I]+=N*G,T(D,2*O+2*I),D[2*O+2*I+1]+=L*G,T(D,2*O+2*I+1),D[2*O+2*I+1]+=N*$,T(D,2*O+2*I+1),D[2*O+2*I+2]+=L*$,T(D,2*O+2*I+2)}for(O=0;O<R;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=R;O<2*R;O++)D[O]=0;return new u(D,0)};function T(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function x(C,R){this.g=C,this.h=R}function b(C,R){if(S(R))throw Error("division by zero");if(S(C))return new x(g,g);if(A(C))return R=b(w(C),R),new x(w(R.g),w(R.h));if(A(R))return R=b(C,w(R)),new x(w(R.g),R.h);if(30<C.g.length){if(A(C)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var D=d,O=R;0>=O.l(C);)D=M(D),O=M(O);var I=j(D,1),L=j(O,1);for(O=j(O,2),D=j(D,2);!S(O);){var N=L.add(O);0>=N.l(C)&&(I=I.add(D),L=N),O=j(O,1),D=j(D,1)}return R=_(C,I.j(R)),new x(I,R)}for(I=g;0<=C.l(R);){for(D=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=y(D),N=L.j(R);A(N)||0<N.l(C);)D-=O,L=y(D),N=L.j(R);S(L)&&(L=d),I=I.add(L),C=_(C,N)}return new x(I,C)}r.A=function(C){return b(this,C).h},r.and=function(C){for(var R=Math.max(this.g.length,C.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)&C.i(O);return new u(D,this.h&C.h)},r.or=function(C){for(var R=Math.max(this.g.length,C.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)|C.i(O);return new u(D,this.h|C.h)},r.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)^C.i(O);return new u(D,this.h^C.h)};function M(C){for(var R=C.g.length+1,D=[],O=0;O<R;O++)D[O]=C.i(O)<<1|C.i(O-1)>>>31;return new u(D,C.h)}function j(C,R){var D=R>>5;R%=32;for(var O=C.g.length-D,I=[],L=0;L<O;L++)I[L]=0<R?C.i(L+D)>>>R|C.i(L+D+1)<<32-R:C.i(L+D);return new u(I,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,q1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,eo=u}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,fa,F1,cu,Vd,B1,U1,z1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,k,q){return c==Array.prototype||c==Object.prototype||(c[k]=q.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var k=0;k<c.length;++k){var q=c[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=t(this);function s(c,k){if(k)e:{var q=i;c=c.split(".");for(var U=0;U<c.length-1;U++){var se=c[U];if(!(se in q))break e;q=q[se]}c=c[c.length-1],U=q[c],k=k(U),k!=U&&k!=null&&e(q,c,{configurable:!0,writable:!0,value:k})}}function a(c,k){c instanceof String&&(c+="");var q=0,U=!1,se={next:function(){if(!U&&q<c.length){var ce=q++;return{value:k(ce,c[ce]),done:!1}}return U=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}s("Array.prototype.values",function(c){return c||function(){return a(this,function(k,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var k=typeof c;return k=k!="object"?k:c?Array.isArray(c)?"array":k:"null",k=="array"||k=="object"&&typeof c.length=="number"}function y(c){var k=typeof c;return k=="object"&&c!=null||k=="function"}function v(c,k,q){return c.call.apply(c.bind,arguments)}function g(c,k,q){if(!c)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,U),c.apply(k,se)}}return function(){return c.apply(k,arguments)}}function d(c,k,q){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:g,d.apply(null,arguments)}function m(c,k){var q=Array.prototype.slice.call(arguments,1);return function(){var U=q.slice();return U.push.apply(U,arguments),c.apply(this,U)}}function S(c,k){function q(){}q.prototype=k.prototype,c.aa=k.prototype,c.prototype=new q,c.prototype.constructor=c,c.Qb=function(U,se,ce){for(var Ae=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Ae[lt-2]=arguments[lt];return k.prototype[se].apply(U,Ae)}}function A(c){const k=c.length;if(0<k){const q=Array(k);for(let U=0;U<k;U++)q[U]=c[U];return q}return[]}function w(c,k){for(let q=1;q<arguments.length;q++){const U=arguments[q];if(p(U)){const se=c.length||0,ce=U.length||0;c.length=se+ce;for(let Ae=0;Ae<ce;Ae++)c[se+Ae]=U[Ae]}else c.push(U)}}class _{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function T(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function b(c){return b[" "](c),c}b[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function j(c,k,q){for(const U in c)k.call(q,c[U],U,c)}function C(c,k){for(const q in c)k.call(void 0,c[q],q,c)}function R(c){const k={};for(const q in c)k[q]=c[q];return k}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,k){let q,U;for(let se=1;se<arguments.length;se++){U=arguments[se];for(q in U)c[q]=U[q];for(let ce=0;ce<D.length;ce++)q=D[ce],Object.prototype.hasOwnProperty.call(U,q)&&(c[q]=U[q])}}function I(c){var k=1;c=c.split(":");const q=[];for(;0<k&&c.length;)q.push(c.shift()),k--;return c.length&&q.push(c.join(":")),q}function L(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Q;let k=null;return c.g&&(k=c.g,c.g=c.g.next,c.g||(c.h=null),k.next=null),k}class ${constructor(){this.h=this.g=null}add(k,q){const U=G.get();U.set(k,q),this.h?this.h.next=U:this.g=U,this.h=U}}var G=new _(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,Q=new $,H=()=>{const c=f.Promise.resolve(void 0);te=()=>{c.then(V)}};var V=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(q){L(q)}var k=G;k.j(c),100>k.h&&(k.h++,c.next=k.g,k.g=c)}re=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,k){this.type=c,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,k=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const q=()=>{};f.addEventListener("test",q,k),f.removeEventListener("test",q,k)}catch{}return c}();function Z(c,k){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var q=this.type=c.type,U=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=k,k=c.relatedTarget){if(M){e:{try{b(k.nodeName);var se=!0;break e}catch{}se=!1}se||(k=null)}}else q=="mouseover"?k=c.fromElement:q=="mouseout"&&(k=c.toElement);this.relatedTarget=k,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Z.aa.h.call(this)}}S(Z,K);var z={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(c,k,q,U,se){this.listener=c,this.proxy=null,this.src=k,this.type=q,this.capture=!!U,this.ha=se,this.key=++ie,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,k,q,U,se){var ce=c.toString();c=this.g[ce],c||(c=this.g[ce]=[],this.h++);var Ae=qe(c,k,U,se);return-1<Ae?(k=c[Ae],q||(k.fa=!1)):(k=new oe(k,this.src,ce,!!U,se),k.fa=q,c.push(k)),k};function De(c,k){var q=k.type;if(q in c.g){var U=c.g[q],se=Array.prototype.indexOf.call(U,k,void 0),ce;(ce=0<=se)&&Array.prototype.splice.call(U,se,1),ce&&(he(k),c.g[q].length==0&&(delete c.g[q],c.h--))}}function qe(c,k,q,U){for(var se=0;se<c.length;++se){var ce=c[se];if(!ce.da&&ce.listener==k&&ce.capture==!!q&&ce.ha==U)return se}return-1}var He="closure_lm_"+(1e6*Math.random()|0),We={};function It(c,k,q,U,se){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)It(c,k[ce],q,U,se);return null}return q=Ke(q),c&&c[Y]?c.K(k,q,y(U)?!!U.capture:!1,se):ht(c,k,q,!1,U,se)}function ht(c,k,q,U,se,ce){if(!k)throw Error("Invalid event type");var Ae=y(se)?!!se.capture:!!se,lt=Be(c);if(lt||(c[He]=lt=new Ie(c)),q=lt.add(k,q,U,Ae,ce),q.proxy)return q;if(U=fe(),q.proxy=U,U.src=c,U.listener=q,c.addEventListener)J||(se=Ae),se===void 0&&(se=!1),c.addEventListener(k.toString(),U,se);else if(c.attachEvent)c.attachEvent(be(k.toString()),U);else if(c.addListener&&c.removeListener)c.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return q}function fe(){function c(q){return k.call(c.src,c.listener,q)}const k=ye;return c}function de(c,k,q,U,se){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)de(c,k[ce],q,U,se);else U=y(U)?!!U.capture:!!U,q=Ke(q),c&&c[Y]?(c=c.i,k=String(k).toString(),k in c.g&&(ce=c.g[k],q=qe(ce,q,U,se),-1<q&&(he(ce[q]),Array.prototype.splice.call(ce,q,1),ce.length==0&&(delete c.g[k],c.h--)))):c&&(c=Be(c))&&(k=c.g[k.toString()],c=-1,k&&(c=qe(k,q,U,se)),(q=-1<c?k[c]:null)&&Te(q))}function Te(c){if(typeof c!="number"&&c&&!c.da){var k=c.src;if(k&&k[Y])De(k.i,c);else{var q=c.type,U=c.proxy;k.removeEventListener?k.removeEventListener(q,U,c.capture):k.detachEvent?k.detachEvent(be(q),U):k.addListener&&k.removeListener&&k.removeListener(U),(q=Be(k))?(De(q,c),q.h==0&&(q.src=null,k[He]=null)):he(c)}}}function be(c){return c in We?We[c]:We[c]="on"+c}function ye(c,k){if(c.da)c=!0;else{k=new Z(k,this);var q=c.listener,U=c.ha||c.src;c.fa&&Te(c),c=q.call(U,k)}return c}function Be(c){return c=c[He],c instanceof Ie?c:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[Ue]||(c[Ue]=function(k){return c.handleEvent(k)}),c[Ue])}function rt(){B.call(this),this.i=new Ie(this),this.M=this,this.F=null}S(rt,B),rt.prototype[Y]=!0,rt.prototype.removeEventListener=function(c,k,q,U){de(this,c,k,q,U)};function st(c,k){var q,U=c.F;if(U)for(q=[];U;U=U.F)q.push(U);if(c=c.M,U=k.type||k,typeof k=="string")k=new K(k,c);else if(k instanceof K)k.target=k.target||c;else{var se=k;k=new K(U,c),O(k,se)}if(se=!0,q)for(var ce=q.length-1;0<=ce;ce--){var Ae=k.g=q[ce];se=tt(Ae,U,!0,k)&&se}if(Ae=k.g=c,se=tt(Ae,U,!0,k)&&se,se=tt(Ae,U,!1,k)&&se,q)for(ce=0;ce<q.length;ce++)Ae=k.g=q[ce],se=tt(Ae,U,!1,k)&&se}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,k;for(k in c.g){for(var q=c.g[k],U=0;U<q.length;U++)he(q[U]);delete c.g[k],c.h--}}this.F=null},rt.prototype.K=function(c,k,q,U){return this.i.add(String(c),k,!1,q,U)},rt.prototype.L=function(c,k,q,U){return this.i.add(String(c),k,!0,q,U)};function tt(c,k,q,U){if(k=c.i.g[String(k)],!k)return!0;k=k.concat();for(var se=!0,ce=0;ce<k.length;++ce){var Ae=k[ce];if(Ae&&!Ae.da&&Ae.capture==q){var lt=Ae.listener,Ct=Ae.ha||Ae.src;Ae.fa&&De(c.i,Ae),se=lt.call(Ct,U)!==!1&&se}}return se&&!U.defaultPrevented}function Si(c,k,q){if(typeof c=="function")q&&(c=d(c,q));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:f.setTimeout(c,k||0)}function at(c){c.g=Si(()=>{c.g=null,c.i&&(c.i=!1,at(c))},c.l);const k=c.h;c.h=null,c.m.apply(null,k)}class Wt extends B{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){B.call(this),this.h=c,this.g={}}S(bi,B);var vs=[];function _s(c){j(c.g,function(k,q){this.g.hasOwnProperty(q)&&Te(k)},c),c.g={}}bi.prototype.N=function(){bi.aa.N.call(this),_s(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=f.JSON.stringify,ws=f.JSON.parse,Ts=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ii(){}Ii.prototype.h=null;function uo(c){return c.h||(c.h=c.i())}function co(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){K.call(this,"d")}S(tr,K);function fo(){K.call(this,"c")}S(fo,K);var nr={},As=null;function Ri(){return As=As||new rt}nr.La="serverreachability";function Ss(c){K.call(this,nr.La,c)}S(Ss,K);function _r(c){const k=Ri();st(k,new Ss(k))}nr.STAT_EVENT="statevent";function bs(c,k){K.call(this,nr.STAT_EVENT,c),this.stat=k}S(bs,K);function At(c){const k=Ri();st(k,new bs(k,c))}nr.Ma="timingevent";function ho(c,k){K.call(this,nr.Ma,c),this.size=k}S(ho,K);function Vn(c,k){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},k)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function Pi(c,k,q,U,se,ce){c.info(function(){if(c.g)if(ce)for(var Ae="",lt=ce.split("&"),Ct=0;Ct<lt.length;Ct++){var Ze=lt[Ct].split("=");if(1<Ze.length){var Mt=Ze[0];Ze=Ze[1];var Rt=Mt.split("_");Ae=2<=Rt.length&&Rt[1]=="type"?Ae+(Mt+"="+Ze+"&"):Ae+(Mt+"=redacted&")}}else Ae=null;else Ae=ce;return"XMLHTTP REQ ("+U+") [attempt "+se+"]: "+k+`
`+q+`
`+Ae})}function po(c,k,q,U,se,ce,Ae){c.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+se+"]: "+k+`
`+q+`
`+ce+" "+Ae})}function qn(c,k,q,U){c.info(function(){return"XMLHTTP TEXT ("+k+"): "+sc(c,q)+(U?" "+U:"")})}function Is(c,k){c.info(function(){return"TIMEOUT: "+k})}ki.prototype.info=function(){};function sc(c,k){if(!c.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var U=q[c];if(!(2>U.length)){var se=U[1];if(Array.isArray(se)&&!(1>se.length)){var ce=se[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ae=1;Ae<se.length;Ae++)se[Ae]=""}}}}return Es(q)}catch{return k}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Oi(){}S(Oi,Ii),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},jn=new Oi;function Fn(c,k,q,U){this.j=c,this.i=k,this.l=q,this.R=U||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Rs={},go={};function yo(c,k,q){c.L=1,c.v=Hr(vn(k)),c.m=q,c.P=!0,ks(c,null)}function ks(c,k){c.F=Date.now(),ct(c),c.A=vn(c.v);var q=c.A,U=c.R;Array.isArray(U)||(U=[String(U)]),Gr(q.i,"t",U),c.C=0,q=c.j.J,c.h=new Ba,c.g=ol(c.j,q?k:null,!c.m),0<c.O&&(c.M=new Wt(d(c.Y,c,c.g),c.O)),k=c.U,q=c.g,U=c.ca;var se="readystatechange";Array.isArray(se)||(se&&(vs[0]=se.toString()),se=vs);for(var ce=0;ce<se.length;ce++){var Ae=It(q,se[ce],U||k.handleEvent,!1,k.h||k);if(!Ae)break;k.g[Ae.key]=Ae}k=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,k)):(c.u="GET",c.g.ea(c.A,c.u,null,k)),_r(),Pi(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const k=this.M;k&&ln(c)==3?k.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=ln(this.g);var k=this.g.Ba();const Pn=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Ls(this.g)))){this.J||Rt!=4||k==7||(k==8||0>=Pn?_r(3):_r(2)),Ci(this);var q=this.g.Z();this.X=q;t:if(Ua(this)){var U=Ls(this.g);c="";var se=U.length,ce=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Br(this);var Ae="";break t}this.h.i=new f.TextDecoder}for(k=0;k<se;k++)this.h.h=!0,c+=this.h.i.decode(U[k],{stream:!(ce&&k==se-1)});U.length=0,this.h.g+=c,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=q==200,po(this.i,this.u,this.A,this.l,this.R,Rt,q),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Ct=this.g;if((lt=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(lt)){var Ze=lt;break t}}Ze=null}if(q=Ze)qn(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,q);else{this.o=!1,this.s=3,At(12),Rn(this),Br(this);break e}}if(this.P){q=!0;let En;for(;!this.J&&this.C<Ae.length;)if(En=ac(this,Ae),En==go){Rt==4&&(this.s=4,At(14),q=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Rs){this.s=4,At(15),qn(this.i,this.l,Ae,"[Invalid Chunk]"),q=!1;break}else qn(this.i,this.l,En,null),Ps(this,En);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||Ae.length!=0||this.h.h||(this.s=1,At(16),q=!1),this.o=this.o&&q,!q)qn(this.i,this.l,Ae,"[Invalid Chunked Response]"),Rn(this),Br(this);else if(0<Ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Ms(Mt),Mt.M=!0,At(11))}}else qn(this.i,this.l,Ae,null),Ps(this,Ae);Rt==4&&Rn(this),this.o&&!this.J&&(Rt==4?ko(this.j,this):(this.o=!1,ct(this)))}else Ao(this.g),q==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Rn(this),Br(this)}}}catch{}finally{}};function Ua(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ac(c,k){var q=c.C,U=k.indexOf(`
`,q);return U==-1?go:(q=Number(k.substring(q,U)),isNaN(q)?Rs:(U+=1,U+q>k.length?go:(k=k.slice(U,U+q),c.C=U+q,k)))}Fn.prototype.cancel=function(){this.J=!0,Rn(this)};function ct(c){c.S=Date.now()+c.I,za(c,c.I)}function za(c,k){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(d(c.ba,c),k)}function Ci(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Is(this.i,this.A),this.L!=2&&(_r(),At(17)),Rn(this),this.s=2,Br(this)):za(this,this.S-c)};function Br(c){c.j.G==0||c.J||ko(c.j,c)}function Rn(c){Ci(c);var k=c.M;k&&typeof k.ma=="function"&&k.ma(),c.M=null,_s(c.U),c.g&&(k=c.g,c.g=null,k.abort(),k.ma())}function Ps(c,k){try{var q=c.j;if(q.G!=0&&(q.g==c||nn(q.h,c))){if(!c.K&&nn(q.h,c)&&q.G==3){try{var U=q.Da.g.parse(k)}catch{U=null}if(Array.isArray(U)&&U.length==3){var se=U;if(se[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<c.F)Ro(q),Hn(q);else break e;Io(q),At(18)}}else q.za=se[1],0<q.za-q.T&&37500>se[2]&&q.F&&q.v==0&&!q.C&&(q.C=Vn(d(q.Za,q),6e3));if(1>=Ha(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Sr(q,11)}else if((c.K||q.g==c)&&Ro(q),!T(k))for(se=q.Da.g.parse(k),k=0;k<se.length;k++){let Ze=se[k];if(q.T=Ze[0],Ze=Ze[1],q.G==2)if(Ze[0]=="c"){q.K=Ze[1],q.ia=Ze[2];const Mt=Ze[3];Mt!=null&&(q.la=Mt,q.j.info("VER="+q.la));const Rt=Ze[4];Rt!=null&&(q.Aa=Rt,q.j.info("SVER="+q.Aa));const Pn=Ze[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(U=1.5*Pn,q.L=U,q.j.info("backChannelRequestTimeoutMs_="+U)),U=q;const En=c.g;if(En){const qi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var ce=U.h;ce.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Os(ce,ce.h),ce.h=null))}if(U.D){const Oo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(U.ya=Oo,ut(U.I,U.D,Oo))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-c.F,q.j.info("Handshake RTT: "+q.R+"ms")),U=q;var Ae=c;if(U.qa=il(U,U.J?U.ia:null,U.W),Ae.K){Ka(U.h,Ae);var lt=Ae,Ct=U.L;Ct&&(lt.I=Ct),lt.B&&(Ci(lt),ct(lt)),U.g=Ae}else Vi(U);0<q.i.length&&sr(q)}else Ze[0]!="stop"&&Ze[0]!="close"||Sr(q,7);else q.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Sr(q,7):Ut(q):Ze[0]!="noop"&&q.l&&q.l.ta(Ze),q.v=0)}}_r(4)}catch{}}var $a=class{constructor(c,k){this.g=c,this.map=k}};function xi(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ha(c){return c.h?1:c.g?c.g.size:0}function nn(c,k){return c.h?c.h==k:c.g?c.g.has(k):!1}function Os(c,k){c.g?c.g.add(k):c.h=k}function Ka(c,k){c.h&&c.h==k?c.h=null:c.g&&c.g.has(k)&&c.g.delete(k)}xi.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ga(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let k=c.i;for(const q of c.g.values())k=k.concat(q.D);return k}return A(c.i)}function vo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var k=[],q=c.length,U=0;U<q;U++)k.push(c[U]);return k}k=[],q=0;for(U in c)k[q++]=c[U];return k}function _o(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var k=[];c=c.length;for(var q=0;q<c;q++)k.push(q);return k}k=[],q=0;for(const U in c)k[q++]=U;return k}}}function Ur(c,k){if(c.forEach&&typeof c.forEach=="function")c.forEach(k,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,k,void 0);else for(var q=_o(c),U=vo(c),se=U.length,ce=0;ce<se;ce++)k.call(void 0,U[ce],q&&q[ce],c)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(c,k){if(c){c=c.split("&");for(var q=0;q<c.length;q++){var U=c[q].indexOf("="),se=null;if(0<=U){var ce=c[q].substring(0,U);se=c[q].substring(U+1)}else ce=c[q];k(ce,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Er){this.h=c.h,Li(this,c.j),this.o=c.o,this.g=c.g,zr(this,c.s),this.l=c.l;var k=c.i,q=new rr;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),$r(this,q),this.m=c.m}else c&&(k=String(c).match(Ni))?(this.h=!1,Li(this,k[1]||"",!0),this.o=Ye(k[2]||""),this.g=Ye(k[3]||"",!0),zr(this,k[4]),this.l=Ye(k[5]||"",!0),$r(this,k[6]||"",!0),this.m=Ye(k[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}Er.prototype.toString=function(){var c=[],k=this.j;k&&c.push(Kr(k,Eo,!0),":");var q=this.g;return(q||k=="file")&&(c.push("//"),(k=this.o)&&c.push(Kr(k,Eo,!0),"@"),c.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&c.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&c.push("/"),c.push(Kr(q,q.charAt(0)=="/"?Ya:Qa,!0))),(q=this.i.toString())&&c.push("?",q),(q=this.m)&&c.push("#",Kr(q,Cs)),c.join("")};function vn(c){return new Er(c)}function Li(c,k,q){c.j=q?Ye(k,!0):k,c.j&&(c.j=c.j.replace(/:$/,""))}function zr(c,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);c.s=k}else c.s=null}function $r(c,k,q){k instanceof rr?(c.i=k,ir(c.i,c.h)):(q||(k=Kr(k,Xa)),c.i=new rr(k,c.h))}function ut(c,k,q){c.i.set(k,q)}function Hr(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ye(c,k){return c?k?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Kr(c,k,q){return typeof c=="string"?(c=encodeURI(c).replace(k,Wa),q&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,Qa=/[#\?:]/g,Ya=/[#\?]/g,Xa=/[#\?@]/g,Cs=/#/g;function rr(c,k){this.h=this.g=null,this.i=c||null,this.j=!!k}function Bt(c){c.g||(c.g=new Map,c.h=0,c.i&&lc(c.i,function(k,q){c.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}r=rr.prototype,r.add=function(c,k){Bt(this),this.i=null,c=kn(this,c);var q=this.g.get(c);return q||this.g.set(c,q=[]),q.push(k),this.h+=1,this};function Bn(c,k){Bt(c),k=kn(c,k),c.g.has(k)&&(c.i=null,c.h-=c.g.get(k).length,c.g.delete(k))}function Un(c,k){return Bt(c),k=kn(c,k),c.g.has(k)}r.forEach=function(c,k){Bt(this),this.g.forEach(function(q,U){q.forEach(function(se){c.call(k,se,U,this)},this)},this)},r.na=function(){Bt(this);const c=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let U=0;U<k.length;U++){const se=c[U];for(let ce=0;ce<se.length;ce++)q.push(k[U])}return q},r.V=function(c){Bt(this);let k=[];if(typeof c=="string")Un(this,c)&&(k=k.concat(this.g.get(kn(this,c))));else{c=Array.from(this.g.values());for(let q=0;q<c.length;q++)k=k.concat(c[q])}return k},r.set=function(c,k){return Bt(this),this.i=null,c=kn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[k]),this.h+=1,this},r.get=function(c,k){return c?(c=this.V(c),0<c.length?String(c[0]):k):k};function Gr(c,k,q){Bn(c,k),0<q.length&&(c.i=null,c.g.set(kn(c,k),A(q)),c.h+=q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var U=k[q];const ce=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var se=ce;Ae[U]!==""&&(se+="="+encodeURIComponent(String(Ae[U]))),c.push(se)}}return this.i=c.join("&")};function kn(c,k){return k=String(k),c.j&&(k=k.toLowerCase()),k}function ir(c,k){k&&!c.j&&(Bt(c),c.i=null,c.g.forEach(function(q,U){var se=U.toLowerCase();U!=se&&(Bn(this,U),Gr(this,se,q))},c)),c.j=k}function uc(c,k){const q=new ki;if(f.Image){const U=new Image;U.onload=m(an,q,"TestLoadImage: loaded",!0,k,U),U.onerror=m(an,q,"TestLoadImage: error",!1,k,U),U.onabort=m(an,q,"TestLoadImage: abort",!1,k,U),U.ontimeout=m(an,q,"TestLoadImage: timeout",!1,k,U),f.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=c}else k(!1)}function Za(c,k){const q=new ki,U=new AbortController,se=setTimeout(()=>{U.abort(),an(q,"TestPingServer: timeout",!1,k)},1e4);fetch(c,{signal:U.signal}).then(ce=>{clearTimeout(se),ce.ok?an(q,"TestPingServer: ok",!0,k):an(q,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(se),an(q,"TestPingServer: error",!1,k)})}function an(c,k,q,U,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),U(q)}catch{}}function cc(){this.g=new Ts}function Ja(c,k,q){const U=q||"";try{Ur(c,function(se,ce){let Ae=se;y(se)&&(Ae=Es(se)),k.push(U+ce+"="+encodeURIComponent(Ae))})}catch(se){throw k.push(U+"type="+encodeURIComponent("_badmap")),se}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}S(wr,Ii),wr.prototype.g=function(){return new Di(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Di(c,k){rt.call(this),this.D=c,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Di,rt),r=Di.prototype,r.open=function(c,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=k,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(k.body=c),(this.D||f).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var k=c.value?c.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!c.done}))&&(this.response=this.responseText+=k)}c.done?zn(this):$n(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},r.Qa=function(c){this.g&&(this.response=c,zn(this))},r.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}r.setRequestHeader=function(c,k){this.u.append(c,k)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],k=this.h.entries();for(var q=k.next();!q.done;)q=q.value,c.push(q[0]+": "+q[1]),q=k.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tr(c){let k="";return j(c,function(q,U){k+=U,k+=":",k+=q,k+=`\r
`}),k}function Wr(c,k,q){e:{for(U in q){var U=!1;break e}U=!0}U||(q=Tr(q),typeof c=="string"?q!=null&&encodeURIComponent(String(q)):ut(c,k,q))}function gt(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(gt,rt);var fc=/^https?$/i,xs=["POST","PUT"];r=gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,k,q,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);k=k?k.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?uo(this.o):uo(jn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(k,String(c),!0),this.B=!1}catch(ce){Mi(this,ce);return}if(c=q||"",q=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var se in U)q.set(se,U[se]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ce of U.keys())q.set(ce,U.get(ce));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(q.keys()).find(ce=>ce.toLowerCase()=="content-type"),se=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(xs,k,void 0))||U||se||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ae]of q)this.g.setRequestHeader(ce,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{To(this),this.u=!0,this.g.send(c),this.u=!1}catch(ce){Mi(this,ce)}};function Mi(c,k){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=k,c.m=5,wo(c),_n(c)}function wo(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),_n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ns(this):this.bb())},r.bb=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)Si(c.Ea,0,c);else if(st(c,"readystatechange"),ln(c)==4){c.h=!1;try{const Ae=c.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var U;if(U=Ae===0){var se=String(c.D).match(Ni)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),U=!fc.test(se?se.toLowerCase():"")}q=U}if(q)st(c,"complete"),st(c,"success");else{c.m=6;try{var ce=2<ln(c)?c.g.statusText:""}catch{ce=""}c.l=ce+" ["+c.Z()+"]",wo(c)}}finally{_n(c)}}}}function _n(c,k){if(c.g){To(c);const q=c.g,U=c.v[0]?()=>{}:null;c.g=null,c.v=null,k||st(c,"ready");try{q.onreadystatechange=U}catch{}}}function To(c){c.I&&(f.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var k=this.g.responseText;return c&&k.indexOf(c)==0&&(k=k.substring(c.length)),ws(k)}};function Ls(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(c){const k={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<c.length;U++){if(T(c[U]))continue;var q=I(c[U]);const se=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const ce=k[se]||[];k[se]=ce,ce.push(q)}C(k,function(U){return U.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[c]||k}function Ds(c){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new cc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ds.prototype,r.la=8,r.G=1,r.connect=function(c,k,q,U){At(0),this.W=c,this.H=k||{},q&&U!==void 0&&(this.H.OSID=q,this.H.OAID=U),this.F=this.X,this.I=il(this,null,this.W),sr(this)};function Ut(c){if(So(c),c.G==3){var k=c.U++,q=vn(c.I);if(ut(q,"SID",c.K),ut(q,"RID",k),ut(q,"TYPE","terminate"),Ar(c,q),k=new Fn(c,c.j,k),k.L=2,k.v=Hr(vn(q)),q=!1,f.navigator&&f.navigator.sendBeacon)try{q=f.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&f.Image&&(new Image().src=k.v,q=!0),q||(k.g=ol(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ct(k)}rl(c)}function Hn(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function So(c){Hn(c),c.u&&(f.clearTimeout(c.u),c.u=null),Ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function sr(c){if(!yn(c.h)&&!c.s){c.s=!0;var k=c.Ga;te||H(),re||(te(),re=!0),Q.add(k,c),c.B=0}}function hc(c,k){return Ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=k.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(d(c.Ga,c,k),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const se=new Fn(this,this.j,c);let ce=this.o;if(this.S&&(ce?(ce=R(ce),O(ce,this.S)):ce=this.S),this.m!==null||this.O||(se.H=ce,ce=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){t:{var U=this.i[q];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(k+=U,4096<k){k=q;break e}if(k===4096||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=Qr(this,se,k),q=vn(this.I),ut(q,"RID",c),ut(q,"CVER",22),this.D&&ut(q,"X-HTTP-Session-Id",this.D),Ar(this,q),ce&&(this.O?k="headers="+encodeURIComponent(String(Tr(ce)))+"&"+k:this.m&&Wr(q,this.m,ce)),Os(this.h,se),this.Ua&&ut(q,"TYPE","init"),this.P?(ut(q,"$req",k),ut(q,"SID","null"),se.T=!0,yo(se,q,null)):yo(se,q,k),this.G=2}}else this.G==3&&(c?bo(this,c):this.i.length==0||yn(this.h)||bo(this))};function bo(c,k){var q;k?q=k.l:q=c.U++;const U=vn(c.I);ut(U,"SID",c.K),ut(U,"RID",q),ut(U,"AID",c.T),Ar(c,U),c.m&&c.o&&Wr(U,c.m,c.o),q=new Fn(c,c.j,q,c.B+1),c.m===null&&(q.H=c.o),k&&(c.i=k.D.concat(c.i)),k=Qr(c,q,1e3),q.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Os(c.h,q),yo(q,U,k)}function Ar(c,k){c.H&&j(c.H,function(q,U){ut(k,U,q)}),c.l&&Ur({},function(q,U){ut(k,U,q)})}function Qr(c,k,q){q=Math.min(c.i.length,q);var U=c.l?d(c.l.Na,c.l,c):null;e:{var se=c.i;let ce=-1;for(;;){const Ae=["count="+q];ce==-1?0<q?(ce=se[0].g,Ae.push("ofs="+ce)):ce=0:Ae.push("ofs="+ce);let lt=!0;for(let Ct=0;Ct<q;Ct++){let Ze=se[Ct].g;const Mt=se[Ct].map;if(Ze-=ce,0>Ze)ce=Math.max(0,se[Ct].g-100),lt=!1;else try{Ja(Mt,Ae,"req"+Ze+"_")}catch{U&&U(Mt)}}if(lt){U=Ae.join("&");break e}}}return c=c.i.splice(0,q),k.D=c,U}function Vi(c){if(!c.g&&!c.u){c.Y=1;var k=c.Fa;te||H(),re||(te(),re=!0),Q.add(k,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(d(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(d(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Hn(this),tl(this))};function Ms(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function tl(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var k=vn(c.qa);ut(k,"RID","rpc"),ut(k,"SID",c.K),ut(k,"AID",c.T),ut(k,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(k,"TO",c.ja),ut(k,"TYPE","xmlhttp"),Ar(c,k),c.m&&c.o&&Wr(k,c.m,c.o),c.L&&(c.g.I=c.L);var q=c.g;c=c.ia,q.L=1,q.v=Hr(vn(k)),q.m=null,q.P=!0,ks(q,c)}r.Za=function(){this.C!=null&&(this.C=null,Hn(this),Io(this),At(19))};function Ro(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ko(c,k){var q=null;if(c.g==k){Ro(c),Ms(c),c.g=null;var U=2}else if(nn(c.h,k))q=k.D,Ka(c.h,k),U=1;else return;if(c.G!=0){if(k.o)if(U==1){q=k.m?k.m.length:0,k=Date.now()-k.F;var se=c.B;U=Ri(),st(U,new ho(U,q)),sr(c)}else Vi(c);else if(se=k.s,se==3||se==0&&0<k.X||!(U==1&&hc(c,k)||U==2&&Io(c)))switch(q&&0<q.length&&(k=c.h,k.i=k.i.concat(q)),se){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function nl(c,k){let q=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(q*=2),q*k}function Sr(c,k){if(c.j.info("Error code "+k),k==2){var q=d(c.fb,c),U=c.Xa;const se=!U;U=new Er(U||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Li(U,"https"),Hr(U),se?uc(U.toString(),q):Za(U.toString(),q)}else At(2);c.G=0,c.l&&c.l.sa(k),rl(c),So(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function rl(c){if(c.G=0,c.ka=[],c.l){const k=Ga(c.h);(k.length!=0||c.i.length!=0)&&(w(c.ka,k),w(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function il(c,k,q){var U=q instanceof Er?vn(q):new Er(q);if(U.g!="")k&&(U.g=k+"."+U.g),zr(U,U.s);else{var se=f.location;U=se.protocol,k=k?k+"."+se.hostname:se.hostname,se=+se.port;var ce=new Er(null);U&&Li(ce,U),k&&(ce.g=k),se&&zr(ce,se),q&&(ce.l=q),U=ce}return q=c.D,k=c.ya,q&&k&&ut(U,q,k),ut(U,"VER",c.la),Ar(c,U),U}function ol(c,k,q){if(k&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=c.Ca&&!c.pa?new gt(new wr({eb:q})):new gt(c.pa),k.Ha(c.J),k}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vs(){}r=Vs.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Po(){}Po.prototype.g=function(c,k){return new rn(c,k)};function rn(c,k){rt.call(this),this.g=new Ds(k),this.l=c,this.h=k&&k.messageUrlParams||null,c=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(c?c["X-WebChannel-Content-Type"]=k.messageContentType:c={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(c?c["X-WebChannel-Client-Profile"]=k.va:c={"X-WebChannel-Client-Profile":k.va}),this.g.S=c,(c=k&&k.Sb)&&!T(c)&&(this.g.m=c),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!T(k)&&(this.g.D=k,c=this.h,c!==null&&k in c&&(c=this.h,k in c&&delete c[k])),this.j=new ar(this)}S(rn,rt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ut(this.g)},rn.prototype.o=function(c){var k=this.g;if(typeof c=="string"){var q={};q.__data__=c,c=q}else this.u&&(q={},q.__data__=Es(c),c=q);k.i.push(new $a(k.Ya++,c)),k.G==3&&sr(k)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,rn.aa.N.call(this)};function sl(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var k=c.__sm__;if(k){e:{for(const q in k){c=q;break e}c=void 0}(this.i=c)&&(c=this.i,k=k!==null&&c in k?k[c]:void 0),this.data=k}else this.data=c}S(sl,tr);function al(){fo.call(this),this.status=1}S(al,fo);function ar(c){this.g=c}S(ar,Vs),ar.prototype.ua=function(){st(this.g,"a")},ar.prototype.ta=function(c){st(this.g,new sl(c))},ar.prototype.sa=function(c){st(this.g,new al)},ar.prototype.ra=function(){st(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,z1=function(){return new Po},U1=function(){return Ri()},B1=nr,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,cu=mo,Fa.COMPLETE="complete",F1=Fa,co.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",rt.prototype.listen=rt.prototype.K,fa=co,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,j1=gt}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new ip("@firebase/firestore");function Xo(){return to.logLevel}function ke(r,...e){if(to.logLevel<=et.DEBUG){const t=e.map(sp);to.debug(`Firestore (${hs}): ${r}`,...t)}}function qr(r,...e){if(to.logLevel<=et.ERROR){const t=e.map(sp);to.error(`Firestore (${hs}): ${r}`,...t)}}function ns(r,...e){if(to.logLevel<=et.WARN){const t=e.map(sp);to.warn(`Firestore (${hs}): ${r}`,...t)}}function sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+r;throw qr(e),new Error(e)}function ot(r,e){r||Fe()}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class i2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class o2{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string"),new $1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new en(e)}}class s2{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a2{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new s2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ot(this.o===void 0);const i=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ot(typeof t.token=="string"),this.R=t.token,new l2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=c2(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%e.length))}return i}}function Xe(r,e){return r<e?-1:r>e?1:0}function rs(r,e,t){return r.length===e.length&&r.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Lt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Lt(0,0))}static max(){return new ze(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(),i===void 0?i=e.length-t:i>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mt extends Sa{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Sa{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Pe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(i+=f,s++):(a(),s++)}if(a(),u)throw new Pe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(mt.fromString(e))}static fromName(e){return new Le(mt.fromString(e).popFirst(5))}static empty(){return new Le(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new mt(e.slice()))}}function h2(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(i===1e9?new Lt(t+1,0):new Lt(t,i));return new yi(s,Le.empty(),e)}function d2(r){return new yi(r.readTime,r.key,-1)}class yi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new yi(ze.min(),Le.empty(),-1)}static max(){return new yi(ze.max(),Le.empty(),-1)}}function p2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(r.documentKey,e.documentKey),t!==0?t:Xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(r){if(r.code!==ge.FAILED_PRECONDITION||r.message!==m2)throw r;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,i)=>{t(e)})}static reject(e){return new me((t,i)=>{i(e)})}static waitFor(e){return new me((t,i)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&t()},p=>i(p))}),u=!0,a===s&&t()})}static or(e){let t=me.resolve(!1);for(const i of e)t=t.next(s=>s?me.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,a)=>{i.push(t.call(this,s,a))}),this.waitFor(i)}static mapArray(e,t){return new me((i,s)=>{const a=e.length,u=new Array(a);let f=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(v=>{u[y]=v,++f,f===a&&i(u)},v=>s(v))}})}static doWhile(e,t){return new me((i,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):i()};a()})}}function y2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ps(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qu.oe=-1;function ju(r){return r==null}function wu(r){return r===0&&1/r==-1/0}function v2(r){return typeof r=="number"&&Number.isInteger(r)&&!wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Oy(e)),e=E2(r.get(t),e);return Oy(e)}function E2(r,e){let t=e;const i=r.length;for(let s=0;s<i;s++){const a=r.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Oy(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function oo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function K1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new Ht(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,i,s,a){return this}insert(e,t,i){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new G1("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(r){if(ot(!!r),typeof r=="string"){let e=0;const t=w2.exec(r);if(ot(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _i(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Fu(r){const e=r.mapValue.fields.__previous_value__;return ap(e)?Fu(e):e}function ba(r){const e=vi(r.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t,i,s,a,u,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ap(r)?4:S2(r)?9007199254740991:A2(r)?10:11:Fe()}function gr(r,e){if(r===e)return!0;const t=Ei(r);if(t!==Ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ba(r).isEqual(ba(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=vi(s.timestampValue),f=vi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,a){return _i(s.bytesValue).isEqual(_i(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return bt(s.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return bt(s.integerValue)===bt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=bt(s.doubleValue),f=bt(a.doubleValue);return u===f?wu(u)===wu(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return rs(r.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Cy(u)!==Cy(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!gr(u[p],f[p])))return!1;return!0}(r,e);default:return Fe()}}function Ra(r,e){return(r.values||[]).find(t=>gr(t,e))!==void 0}function is(r,e){if(r===e)return 0;const t=Ei(r),i=Ei(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return function(a,u){const f=bt(a.integerValue||a.doubleValue),p=bt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Ny(r.timestampValue,e.timestampValue);case 4:return Ny(ba(r),ba(e));case 5:return Xe(r.stringValue,e.stringValue);case 6:return function(a,u){const f=_i(a),p=_i(u);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),p=u.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=Xe(f[y],p[y]);if(v!==0)return v}return Xe(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Xe(bt(a.latitude),bt(u.latitude));return f!==0?f:Xe(bt(a.longitude),bt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ly(r.arrayValue,e.arrayValue);case 10:return function(a,u){var f,p,y,v;const g=a.fields||{},d=u.fields||{},m=(f=g.value)===null||f===void 0?void 0:f.arrayValue,S=(p=d.value)===null||p===void 0?void 0:p.arrayValue,A=Xe(((y=m==null?void 0:m.values)===null||y===void 0?void 0:y.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:Ly(m,S)}(r.mapValue,e.mapValue);case 11:return function(a,u){if(a===ou.mapValue&&u===ou.mapValue)return 0;if(a===ou.mapValue)return 1;if(u===ou.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),y=u.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let g=0;g<p.length&&g<v.length;++g){const d=Xe(p[g],v[g]);if(d!==0)return d;const m=is(f[p[g]],y[v[g]]);if(m!==0)return m}return Xe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Fe()}}function Ny(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const t=vi(r),i=vi(e),s=Xe(t.seconds,i.seconds);return s!==0?s:Xe(t.nanos,i.nanos)}function Ly(r,e){const t=r.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const a=is(t[s],i[s]);if(a)return a}return Xe(t.length,i.length)}function os(r){return qd(r)}function qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=vi(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return _i(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Le.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",s=!0;for(const a of t.values||[])s?s=!1:i+=",",i+=qd(a);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${qd(t.fields[u])}`;return s+"}"}(r.mapValue):Fe()}function fu(r){switch(Ei(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(r);return e?16+fu(e):16;case 5:return 2*r.stringValue.length;case 6:return _i(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+fu(a),0)}(r.arrayValue);case 10:case 11:return function(i){let s=0;return oo(i.fields,(a,u)=>{s+=a.length+fu(u)}),s}(r.mapValue);default:throw Fe()}}function Dy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jd(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function My(r){return!!r&&"nullValue"in r}function Vy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hu(r){return!!r&&"mapValue"in r}function A2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ya(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oo(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ya(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ya(r.arrayValue.values[t]);return e}return Object.assign({},r)}function S2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(t)}setAll(e){let t=Kt.emptyPath(),i={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=f.popLast()}u?i[f.lastSegment()]=ya(u):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,s)}delete(e){const t=this.field(e.popLast());hu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];hu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){oo(t,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Mn(ya(this.value))}}function W1(r){const e=[];return oo(r.fields,(t,i)=>{const s=new Kt([t]);if(hu(i)){const a=W1(i.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,s,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,ze.min(),ze.min(),ze.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,s){return new tn(e,1,t,ze.min(),i,s,0)}static newNoDocument(e,t){return new tn(e,2,t,ze.min(),ze.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,ze.min(),ze.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.position=e,this.inclusive=t}}function qy(r,e,t){let i=0;for(let s=0;s<r.position.length;s++){const a=e[s],u=r.position[s];if(a.field.isKeyField()?i=Le.comparator(Le.fromName(u.referenceValue),t.key):i=is(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!gr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function b2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{}class Ot extends Q1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new R2(e,t,i):t==="array-contains"?new O2(e,i):t==="in"?new C2(e,i):t==="not-in"?new x2(e,i):t==="array-contains-any"?new N2(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k2(e,i):new P2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(is(t,this.value)):t!==null&&Ei(this.value)===Ei(t)&&this.matchesComparison(is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Q1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new er(e,t)}matches(e){return Y1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y1(r){return r.op==="and"}function X1(r){return I2(r)&&Y1(r)}function I2(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function Fd(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+os(r.value);if(X1(r))return r.filters.map(e=>Fd(e)).join(",");{const e=r.filters.map(t=>Fd(t)).join(",");return`${r.op}(${e})`}}function Z1(r,e){return r instanceof Ot?function(i,s){return s instanceof Ot&&i.op===s.op&&i.field.isEqual(s.field)&&gr(i.value,s.value)}(r,e):r instanceof er?function(i,s){return s instanceof er&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,u,f)=>a&&Z1(u,s.filters[f]),!0):!1}(r,e):void Fe()}function J1(r){return r instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${os(t.value)}`}(r):r instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(J1).join(" ,")+"}"}(r):"Filter"}class R2 extends Ot{constructor(e,t,i){super(e,t,i),this.key=Le.fromName(i.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class k2 extends Ot{constructor(e,t){super(e,"in",t),this.keys=e0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class P2 extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=e0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e0(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Le.fromName(i.referenceValue))}class O2 extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lp(t)&&Ra(t.arrayValue,this.value)}}class C2 extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ra(this.value.arrayValue,t)}}class x2 extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ra(this.value.arrayValue,t)}}class N2 extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ra(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t=null,i=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function Fy(r,e=null,t=[],i=[],s=null,a=null,u=null){return new L2(r,e,t,i,s,a,u)}function up(r){const e=$e(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Fd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ju(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>os(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>os(i)).join(",")),e.ue=t}return e.ue}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!b2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Z1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jy(r.startAt,e.startAt)&&jy(r.endAt,e.endAt)}function Bd(r){return Le.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t=null,i=[],s=[],a=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function D2(r,e,t,i,s,a,u,f){return new ms(r,e,t,i,s,a,u,f)}function fp(r){return new ms(r)}function By(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function t0(r){return r.collectionGroup!==null}function va(r){const e=$e(r);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Dt(Kt.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ka(a,i))}),t.has(Kt.keyField().canonicalString())||e.ce.push(new ka(Kt.keyField(),i))}return e.ce}function dr(r){const e=$e(r);return e.le||(e.le=M2(e,va(r))),e.le}function M2(r,e){if(r.limitType==="F")return Fy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new ka(s.field,a)});const t=r.endAt?new Tu(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Tu(r.startAt.position,r.startAt.inclusive):null;return Fy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Ud(r,e){const t=r.filters.concat([e]);return new ms(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Au(r,e,t){return new ms(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bu(r,e){return cp(dr(r),dr(e))&&r.limitType===e.limitType}function n0(r){return`${up(dr(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>J1(s)).join(", ")}]`),ju(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>os(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>os(s)).join(",")),`Target(${i})`}(dr(r))}; limitType=${r.limitType})`}function Uu(r,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Le.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(r,e)&&function(i,s){for(const a of va(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(r,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(r,e)&&function(i,s){return!(i.startAt&&!function(u,f,p){const y=qy(u,f,p);return u.inclusive?y<=0:y<0}(i.startAt,va(i),s)||i.endAt&&!function(u,f,p){const y=qy(u,f,p);return u.inclusive?y>=0:y>0}(i.endAt,va(i),s))}(r,e)}function V2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function r0(r){return(e,t)=>{let i=!1;for(const s of va(r)){const a=q2(s,e,t);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function q2(r,e,t){const i=r.field.isKeyField()?Le.comparator(e.key,t.key):function(a,u,f){const p=u.data.field(a),y=f.data.field(a);return p!==null&&y!==null?is(p,y):Fe()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new wt(Le.comparator);function jr(){return j2}const i0=new wt(Le.comparator);function ha(...r){let e=i0;for(const t of r)e=e.insert(t.key,t);return e}function o0(r){let e=i0;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Zi(){return _a()}function s0(){return _a()}function _a(){return new so(r=>r.toString(),(r,e)=>r.isEqual(e))}const F2=new wt(Le.comparator),B2=new Dt(Le.comparator);function Qe(...r){let e=B2;for(const t of r)e=e.add(t);return e}const U2=new Dt(Xe);function z2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(e)?"-0":e}}function a0(r){return{integerValue:""+r}}function $2(r,e){return v2(e)?a0(e):hp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function H2(r,e,t){return r instanceof Su?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ap(a)&&(a=Fu(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Pa?u0(r,e):r instanceof Oa?c0(r,e):function(s,a){const u=l0(s,a),f=Uy(u)+Uy(s.Pe);return jd(u)&&jd(s.Pe)?a0(f):hp(s.serializer,f)}(r,e)}function K2(r,e,t){return r instanceof Pa?u0(r,e):r instanceof Oa?c0(r,e):t}function l0(r,e){return r instanceof bu?function(i){return jd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Su extends zu{}class Pa extends zu{constructor(e){super(),this.elements=e}}function u0(r,e){const t=f0(e);for(const i of r.elements)t.some(s=>gr(s,i))||t.push(i);return{arrayValue:{values:t}}}class Oa extends zu{constructor(e){super(),this.elements=e}}function c0(r,e){let t=f0(e);for(const i of r.elements)t=t.filter(s=>!gr(s,i));return{arrayValue:{values:t}}}class bu extends zu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Uy(r){return bt(r.integerValue||r.doubleValue)}function f0(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function G2(r,e){return r.field.isEqual(e.field)&&function(i,s){return i instanceof Pa&&s instanceof Pa||i instanceof Oa&&s instanceof Oa?rs(i.elements,s.elements,gr):i instanceof bu&&s instanceof bu?gr(i.Pe,s.Pe):i instanceof Su&&s instanceof Su}(r.transform,e.transform)}class W2{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $u{}function h0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new p0(r.key,Dr.none()):new Ma(r.key,r.data,Dr.none());{const t=r.data,i=Mn.empty();let s=new Dt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),s=s.add(a)}return new ao(r.key,i,new Jn(s.toArray()),Dr.none())}}function Q2(r,e,t){r instanceof Ma?function(s,a,u){const f=s.value.clone(),p=$y(s.fieldTransforms,a,u.transformResults);f.setAll(p),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ao?function(s,a,u){if(!du(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=$y(s.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(d0(s)),p.setAll(f),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ea(r,e,t,i){return r instanceof Ma?function(a,u,f,p){if(!du(a.precondition,u))return f;const y=a.value.clone(),v=Hy(a.fieldTransforms,p,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof ao?function(a,u,f,p){if(!du(a.precondition,u))return f;const y=Hy(a.fieldTransforms,p,u),v=u.data;return v.setAll(d0(a)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,i):function(a,u,f){return du(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function Y2(r,e){let t=null;for(const i of r.fieldTransforms){const s=e.data.field(i.field),a=l0(i.transform,s||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,a))}return t||null}function zy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rs(i,s,(a,u)=>G2(a,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ma extends $u{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ao extends $u{constructor(e,t,i,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function d0(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function $y(r,e,t){const i=new Map;ot(r.length===t.length);for(let s=0;s<t.length;s++){const a=r[s],u=a.transform,f=e.data.field(a.field);i.set(a.field,K2(u,f,t[s]))}return i}function Hy(r,e,t){const i=new Map;for(const s of r){const a=s.transform,u=t.data.field(s.field);i.set(s.field,H2(a,u,e))}return i}class p0 extends $u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X2 extends $u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Q2(a,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ea(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ea(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=s0();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const p=h0(u,f);p!==null&&i.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(t,i)=>zy(t,i))&&rs(this.baseMutations,e.baseMutations,(t,i)=>zy(t,i))}}class dp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){ot(e.mutations.length===i.length);let s=function(){return F2}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new dp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Je;function tb(r){switch(r){default:return Fe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function m0(r){if(r===void 0)return qr("GRPC error has no .code"),ge.UNKNOWN;switch(r){case Pt.OK:return ge.OK;case Pt.CANCELLED:return ge.CANCELLED;case Pt.UNKNOWN:return ge.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ge.INTERNAL;case Pt.UNAVAILABLE:return ge.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ge.NOT_FOUND;case Pt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Pt.ABORTED:return ge.ABORTED;case Pt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Pt.DATA_LOSS:return ge.DATA_LOSS;default:return Fe()}}(Je=Pt||(Pt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new eo([4294967295,4294967295],0);function Ky(r){const e=nb().encode(r),t=new q1;return t.update(e),new Uint8Array(t.digest())}function Gy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new eo([t,i],0),new eo([s,a],0)]}class pp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new da(`Invalid padding: ${t}`);if(i<0)throw new da(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new da(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=eo.fromNumber(this.Te)}Ee(e,t,i){let s=e.add(t.multiply(eo.fromNumber(i)));return s.compare(rb)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ky(e),[i,s]=Gy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new pp(a,s,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=Ky(e),[i,s]=Gy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t,i,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hu(ze.min(),s,new wt(Xe),jr(),Qe())}}class Va{constructor(e,t,i,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Va(i,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class g0{constructor(e,t){this.targetId=e,this.me=t}}class y0{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Wy{constructor(){this.fe=0,this.ge=Qy(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),t=Qe(),i=Qe();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Fe()}}),new Va(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Qy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ib{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=su(),this.Qe=su(),this.Ke=new wt(Xe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Bd(a))if(i===0){const u=new Le(a.path);this.We(t,u,tn.newNoDocument(u,ze.min()))}else ot(i===1);else{const u=this.Ze(t);if(u!==i){const f=this.Xe(e),p=f?this.et(f,e,u):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=_i(i).toUint8Array()}catch(p){if(p instanceof G1)return ns("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new pp(u,s,a)}catch(p){return ns(p instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let s=0;return i.forEach(a=>{const u=this.Le.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&Bd(f.target)){const p=new Le(f.target.path);this.st(p).has(u)||this.ot(u,p)||this.We(u,p,tn.newNoDocument(p,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Qe();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Hu(e,t,this.Ke,this.ke,i);return this.ke=jr(),this.qe=su(),this.Qe=su(),this.Ke=new wt(Xe),s}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Wy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Dt(Xe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(Xe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function su(){return new wt(Le.comparator)}function Qy(){return new wt(Le.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},sb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ab={and:"AND",or:"OR"};class lb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zd(r,e){return r.useProto3Json||ju(e)?e:{value:e}}function Iu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ub(r,e){return Iu(r,e.toTimestamp())}function pr(r){return ot(!!r),ze.fromTimestamp(function(t){const i=vi(t);return new Lt(i.seconds,i.nanos)}(r))}function mp(r,e){return $d(r,e).canonicalString()}function $d(r,e){const t=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function _0(r){const e=mt.fromString(r);return ot(S0(e)),e}function Hd(r,e){return mp(r.databaseId,e.path)}function $f(r,e){const t=_0(e);if(t.get(1)!==r.databaseId.projectId)throw new Pe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Pe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Le(w0(t))}function E0(r,e){return mp(r.databaseId,e)}function cb(r){const e=_0(r);return e.length===4?mt.emptyPath():w0(e)}function Kd(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w0(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Yy(r,e,t){return{name:Hd(r,e),fields:t.value.mapValue.fields}}function fb(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(y,v){return y.useProto3Json?(ot(v===void 0||typeof v=="string"),Gt.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Gt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const v=y.code===void 0?ge.UNKNOWN:m0(y.code);return new Pe(v,y.message||"")}(u);t=new y0(i,s,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=$f(r,i.document.name),a=pr(i.document.updateTime),u=i.document.createTime?pr(i.document.createTime):ze.min(),f=new Mn({mapValue:{fields:i.document.fields}}),p=tn.newFoundDocument(s,a,u,f),y=i.targetIds||[],v=i.removedTargetIds||[];t=new pu(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=$f(r,i.document),a=i.readTime?pr(i.readTime):ze.min(),u=tn.newNoDocument(s,a),f=i.removedTargetIds||[];t=new pu([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=$f(r,i.document),a=i.removedTargetIds||[];t=new pu([],a,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,u=new eb(s,a),f=i.targetId;t=new g0(f,u)}}return t}function hb(r,e){let t;if(e instanceof Ma)t={update:Yy(r,e.key,e.value)};else if(e instanceof p0)t={delete:Hd(r,e.key)};else if(e instanceof ao)t={update:Yy(r,e.key,e.data),updateMask:wb(e.fieldMask)};else{if(!(e instanceof X2))return Fe();t={verify:Hd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof Su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Oa)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bu)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Fe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:ub(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(r,e.precondition)),t}function db(r,e){return r&&r.length>0?(ot(e!==void 0),r.map(t=>function(s,a){let u=s.updateTime?pr(s.updateTime):pr(a);return u.isEqual(ze.min())&&(u=pr(a)),new W2(u,s.transformResults||[])}(t,e))):[]}function pb(r,e){return{documents:[E0(r,e.path)]}}function mb(r,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E0(r,s);const a=function(y){if(y.length!==0)return A0(er.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(y){if(y.length!==0)return y.map(v=>function(d){return{field:Jo(d.field),direction:vb(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=zd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:s}}function gb(r){let e=cb(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){ot(i===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(g){const d=T0(g);return d instanceof er&&X1(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(d=>function(S){return new ka(es(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(g){let d;return d=typeof g=="object"?g.value:g,ju(d)?null:d}(t.limit));let p=null;t.startAt&&(p=function(g){const d=!!g.before,m=g.values||[];return new Tu(m,d)}(t.startAt));let y=null;return t.endAt&&(y=function(g){const d=!g.before,m=g.values||[];return new Tu(m,d)}(t.endAt)),D2(e,s,u,a,f,"F",p,y)}function yb(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T0(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=es(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=es(t.unaryFilter.field);return Ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=es(t.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=es(t.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(r):r.fieldFilter!==void 0?function(t){return Ot.create(es(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(i=>T0(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(r):Fe()}function vb(r){return ob[r]}function _b(r){return sb[r]}function Eb(r){return ab[r]}function Jo(r){return{fieldPath:r.canonicalString()}}function es(r){return Kt.fromServerFormat(r.fieldPath)}function A0(r){return r instanceof Ot?function(t){if(t.op==="=="){if(Vy(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(My(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vy(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(My(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:_b(t.op),value:t.value}}}(r):r instanceof er?function(t){const i=t.getFilters().map(s=>A0(s));return i.length===1?i[0]:{compositeFilter:{op:Eb(t.op),filters:i}}}(r):Fe()}function wb(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,i,s,a=ze.min(),u=ze.min(),f=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.ht=e}}function Ab(r){const e=gb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Au(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.ln=new bb}addToCollectionParentIndex(e,t){return this.ln.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(yi.min())}updateCollectionGroup(e,t,i){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class bb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Dt(mt.comparator),a=!s.has(i);return this.index[t]=s.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Dt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ss(0)}static Qn(){return new ss(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy([r,e],[t,i]){const s=Xe(r,t);return s===0?Xe(e,i):s}class Ib{constructor(e){this.Gn=e,this.buffer=new Dt(Zy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Zy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rb{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ps(t)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ds(t)}await this.Yn(3e5)})}}class kb{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return me.resolve(qu.oe);const i=new Ib(t);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(Xy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,s,a,u,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,u=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(i=g,f=Date.now(),this.removeTargets(e,i,t))).next(g=>(a=g,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(y=Date.now(),Xo()<=et.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${g} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g})))}}function Pb(r,e){return new kb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?me.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Ea(i.mutation,s,Jn.empty(),Lt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){const s=Zi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(a=>{let u=ha();return a.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){const s=[];return i.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,s){let a=jr();const u=_a(),f=function(){return _a()}();return t.forEach((p,y)=>{const v=i.get(y.key);s.has(y.key)&&(v===void 0||v.mutation instanceof ao)?a=a.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),Ea(v.mutation,y,v.mutation.getFieldMask(),Lt.now())):u.set(y.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,v)=>u.set(y,v)),t.forEach((y,v)=>{var g;return f.set(y,new Cb(v,(g=u.get(y))!==null&&g!==void 0?g:null))}),f))}recalculateAndSaveOverlays(e,t){const i=_a();let s=new wt((u,f)=>u-f),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Jn.empty();v=f.applyToLocalView(y,v),i.set(p,v);const g=(s.get(f.batchId)||Qe()).add(p);s=s.insert(f.batchId,g)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,g=s0();v.forEach(d=>{if(!a.has(d)){const m=h0(t.get(d),i.get(d));m!==null&&g.set(d,m),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,g))}return me.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):t0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-a.size):me.resolve(Zi());let f=-1,p=a;return u.next(y=>me.forEach(y,(v,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(v)?me.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{p=p.insert(v,d)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Qe())).next(v=>({batchId:f,changes:o0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(i=>{let s=ha();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const a=t.collectionGroup;let u=ha();return this.indexManager.getCollectionParents(e,a).next(f=>me.forEach(f,p=>{const y=function(g,d){return new ms(d,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,s).next(v=>{v.forEach((g,d)=>{u=u.insert(g,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,s))).next(u=>{a.forEach((p,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,tn.newInvalidDocument(v)))});let f=ha();return u.forEach((p,y)=>{const v=a.get(p);v!==void 0&&Ea(v.mutation,y,Jn.empty(),Lt.now()),Uu(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return me.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:pr(s.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Ab(s.bundledQuery),readTime:pr(s.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.overlays=new wt(Le.comparator),this.Er=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Zi();return me.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,a)=>{this.Tt(e,t,a)}),me.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),me.resolve()}getOverlaysForCollection(e,t,i){const s=Zi(),a=t.length+1,u=new Le(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&s.set(p.getKey(),p)}return me.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let a=new wt((y,v)=>y-v);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=a.get(y.largestBatchId);v===null&&(v=Zi(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=Zi(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=s)););return me.resolve(f)}Tt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new J2(t,i));let a=this.Er.get(t);a===void 0&&(a=Qe(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.dr=new Dt(Ft.Ar),this.Rr=new Dt(Ft.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ft(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Le(new mt([])),i=new Ft(t,e),s=new Ft(t,e+1),a=[];return this.Rr.forEachInRange([i,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Le(new mt([])),i=new Ft(t,e),s=new Ft(t,e+1);let a=Qe();return this.Rr.forEachInRange([i,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ft(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Le.comparator(e.key,t.key)||Xe(e.br,t.br)}static Vr(e,t){return Xe(e.br,t.br)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Dt(Ft.Ar)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z2(a,t,i,s);this.mutationQueue.push(u);for(const f of s)this.vr=this.vr.add(new Ft(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Fr(i),a=s<0?0:s;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),s=new Ft(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,s],u=>{const f=this.Cr(u.br);a.push(f)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Xe);return t.forEach(s=>{const a=new Ft(s,0),u=new Ft(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{i=i.add(f.br)})}),me.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let a=i;Le.isDocumentKey(a)||(a=a.child(""));const u=new Ft(new Le(a),0);let f=new Dt(Xe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(f=f.add(p.br)),!0)},u),me.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ot(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return me.forEach(t.mutations,s=>{const a=new Ft(s.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ft(t,0),s=this.vr.firstAfterOrEqual(i);return me.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.Nr=e,this.docs=function(){return new wt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return me.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():tn.newInvalidDocument(s))}),me.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let a=jr();const u=t.path,f=new Le(u.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||p2(d2(v),i)<=0||(s.has(v.key)||Uu(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,t,i,s){Fe()}Lr(e,t){return me.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new qb(this)}getSize(e){return me.resolve(this.size)}}class qb extends Ob{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),me.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.persistence=e,this.Br=new so(t=>up(t),cp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new gp,this.targetCount=0,this.Qr=ss.qn()}forEachTarget(e,t){return this.Br.forEach((i,s)=>t(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),me.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ss(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Un(t),me.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,i){let s=0;const a=[];return this.Br.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),me.waitFor(a).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return me.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),me.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return me.resolve(i)}containsKey(e,t){return me.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new qu(0),this.Ur=!1,this.Ur=!0,this.Wr=new Db,this.referenceDelegate=e(this),this.Gr=new jb(this),this.indexManager=new Sb,this.remoteDocumentCache=function(s){return new Vb(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Tb(t),this.jr=new Nb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Mb(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const s=new Fb(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return me.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Fb extends g2{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Zr=new gp,this.Xr=null}static ei(e){return new yp(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),me.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),me.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.ti,i=>{const s=Le.fromPath(i);return this.ni(e,s).next(a=>{a||t.removeEntry(s,ze.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return me.or([()=>me.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ru{constructor(e,t){this.persistence=e,this.ri=new so(i=>_2(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Pb(this,t)}static ei(e,t){return new Ru(e,t)}Hr(){}Jr(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return me.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(a=>a?me.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(f=>{f||(i++,a.removeEntry(u,ze.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),me.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),me.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fu(e.data.value)),t}ir(e,t,i){return me.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return me.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=s}static zi(e,t){let i=Qe(),s=Qe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new vp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return BA()?8:y2(qA())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Bb;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,i,s){return i.documentReadCount<this.Ji?(Xo()<=et.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),me.resolve()):(Xo()<=et.DEBUG&&ke("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(Xo()<=et.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):me.resolve())}Xi(e,t){if(By(t))return me.resolve(null);let i=dr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Au(t,null,"F"),i=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Qe(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,u,p.readTime)?this.Xi(e,Au(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,s){return By(t)||s.isEqual(ze.min())?me.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,s)?me.resolve(null):(Xo()<=et.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zo(t)),this.os(e,u,t,h2(s,-1)).next(f=>f))})}rs(e,t){let i=new Dt(r0(e));return t.forEach((s,a)=>{Uu(e,a)&&(i=i.add(a))}),i}ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,i){return Xo()<=et.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Zi.getDocumentsMatchingQuery(e,t,yi.min(),i)}os(e,t,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,i,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new wt(Xe),this.cs=new so(a=>up(a),cp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xb(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function $b(r,e,t,i){return new zb(r,e,t,i)}async function I0(r,e){const t=$e(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let p=Qe();for(const y of s){u.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of a){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:u,addedBatchIds:f}))})})}function Hb(r,e){const t=$e(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const g=y.batch,d=g.keys();let m=me.resolve();return d.forEach(S=>{m=m.next(()=>v.getEntry(p,S)).next(A=>{const w=y.docVersions.get(S);ot(w!==null),A.version.compareTo(w)<0&&(g.applyToRemoteDocument(A,y),A.isValidDocument()&&(A.setReadTime(y.commitVersion),v.addEntry(A)))})}),m.next(()=>f.mutationQueue.removeMutationBatch(p,g))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Qe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function R0(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Kb(r,e){const t=$e(r),i=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((v,g)=>{const d=s.get(g);if(!d)return;f.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,g)));let m=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(v.resumeToken,i)),s=s.insert(g,m),function(A,w,_){return A.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,m,v)&&f.push(t.Gr.updateTargetData(a,m))});let p=jr(),y=Qe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(Gb(a,u,e.documentUpdates).next(v=>{p=v.Is,y=v.Es})),!i.isEqual(ze.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(g=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return me.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=s,a))}function Gb(r,e,t){let i=Qe(),s=Qe();return t.forEach(a=>i=i.add(a)),e.getEntries(r,i).next(a=>{let u=jr();return t.forEach((f,p)=>{const y=a.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:u,Es:s}})}function Wb(r,e){const t=$e(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Qb(r,e){const t=$e(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Gr.getTargetData(i,e).next(a=>a?(s=a,me.resolve(s)):t.Gr.allocateTargetId(i).next(u=>(s=new ci(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Gd(r,e,t){const i=$e(r),s=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ps(u))throw u;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function Jy(r,e,t){const i=$e(r);let s=ze.min(),a=Qe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,v){const g=$e(p),d=g.cs.get(v);return d!==void 0?me.resolve(g.us.get(d)):g.Gr.getTargetData(y,v)}(i,u,dr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?s:ze.min(),t?a:Qe())).next(f=>(Yb(i,V2(e),f),{documents:f,ds:a})))}function Yb(r,e,t){let i=r.ls.get(e)||ze.min();t.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),r.ls.set(e,i)}class ev{constructor(){this.activeTargetIds=z2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(){this._o=new ev,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ev,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function Hf(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class tI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,i,s,a,u){const f=Hf(),p=this.No(t,i.toUriEncodedString());ke("RestConnection",`Sending RPC '${t}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,u),this.Bo(t,p,y,s).then(v=>(ke("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw ns("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",p,"request:",s),v})}ko(t,i,s,a,u,f){return this.Oo(t,i,s,a,u)}Lo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,i){const s=Jb[t];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,s){const a=Hf();return new Promise((u,f)=>{const p=new j1;p.setWithCredentials(!0),p.listenOnce(F1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cu.NO_ERROR:const v=p.getResponseJson();ke(Jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case cu.TIMEOUT:ke(Jt,`RPC '${e}' ${a} timed out`),f(new Pe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const g=p.getStatus();if(ke(Jt,`RPC '${e}' ${a} failed with status:`,g,"response text:",p.getResponseText()),g>0){let d=p.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const S=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(_)>=0?_:ge.UNKNOWN}(m.status);f(new Pe(S,m.message))}else f(new Pe(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Pe(ge.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ke(Jt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(s);ke(Jt,`RPC '${e}' ${a} sending request:`,s),p.send(t,"POST",y,i,15)})}qo(e,t,i){const s=Hf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=z1(),f=U1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=a.join("");ke(Jt,`Creating RPC '${e}' stream ${s}: ${v}`,p);const g=u.createWebChannel(v,p);let d=!1,m=!1;const S=new eI({Eo:w=>{m?ke(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(d||(ke(Jt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),d=!0),ke(Jt,`RPC '${e}' stream ${s} sending:`,w),g.send(w))},Ao:()=>g.close()}),A=(w,_,T)=>{w.listen(_,x=>{try{T(x)}catch(b){setTimeout(()=>{throw b},0)}})};return A(g,fa.EventType.OPEN,()=>{m||(ke(Jt,`RPC '${e}' stream ${s} transport opened.`),S.So())}),A(g,fa.EventType.CLOSE,()=>{m||(m=!0,ke(Jt,`RPC '${e}' stream ${s} transport closed`),S.Do())}),A(g,fa.EventType.ERROR,w=>{m||(m=!0,ns(Jt,`RPC '${e}' stream ${s} transport errored:`,w),S.Do(new Pe(ge.UNAVAILABLE,"The operation could not be completed")))}),A(g,fa.EventType.MESSAGE,w=>{var _;if(!m){const T=w.data[0];ot(!!T);const x=T,b=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(b){ke(Jt,`RPC '${e}' stream ${s} received error:`,b);const M=b.status;let j=function(D){const O=Pt[D];if(O!==void 0)return m0(O)}(M),C=b.message;j===void 0&&(j=ge.INTERNAL,C="Unknown error status: "+M+" with message "+b.message),m=!0,S.Do(new Pe(j,C)),g.close()}else ke(Jt,`RPC '${e}' stream ${s} received:`,T),S.vo(T)}}),A(f,B1.STAT_EVENT,w=>{w.stat===Vd.PROXY?ke(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Vd.NOPROXY&&ke(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(r){return new lb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t,i=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-i);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i,s,a,u,f,p){this.li=e,this.Yo=i,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new k0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===t&&this.I_(i,s)},i=>{e(()=>{const s=new Pe(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nI extends P0{constructor(e,t,i,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=fb(this.serializer,e),i=function(a){if(!("targetChange"in a))return ze.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?pr(u.readTime):ze.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Kd(this.serializer),t.addTarget=function(a,u){let f;const p=u.target;if(f=Bd(p)?{documents:pb(a,p)}:{query:mb(a,p).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=v0(a,u.resumeToken);const y=zd(a,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(ze.min())>0){f.readTime=Iu(a,u.snapshotVersion.toTimestamp());const y=zd(a,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=yb(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Kd(this.serializer),t.removeTarget=e,this.c_(t)}}class rI extends P0{constructor(e,t,i,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=db(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Kd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>hb(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Pe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,$d(t,i),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(ge.UNKNOWN,a.toString())})}ko(e,t,i,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,$d(t,i),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(ge.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class oI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(qr(t),this.C_=!1):ke("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,i,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{lo(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=$e(p);y.k_.add(4),await qa(y),y.K_.set("Unknown"),y.k_.delete(4),await Gu(y)}(this))})}),this.K_=new oI(i,s)}}async function Gu(r){if(lo(r))for(const e of r.q_)await e(!0)}async function qa(r){for(const e of r.q_)await e(!1)}function O0(r,e){const t=$e(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Tp(t)?wp(t):gs(t).s_()&&Ep(t,e))}function _p(r,e){const t=$e(r),i=gs(t);t.B_.delete(e),i.s_()&&C0(t,e),t.B_.size===0&&(i.s_()?i.a_():lo(t)&&t.K_.set("Unknown"))}function Ep(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gs(r).V_(e)}function C0(r,e){r.U_.xe(e),gs(r).m_(e)}function wp(r){r.U_=new ib({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),gs(r).start(),r.K_.F_()}function Tp(r){return lo(r)&&!gs(r).i_()&&r.B_.size>0}function lo(r){return $e(r).k_.size===0}function x0(r){r.U_=void 0}async function aI(r){r.K_.set("Online")}async function lI(r){r.B_.forEach((e,t)=>{Ep(r,e)})}async function uI(r,e){x0(r),Tp(r)?(r.K_.O_(e),wp(r)):r.K_.set("Unknown")}async function cI(r,e,t){if(r.K_.set("Online"),e instanceof y0&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.B_.delete(f),s.U_.removeTarget(f))}(r,e)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ku(r,i)}else if(e instanceof pu?r.U_.$e(e):e instanceof g0?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(ze.min()))try{const i=await R0(r.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.B_.get(y);v&&a.B_.set(y,v.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,y)=>{const v=a.B_.get(p);if(!v)return;a.B_.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),C0(a,p);const g=new ci(v.target,p,y,v.sequenceNumber);Ep(a,g)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),await ku(r,i)}}async function ku(r,e,t){if(!ps(e))throw e;r.k_.add(1),await qa(r),r.K_.set("Offline"),t||(t=()=>R0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Gu(r)})}function N0(r,e){return e().catch(t=>ku(r,t,e))}async function Wu(r){const e=$e(r),t=wi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;fI(e);)try{const s=await Wb(e.localStore,i);if(s===null){e.L_.length===0&&t.a_();break}i=s.batchId,hI(e,s)}catch(s){await ku(e,s)}L0(e)&&D0(e)}function fI(r){return lo(r)&&r.L_.length<10}function hI(r,e){r.L_.push(e);const t=wi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function L0(r){return lo(r)&&!wi(r).i_()&&r.L_.length>0}function D0(r){wi(r).start()}async function dI(r){wi(r).w_()}async function pI(r){const e=wi(r);for(const t of r.L_)e.g_(t.mutations)}async function mI(r,e,t){const i=r.L_.shift(),s=dp.from(i,e,t);await N0(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Wu(r)}async function gI(r,e){e&&wi(r).f_&&await async function(i,s){if(function(u){return tb(u)&&u!==ge.ABORTED}(s.code)){const a=i.L_.shift();wi(i).__(),await N0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Wu(i)}}(r,e),L0(r)&&D0(r)}async function nv(r,e){const t=$e(r);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=lo(t);t.k_.add(3),await qa(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Gu(t)}async function yI(r,e){const t=$e(r);e?(t.k_.delete(2),await Gu(t)):e||(t.k_.add(2),await qa(t),t.K_.set("Unknown"))}function gs(r){return r.W_||(r.W_=function(t,i,s){const a=$e(t);return a.b_(),new nI(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Ro:aI.bind(null,r),mo:lI.bind(null,r),po:uI.bind(null,r),R_:cI.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Tp(r)?wp(r):r.K_.set("Unknown")):(await r.W_.stop(),x0(r))})),r.W_}function wi(r){return r.G_||(r.G_=function(t,i,s){const a=$e(t);return a.b_(),new rI(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:dI.bind(null,r),po:gI.bind(null,r),p_:pI.bind(null,r),y_:mI.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Wu(r)):(await r.G_.stop(),r.L_.length>0&&(ke("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){const u=Date.now()+i,f=new Ap(e,t,u,s,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,e){if(qr("AsyncQueue",`${e}: ${r}`),ps(r))return new Pe(ge.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{static emptySet(e){return new ts(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Le.comparator(t.key,i.key):(t,i)=>Le.comparator(t.key,i.key),this.keyedMap=ha(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ts)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ts;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.z_=new wt(Le.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class as{constructor(e,t,i,s,a,u,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,s,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new as(e,t,ts.emptySet(t),u,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _I{constructor(){this.queries=iv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const s=$e(t),a=s.queries;s.queries=iv(),a.forEach((u,f)=>{for(const p of f.J_)p.onError(i)})})(this,new Pe(ge.ABORTED,"Firestore shutting down"))}}function iv(){return new so(r=>n0(r),Bu)}async function M0(r,e){const t=$e(r);let i=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(i=2):(a=new vI,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=Sp(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&bp(t)}async function V0(r,e){const t=$e(r),i=e.query;let s=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function EI(r,e){const t=$e(r);let i=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(s)&&(i=!0);u.H_=s}}i&&bp(t)}function wI(r,e,t){const i=$e(r),s=i.queries.get(e);if(s)for(const a of s.J_)a.onError(t);i.queries.delete(e)}function bp(r){r.X_.forEach(e=>{e.next()})}var Wd,ov;(ov=Wd||(Wd={})).na="default",ov.Cache="cache";class q0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new as(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=as.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.key=e}}class F0{constructor(e){this.key=e}}class TI{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Qe(),this.mutatedKeys=Qe(),this.Va=r0(e),this.ma=new ts(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new rv,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,g)=>{const d=s.get(v),m=Uu(this.query,g)?g:null,S=!!d&&this.mutatedKeys.has(d.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;d&&m?d.data.isEqual(m.data)?S!==A&&(i.track({type:3,doc:m}),w=!0):this.ya(d,m)||(i.track({type:2,doc:m}),w=!0,(p&&this.Va(m,p)>0||y&&this.Va(m,y)<0)&&(f=!0)):!d&&m?(i.track({type:0,doc:m}),w=!0):d&&!m&&(i.track({type:1,doc:d}),w=!0,(p||y)&&(f=!0)),w&&(m?(u=u.add(m),a=A?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ma:u,pa:i,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,g)=>function(m,S){const A=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return A(m)-A(S)}(v.type,g.type)||this.Va(v.doc,g.doc)),this.wa(i),s=s!=null&&s;const f=t&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,y=p!==this.Aa;return this.Aa=p,u.length!==0||y?{snapshot:new as(this.query,e.ma,a,u,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new rv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Qe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new F0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new j0(i))}),t}va(e){this.da=e.ds,this.Ra=Qe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return as.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class AI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class SI{constructor(e){this.key=e,this.Fa=!1}}class bI{constructor(e,t,i,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new so(f=>n0(f),Bu),this.Oa=new Map,this.Na=new Set,this.La=new wt(Le.comparator),this.Ba=new Map,this.ka=new gp,this.qa={},this.Qa=new Map,this.Ka=ss.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function II(r,e,t=!0){const i=K0(r);let s;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await B0(i,e,t,!0),s}async function RI(r,e){const t=K0(r);await B0(t,e,!0,!1)}async function B0(r,e,t,i){const s=await Qb(r.localStore,dr(e)),a=s.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await kI(r,e,a,u==="current",s.resumeToken)),r.isPrimaryClient&&t&&O0(r.remoteStore,s),f}async function kI(r,e,t,i,s){r.Ua=(g,d,m)=>async function(A,w,_,T){let x=w.view.ga(_);x.ss&&(x=await Jy(A.localStore,w.query,!1).then(({documents:C})=>w.view.ga(C,x)));const b=T&&T.targetChanges.get(w.targetId),M=T&&T.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(x,A.isPrimaryClient,b,M);return av(A,w.targetId,j.ba),j.snapshot}(r,g,d,m);const a=await Jy(r.localStore,e,!0),u=new TI(e,a.ds),f=u.ga(a.documents),p=Va.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",s),y=u.applyChanges(f,r.isPrimaryClient,p);av(r,t,y.ba);const v=new AI(e,t,u);return r.xa.set(e,v),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function PI(r,e,t){const i=$e(r),s=i.xa.get(e),a=i.Oa.get(s.targetId);if(a.length>1)return i.Oa.set(s.targetId,a.filter(u=>!Bu(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Gd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&_p(i.remoteStore,s.targetId),Qd(i,s.targetId)}).catch(ds)):(Qd(i,s.targetId),await Gd(i.localStore,s.targetId,!0))}async function OI(r,e){const t=$e(r),i=t.xa.get(e),s=t.Oa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_p(t.remoteStore,i.targetId))}async function CI(r,e,t){const i=qI(r);try{const s=await function(u,f){const p=$e(u),y=Lt.now(),v=f.reduce((m,S)=>m.add(S.key),Qe());let g,d;return p.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=jr(),A=Qe();return p.hs.getEntries(m,v).next(w=>{S=w,S.forEach((_,T)=>{T.isValidDocument()||(A=A.add(_))})}).next(()=>p.localDocuments.getOverlayedDocuments(m,S)).next(w=>{g=w;const _=[];for(const T of f){const x=Y2(T,g.get(T.key).overlayedDocument);x!=null&&_.push(new ao(T.key,x,W1(x.value.mapValue),Dr.exists(!0)))}return p.mutationQueue.addMutationBatch(m,y,_,f)}).next(w=>{d=w;const _=w.applyToLocalDocumentSet(g,A);return p.documentOverlayCache.saveOverlays(m,w.batchId,_)})}).then(()=>({batchId:d.batchId,changes:o0(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,f,p){let y=u.qa[u.currentUser.toKey()];y||(y=new wt(Xe)),y=y.insert(f,p),u.qa[u.currentUser.toKey()]=y}(i,s.batchId,t),await ja(i,s.changes),await Wu(i.remoteStore)}catch(s){const a=Sp(s,"Failed to persist write");t.reject(a)}}async function U0(r,e){const t=$e(r);try{const i=await Kb(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?ot(u.Fa):s.removedDocuments.size>0&&(ot(u.Fa),u.Fa=!1))}),await ja(t,i,e)}catch(i){await ds(i)}}function sv(r,e,t){const i=$e(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const p=$e(u);p.onlineState=f;let y=!1;p.queries.forEach((v,g)=>{for(const d of g.J_)d.ea(f)&&(y=!0)}),y&&bp(p)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xI(r,e,t){const i=$e(r);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ba.get(e),a=s&&s.key;if(a){let u=new wt(Le.comparator);u=u.insert(a,tn.newNoDocument(a,ze.min()));const f=Qe().add(a),p=new Hu(ze.min(),new Map,new wt(Xe),u,f);await U0(i,p),i.La=i.La.remove(a),i.Ba.delete(e),Ip(i)}else await Gd(i.localStore,e,!1).then(()=>Qd(i,e,t)).catch(ds)}async function NI(r,e){const t=$e(r),i=e.batch.batchId;try{const s=await Hb(t.localStore,e);$0(t,i,null),z0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ja(t,s)}catch(s){await ds(s)}}async function LI(r,e,t){const i=$e(r);try{const s=await function(u,f){const p=$e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(g=>(ot(g!==null),v=g.keys(),p.mutationQueue.removeMutationBatch(y,g))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);$0(i,e,t),z0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ja(i,s)}catch(s){await ds(s)}}function z0(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function $0(r,e,t){const i=$e(r);let s=i.qa[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function Qd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Oa.get(e))r.xa.delete(i),t&&r.Ma.Wa(i,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(i=>{r.ka.containsKey(i)||H0(r,i)})}function H0(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(_p(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),Ip(r))}function av(r,e,t){for(const i of t)i instanceof j0?(r.ka.addReference(i.key,e),DI(r,i)):i instanceof F0?(ke("SyncEngine","Document no longer in limbo: "+i.key),r.ka.removeReference(i.key,e),r.ka.containsKey(i.key)||H0(r,i.key)):Fe()}function DI(r,e){const t=e.key,i=t.path.canonicalString();r.La.get(t)||r.Na.has(i)||(ke("SyncEngine","New document in limbo: "+t),r.Na.add(i),Ip(r))}function Ip(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Le(mt.fromString(e)),i=r.Ka.next();r.Ba.set(i,new SI(t)),r.La=r.La.insert(t,i),O0(r.remoteStore,new ci(dr(fp(t.path)),i,"TargetPurposeLimboResolution",qu.oe))}}async function ja(r,e,t){const i=$e(r),s=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{u.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const g=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,g?"current":"not-current")}if(y){s.push(y);const g=vp.zi(p.targetId,y);a.push(g)}}))}),await Promise.all(u),i.Ma.R_(s),await async function(p,y){const v=$e(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>me.forEach(y,d=>me.forEach(d.Wi,m=>v.persistence.referenceDelegate.addReference(g,d.targetId,m)).next(()=>me.forEach(d.Gi,m=>v.persistence.referenceDelegate.removeReference(g,d.targetId,m)))))}catch(g){if(!ps(g))throw g;ke("LocalStore","Failed to update sequence numbers: "+g)}for(const g of y){const d=g.targetId;if(!g.fromCache){const m=v.us.get(d),S=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(S);v.us=v.us.insert(d,A)}}}(i.localStore,a))}async function MI(r,e){const t=$e(r);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=await I0(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(p=>{p.reject(new Pe(ge.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ja(t,i.Ts)}}function VI(r,e){const t=$e(r),i=t.Ba.get(e);if(i&&i.Fa)return Qe().add(i.key);{let s=Qe();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const f=t.xa.get(u);s=s.unionWith(f.view.fa)}return s}}function K0(r){const e=$e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xI.bind(null,e),e.Ma.R_=EI.bind(null,e.eventManager),e.Ma.Wa=wI.bind(null,e.eventManager),e}function qI(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LI.bind(null,e),e}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ku(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return $b(this.persistence,new Ub,e.initialUser,this.serializer)}ja(e){return new b0(yp.ei,this.serializer)}za(e){return new Xb}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class jI extends Pu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ot(this.persistence.referenceDelegate instanceof Ru);const i=this.persistence.referenceDelegate.garbageCollector;return new Rb(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new b0(i=>Ru.ei(i,t),this.serializer)}}class Yd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),await yI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _I}()}createDatastore(e){const t=Ku(e.databaseInfo.databaseId),i=function(a){return new tI(a)}(e.databaseInfo);return function(a,u,f,p){return new iI(a,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,a,u,f){return new sI(i,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>sv(this.syncEngine,t,0),function(){return tv.p()?new tv:new Zb}())}createSyncEngine(e,t){return function(s,a,u,f,p,y,v){const g=new bI(s,a,u,f,p,y);return v&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=$e(s);ke("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await qa(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,i,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=en.UNAUTHENTICATED,this.clientId=H1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ke("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ke("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Sp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gf(r,e){r.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async s=>{i.isEqual(s)||(await I0(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function lv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await BI(r);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>nv(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,s)=>nv(e.remoteStore,s)),r._onlineComponents=e}async function BI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ns("Error using user provided cache. Falling back to memory cache: "+t),await Gf(r,new Pu)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await Gf(r,new jI(void 0));return r._offlineComponents}async function W0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await lv(r,r._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await lv(r,new Yd))),r._onlineComponents}function UI(r){return W0(r).then(e=>e.syncEngine)}async function Q0(r){const e=await W0(r),t=e.eventManager;return t.onListen=II.bind(null,e.syncEngine),t.onUnlisten=PI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OI.bind(null,e.syncEngine),t}function zI(r,e,t={}){const i=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,f,p,y){const v=new G0({next:d=>{v.eu(),u.enqueueAndForget(()=>V0(a,g));const m=d.docs.has(f);!m&&d.fromCache?y.reject(new Pe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&p&&p.source==="server"?y.reject(new Pe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(d)},error:d=>y.reject(d)}),g=new q0(fp(f.path),v,{includeMetadataChanges:!0,ua:!0});return M0(a,g)}(await Q0(r),r.asyncQueue,e,t,i)),i.promise}function $I(r,e,t={}){const i=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,f,p,y){const v=new G0({next:d=>{v.eu(),u.enqueueAndForget(()=>V0(a,g)),d.fromCache&&p.source==="server"?y.reject(new Pe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(d)},error:d=>y.reject(d)}),g=new q0(f,v,{includeMetadataChanges:!0,ua:!0});return M0(a,g)}(await Q0(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,e,t){if(!t)throw new Pe(ge.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HI(r,e,t,i){if(e===!0&&i===!0)throw new Pe(ge.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function cv(r){if(!Le.isDocumentKey(r))throw new Pe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(Le.isDocumentKey(r))throw new Pe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Fe()}function ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qu(r);throw new Pe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yu{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r2;switch(i.type){case"firstParty":return new a2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Pe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=uv.get(t);i&&(ke("ComponentProvider","Removing Datastore"),uv.delete(t),i.terminate())}(this),Promise.resolve()}}function KI(r,e,t,i={}){var s;const a=(r=ls(r,Yu))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=en.MOCK_USER;else{f=VA(i.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Pe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new en(y)}r._authCredentials=new i2(new $1(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class Sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class di extends Ai{constructor(e,t,i){super(e,t,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Le(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function Rp(r,e,...t){if(r=mi(r),X0("collection","path",e),r instanceof Yu){const i=mt.fromString(e,...t);return fv(i),new di(r,null,i)}{if(!(r instanceof Sn||r instanceof di))throw new Pe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return fv(i),new di(r.firestore,null,i)}}function kp(r,e,...t){if(r=mi(r),arguments.length===1&&(e=H1.newId()),X0("doc","path",e),r instanceof Yu){const i=mt.fromString(e,...t);return cv(i),new Sn(r,null,new Le(i))}{if(!(r instanceof Sn||r instanceof di))throw new Pe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return cv(i),new Sn(r.firestore,r instanceof di?r.converter:null,new Le(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new k0(this,"async_queue_retry"),this.fu=()=>{const i=Kf();i&&ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Lr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ps(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw qr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Ap.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Xu extends Yu{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new dv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function GI(r,e){const t=typeof r=="object"?r:D1(),i=typeof r=="string"?r:"(default)",s=Da(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=DA("firestore");a&&KI(s,...a)}return s}function Pp(r){if(r._terminated)throw new Pe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WI(r),r._firestoreClient}function WI(r){var e,t,i;const s=r._freezeSettings(),a=function(f,p,y,v){return new T2(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Y0(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new FI(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Gt.fromBase64String(e))}catch(t){throw new Pe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/^__.*__$/;class YI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}function J0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Np{constructor(e,t,i,s,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Lu(e),s}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ou(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(J0(this.Mu)&&QI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class XI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ku(e)}$u(e,t,i,s=!1){return new Np({Mu:e,methodName:t,Ku:i,path:Kt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eE(r){const e=r._freezeSettings(),t=Ku(r._databaseId);return new XI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ZI(r,e,t,i,s,a={}){const u=r.$u(a.merge||a.mergeFields?2:0,e,t,s);rE("Data must be an object, but it was:",u,i);const f=tE(i,u);let p,y;if(a.merge)p=new Jn(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const g of a.mergeFields){const d=eR(e,g,t);if(!u.contains(d))throw new Pe(ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);nR(v,d)||v.push(d)}p=new Jn(v),y=u.fieldTransforms.filter(g=>p.covers(g.field))}else p=null,y=u.fieldTransforms;return new YI(new Mn(f),p,y)}function JI(r,e,t,i=!1){return Lp(t,r.$u(i?4:3,e))}function Lp(r,e){if(nE(r=mi(r)))return rE("Unsupported field value:",e,r),tE(r,e);if(r instanceof Z0)return function(i,s){if(!J0(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const a=[];let u=0;for(const f of i){let p=Lp(f,s.ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(r,e)}return function(i,s){if((i=mi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $2(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Lt.fromDate(i);return{timestampValue:Iu(s.serializer,a)}}if(i instanceof Lt){const a=new Lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Iu(s.serializer,a)}}if(i instanceof Cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof us)return{bytesValue:v0(s.serializer,i._byteString)};if(i instanceof Sn){const a=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof xp)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return hp(f.serializer,p)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Qu(i)}`)}(r,e)}function tE(r,e){const t={};return K1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(r,(i,s)=>{const a=Lp(s,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function nE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof Cp||r instanceof us||r instanceof Sn||r instanceof Z0||r instanceof xp)}function rE(r,e,t){if(!nE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Qu(t);throw i==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+i)}}function eR(r,e,t){if((e=mi(e))instanceof Op)return e._internalPath;if(typeof e=="string")return iE(r,e);throw Ou("Field path arguments must be of type string or ",r,!1,void 0,t)}const tR=new RegExp("[~\\*/\\[\\]]");function iE(r,e,t){if(e.search(tR)>=0)throw Ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw Ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ou(r,e,t,i,s){const a=i&&!i.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${s}`),p+=")"),new Pe(ge.INVALID_ARGUMENT,f+r+p)}function nR(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rR extends oE{data(){return super.data()}}function Dp(r,e){return typeof e=="string"?iE(r,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class Vp extends Mp{}function sE(r,e,...t){let i=[];e instanceof Mp&&i.push(e),i=i.concat(t),function(a){const u=a.filter(p=>p instanceof jp).length,f=a.filter(p=>p instanceof qp).length;if(u>1||u>0&&f>0)throw new Pe(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)r=s._apply(r);return r}class qp extends Vp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qp(e,t,i)}_apply(e){const t=this._parse(e);return lE(e._query,t),new Ai(e.firestore,e.converter,Ud(e._query,t))}_parse(e){const t=eE(e.firestore);return function(a,u,f,p,y,v,g){let d;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Pe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mv(g,v);const m=[];for(const S of g)m.push(pv(p,a,S));d={arrayValue:{values:m}}}else d=pv(p,a,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mv(g,v),d=JI(f,u,g,v==="in"||v==="not-in");return Ot.create(y,v,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class jp extends Mp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const p of f)lE(u,p),u=Ud(u,p)}(e._query,t),new Ai(e.firestore,e.converter,Ud(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fp extends Vp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fp(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ka(a,u)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new ms(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function aE(r,e="asc"){const t=e,i=Dp("orderBy",r);return Fp._create(i,t)}class Bp extends Vp{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Bp(e,t,i)}_apply(e){return new Ai(e.firestore,e.converter,Au(e._query,this._limit,this._limitType))}}function oR(r){return Bp._create("limit",r,"F")}function pv(r,e,t){if(typeof(t=mi(t))=="string"){if(t==="")throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(e)&&t.indexOf("/")!==-1)throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Le.isDocumentKey(i))throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dy(r,new Le(i))}if(t instanceof Sn)return Dy(r,t._key);throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qu(t)}.`)}function mv(r,e){if(!Array.isArray(r)||r.length===0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lE(r,e){const t=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sR{convertValue(e,t="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oo(e,(s,a)=>{i[s]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,s;const a=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>bt(u.doubleValue));return new xp(a)}convertGeoPoint(e){return new Cp(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fu(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=vi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);ot(S0(i));const s=new Ia(i.get(1),i.get(3)),a=new Le(i.popFirst(5));return s.isEqual(t)||qr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uE extends oE{constructor(e,t,i,s,a,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mu extends uE{data(e={}){return super.data(e)}}class lR{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new pa(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mu(this._firestore,this._userDataWriter,i.key,i,new pa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const p=new mu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new pa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new mu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new pa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,v=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:uR(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){r=ls(r,Sn);const e=ls(r.firestore,Xu);return zI(Pp(e),r._key).then(t=>hR(e,r,t))}class fE extends sR{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function hE(r){r=ls(r,Ai);const e=ls(r.firestore,Xu),t=Pp(e),i=new fE(e);return iR(r._query),$I(t,r._query).then(s=>new lR(e,i,r,s))}function cR(r,e){const t=ls(r.firestore,Xu),i=kp(r),s=aR(r.converter,e);return fR(t,[ZI(eE(r.firestore),"addDoc",i._key,s,r.converter!==null,{}).toMutation(i._key,Dr.exists(!1))]).then(()=>i)}function fR(r,e){return function(i,s){const a=new Lr;return i.asyncQueue.enqueueAndForget(async()=>CI(await UI(i),s,a)),a.promise}(Pp(r),e)}function hR(r,e,t){const i=t.docs.get(e._key),s=new fE(r);return new uE(r,s,e._key,i,new pa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){hs=s})(GS),gi(new Mr("firestore",(i,{instanceIdentifier:s,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Xu(new o2(i.getProvider("auth-internal")),new u2(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Pe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(y.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),hr(Py,"4.7.5",e),hr(Py,"4.7.5","esm2017")})();var dR="firebase",pR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(dR,pR,"app");const dE="@firebase/installations",Up="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=1e4,mE=`w:${Up}`,gE="FIS_v2",mR="https://firebaseinstallations.googleapis.com/v1",gR=60*60*1e3,yR="installations",vR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},no=new Vu(yR,vR,_R);function yE(r){return r instanceof Ti&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE({projectId:r}){return`${mR}/projects/${r}/installations`}function _E(r){return{token:r.token,requestStatus:2,expiresIn:wR(r.expiresIn),creationTime:Date.now()}}async function EE(r,e){const i=(await e.json()).error;return no.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function ER(r,{refreshToken:e}){const t=wE(r);return t.append("Authorization",TR(e)),t}async function TE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function wR(r){return Number(r.replace("s","000"))}function TR(r){return`${gE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const i=vE(r),s=wE(r),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={fid:t,authVersion:gE,appId:r.appId,sdkVersion:mE},f={method:"POST",headers:s,body:JSON.stringify(u)},p=await TE(()=>fetch(i,f));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:_E(y.authToken)}}else throw await EE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^[cdef][\w-]{21}$/,Xd="";function IR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=RR(r);return bR.test(t)?t:Xd}catch{return Xd}}function RR(r){return SR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function bE(r,e){const t=Zu(r);IE(t,e),kR(t,e)}function IE(r,e){const t=SE.get(r);if(t)for(const i of t)i(e)}function kR(r,e){const t=PR();t&&t.postMessage({key:r,fid:e}),OR()}let Ji=null;function PR(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=r=>{IE(r.data.key,r.data.fid)}),Ji}function OR(){SE.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-installations-database",xR=1,ro="firebase-installations-store";let Wf=null;function zp(){return Wf||(Wf=N1(CR,xR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ro)}}})),Wf}async function Cu(r,e){const t=Zu(r),s=(await zp()).transaction(ro,"readwrite"),a=s.objectStore(ro),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&bE(r,e.fid),e}async function RE(r){const e=Zu(r),i=(await zp()).transaction(ro,"readwrite");await i.objectStore(ro).delete(e),await i.done}async function Ju(r,e){const t=Zu(r),s=(await zp()).transaction(ro,"readwrite"),a=s.objectStore(ro),u=await a.get(t),f=e(u);return f===void 0?await a.delete(t):await a.put(f,t),await s.done,f&&(!u||u.fid!==f.fid)&&bE(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(r){let e;const t=await Ju(r.appConfig,i=>{const s=NR(i),a=LR(r,s);return e=a.registrationPromise,a.installationEntry});return t.fid===Xd?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NR(r){const e=r||{fid:IR(),registrationStatus:0};return kE(e)}function LR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(no.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DR(r,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MR(r)}:{installationEntry:e}}async function DR(r,e){try{const t=await AR(r,e);return Cu(r.appConfig,t)}catch(t){throw yE(t)&&t.customData.serverCode===409?await RE(r.appConfig):await Cu(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function MR(r){let e=await gv(r.appConfig);for(;e.registrationStatus===1;)await AE(100),e=await gv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await $p(r);return i||t}return e}function gv(r){return Ju(r,e=>{if(!e)throw no.create("installation-not-found");return kE(e)})}function kE(r){return VR(r)?{fid:r.fid,registrationStatus:0}:r}function VR(r){return r.registrationStatus===1&&r.registrationTime+pE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR({appConfig:r,heartbeatServiceProvider:e},t){const i=jR(r,t),s=ER(r,t),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={installation:{sdkVersion:mE,appId:r.appId}},f={method:"POST",headers:s,body:JSON.stringify(u)},p=await TE(()=>fetch(i,f));if(p.ok){const y=await p.json();return _E(y)}else throw await EE("Generate Auth Token",p)}function jR(r,{fid:e}){return`${vE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(r,e=!1){let t;const i=await Ju(r.appConfig,a=>{if(!PE(a))throw no.create("not-registered");const u=a.authToken;if(!e&&UR(u))return a;if(u.requestStatus===1)return t=FR(r,e),a;{if(!navigator.onLine)throw no.create("app-offline");const f=$R(a);return t=BR(r,f),f}});return t?await t:i.authToken}async function FR(r,e){let t=await yv(r.appConfig);for(;t.authToken.requestStatus===1;)await AE(100),t=await yv(r.appConfig);const i=t.authToken;return i.requestStatus===0?Hp(r,e):i}function yv(r){return Ju(r,e=>{if(!PE(e))throw no.create("not-registered");const t=e.authToken;return HR(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function BR(r,e){try{const t=await qR(r,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Cu(r.appConfig,i),t}catch(t){if(yE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await RE(r.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cu(r.appConfig,i)}throw t}}function PE(r){return r!==void 0&&r.registrationStatus===2}function UR(r){return r.requestStatus===2&&!zR(r)}function zR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+gR}function $R(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function HR(r){return r.requestStatus===1&&r.requestTime+pE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r){const e=r,{installationEntry:t,registrationPromise:i}=await $p(e);return i?i.catch(console.error):Hp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e=!1){const t=r;return await WR(t),(await Hp(t,e)).token}async function WR(r){const{registrationPromise:e}=await $p(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){if(!r||!r.options)throw Qf("App Configuration");if(!r.name)throw Qf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Qf(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Qf(r){return no.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="installations",YR="installations-internal",XR=r=>{const e=r.getProvider("app").getImmediate(),t=QR(e),i=Da(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ZR=r=>{const e=r.getProvider("app").getImmediate(),t=Da(e,OE).getImmediate();return{getId:()=>KR(t),getToken:s=>GR(t,s)}};function JR(){gi(new Mr(OE,XR,"PUBLIC")),gi(new Mr(YR,ZR,"PRIVATE"))}JR();hr(dE,Up);hr(dE,Up,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="analytics",ek="firebase_id",tk="origin",nk=60*1e3,rk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new ip("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Vu("analytics","Analytics",ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(r){if(!r.startsWith(Kp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return gn.warn(e.message),""}return r}function CE(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function sk(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function ak(r,e){const t=sk("firebase-js-sdk-policy",{createScriptURL:ok}),i=document.createElement("script"),s=`${Kp}?l=${r}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function lk(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function uk(r,e,t,i,s,a){const u=i[s];try{if(u)await e[u];else{const p=(await CE(t)).find(y=>y.measurementId===s);p&&await e[p.appId]}}catch(f){gn.error(f)}r("config",s,a)}async function ck(r,e,t,i,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const f=await CE(t);for(const p of u){const y=f.find(g=>g.measurementId===p),v=y&&e[y.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),r("event",i,s||{})}catch(a){gn.error(a)}}function fk(r,e,t,i){async function s(a,...u){try{if(a==="event"){const[f,p]=u;await ck(r,e,t,f,p)}else if(a==="config"){const[f,p]=u;await uk(r,e,t,i,f,p)}else if(a==="consent"){const[f,p]=u;r("consent",f,p)}else if(a==="get"){const[f,p,y]=u;r("get",f,p,y)}else if(a==="set"){const[f]=u;r("set",f)}else r(a,...u)}catch(f){gn.error(f)}}return s}function hk(r,e,t,i,s){let a=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=fk(a,r,e,t),{gtagCore:a,wrappedGtag:window[s]}}function dk(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=30,mk=1e3;class gk{constructor(e={},t=mk){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xE=new gk;function yk(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function vk(r){var e;const{appId:t,apiKey:i}=r,s={method:"GET",headers:yk(i)},a=rk.replace("{app-id}",t),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function _k(r,e=xE,t){const{appId:i,apiKey:s,measurementId:a}=r.options;if(!i)throw bn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw bn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Tk;return setTimeout(async()=>{f.abort()},nk),NE({appId:i,apiKey:s,measurementId:a},u,f,e)}async function NE(r,{throttleEndTimeMillis:e,backoffCount:t},i,s=xE){var a;const{appId:u,measurementId:f}=r;try{await Ek(i,e)}catch(p){if(f)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await vk(r);return s.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!wk(y)){if(s.deleteThrottleMetadata(u),f)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const v=Number((a=y==null?void 0:y.customData)===null||a===void 0?void 0:a.httpStatus)===503?_y(t,s.intervalMillis,pk):_y(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return s.setThrottleMetadata(u,g),gn.debug(`Calling attemptFetch again in ${v} millis`),NE(r,g,i,s)}}function Ek(r,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);r.addEventListener(()=>{clearTimeout(a),i(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wk(r){if(!(r instanceof Ti)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ak(r,e,t,i,s){if(s&&s.global){r("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});r("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(){if(P1())try{await O1()}catch(r){return gn.warn(bn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return gn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bk(r,e,t,i,s,a,u){var f;const p=_k(r);p.then(m=>{t[m.measurementId]=m.appId,r.options.measurementId&&m.measurementId!==r.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>gn.error(m)),e.push(p);const y=Sk().then(m=>{if(m)return i.getId()}),[v,g]=await Promise.all([p,y]);dk(a)||ak(a,v.measurementId),s("js",new Date);const d=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return d[tk]="firebase",d.update=!0,g!=null&&(d[ek]=g),s("config",v.measurementId,d),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.app=e}_delete(){return delete wa[this.app.options.appId],Promise.resolve()}}let wa={},vv=[];const _v={};let Yf="dataLayer",Rk="gtag",Ev,LE,wv=!1;function kk(){const r=[];if(FA()&&r.push("This is a browser extension environment."),UA()||r.push("Cookies are not available."),r.length>0){const e=r.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function Pk(r,e,t){kk();const i=r.options.appId;if(!i)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(wa[i]!=null)throw bn.create("already-exists",{id:i});if(!wv){lk(Yf);const{wrappedGtag:a,gtagCore:u}=hk(wa,vv,_v,Yf,Rk);LE=a,Ev=u,wv=!0}return wa[i]=bk(r,vv,_v,e,Ev,Yf,t),new Ik(r)}function Ok(r=D1()){r=mi(r);const e=Da(r,xu);return e.isInitialized()?e.getImmediate():Ck(r)}function Ck(r,e={}){const t=Da(r,xu);if(t.isInitialized()){const s=t.getImmediate();if(_u(e,t.getOptions()))return s;throw bn.create("already-initialized")}return t.initialize({options:e})}function xk(r,e,t,i){r=mi(r),Ak(LE,wa[r.app.options.appId],e,t,i).catch(s=>gn.error(s))}const Tv="@firebase/analytics",Av="0.10.10";function Nk(){gi(new Mr(xu,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Pk(i,s,t)},"PUBLIC")),gi(new Mr("analytics-internal",r,"PRIVATE")),hr(Tv,Av),hr(Tv,Av,"esm2017");function r(e){try{const t=e.getProvider(xu).getImmediate();return{logEvent:(i,s,a)=>xk(t,i,s,a)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}}}Nk();const Lk={apiKey:"AIzaSyC0vB70XWrG5a5zknqI__LHzg4rl-iCWOc",authDomain:"ikamolov-blog.firebaseapp.com",projectId:"ikamolov-blog",storageBucket:"ikamolov-blog.firebasestorage.app",messagingSenderId:"217477523346",appId:"1:217477523346:web:c6f586b368a8303906434b",measurementId:"G-J1LSW2JLTQ"},DE=L1(Lk),Ca=GI(DE);Ok(DE);const Dk=({posts:r,setIsOpenMenu:e})=>{const t=v1(),i=a=>{t(`/posts/${a}`)},s=a=>{i(a),e(!1)};return Se.jsx("div",{children:Se.jsxs("ul",{className:"post__list",children:[Se.jsx("button",{className:"post__list--closeBtn",onClick:()=>e(!1),children:Se.jsxs("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Se.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),Se.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),Se.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",Se.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.2929,3.29289 C11.6834,2.90237 12.3166,2.90237 12.7071,3.29289 C13.0976,3.68342 13.0976,4.31658 12.7071,4.70711 L9.41421,8 L12.7071,11.2929 C13.0976,11.6834 13.0976,12.3166 12.7071,12.7071 C12.3166,13.0976 11.6834,13.0976 11.2929,12.7071 L8,9.41421 L4.70711,12.7071 C4.31658,13.0976 3.68342,13.0976 3.29289,12.7071 C2.90237,12.3166 2.90237,11.6834 3.29289,11.2929 L6.58579,8 L3.29289,4.70711 C2.90237,4.31658 2.90237,3.68342 3.29289,3.29289 C3.68342,2.90237 4.31658,2.90237 4.70711,3.29289 L8,6.58579 L11.2929,3.29289 Z"})," "]})]})}),r.map(a=>Se.jsx("li",{className:"post__item",onClick:()=>s(a.id),children:a.title},a.id))]})})},Mk=()=>{const{id:r}=_1(),[e,t]=pe.useState(null);pe.useEffect(()=>{(async()=>{try{if(r){const u=kp(Ca,"posts",r),f=await cE(u);f.exists()?t({id:f.id,...f.data()}):(console.error("No such post!"),t(null))}else{const u=sE(Rp(Ca,"posts"),aE("createdAt","desc"),oR(1)),p=(await hE(u)).docs.map(y=>({id:y.id,...y.data()}))[0];t(p)}}catch(u){console.error("Error fetching post:",u)}})()},[r]);const i=a=>({__html:a}),s=()=>{if(e){const a=`${window.location.origin}/posts/${e.id}`;navigator.clipboard.writeText(a).then(()=>{alert("Post URL copied to clipboard!")}).catch(u=>{console.error("Error copying text: ",u)})}};return e?Se.jsxs("div",{className:"postbox",children:[Se.jsx("h1",{className:"post__title",children:e.title}),Se.jsx("div",{dangerouslySetInnerHTML:i(e.content)}),Se.jsxs("div",{className:"flex__box--postDetails",children:[Se.jsx("p",{className:"post__createdAt",children:e.createdAt.toDate().toLocaleString()}),Se.jsx("button",{className:"share__button",onClick:s,children:Se.jsxs("svg",{viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Se.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),Se.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),Se.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",Se.jsx("path",{d:"M7.05025 1.53553C8.03344 0.552348 9.36692 0 10.7574 0C13.6528 0 16 2.34721 16 5.24264C16 6.63308 15.4477 7.96656 14.4645 8.94975L12.4142 11L11 9.58579L13.0503 7.53553C13.6584 6.92742 14 6.10264 14 5.24264C14 3.45178 12.5482 2 10.7574 2C9.89736 2 9.07258 2.34163 8.46447 2.94975L6.41421 5L5 3.58579L7.05025 1.53553Z",fill:"currentColor"})," ",Se.jsx("path",{d:"M7.53553 13.0503L9.58579 11L11 12.4142L8.94975 14.4645C7.96656 15.4477 6.63308 16 5.24264 16C2.34721 16 0 13.6528 0 10.7574C0 9.36693 0.552347 8.03344 1.53553 7.05025L3.58579 5L5 6.41421L2.94975 8.46447C2.34163 9.07258 2 9.89736 2 10.7574C2 12.5482 3.45178 14 5.24264 14C6.10264 14 6.92742 13.6584 7.53553 13.0503Z",fill:"currentColor"})," ",Se.jsx("path",{d:"M5.70711 11.7071L11.7071 5.70711L10.2929 4.29289L4.29289 10.2929L5.70711 11.7071Z",fill:"#currentColor"})," "]})]})})]})]}):Se.jsx("div",{className:"loader"})},Sv=()=>{const{id:r}=_1(),[e,t]=pe.useState([]),[i,s]=pe.useState(null),[a,u]=pe.useState(!1);return pe.useEffect(()=>{(async()=>{const p=sE(Rp(Ca,"posts"),aE("createdAt","desc")),v=(await hE(p)).docs.map(g=>({id:g.id,...g.data()}));t(v),!r&&v.length>0&&s(v[0])})()},[r]),pe.useEffect(()=>{r&&(async()=>{const p=kp(Ca,"posts",r),y=await cE(p);y.exists()?s(y.data()):console.log("Post topilmadi")})()},[r]),a?document.body.style.overflow="hidden":document.body.style.overflow="auto",Se.jsxs("div",{className:"PostPage__main--container",children:[Se.jsx("button",{className:"postPage__menuBtn",onClick:()=>u(!a),children:Se.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Se.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),Se.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),Se.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",Se.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8h15M5 16h22M5 24h22M5 11l3-3-3-3"})," "]})]})}),Se.jsx("div",{className:"PostList__container",style:{left:a?"0px":"-100%",opacity:a?"1":"0"},children:Se.jsx(Dk,{posts:e,setIsOpenMenu:u})}),Se.jsx("div",{className:"PostDetail__container",children:i?Se.jsx(Mk,{post:i}):Se.jsx("div",{className:"select__post__details",children:"Select a post to view details"})})]})};function Vk(){return pe.useState(0),window.addEventListener("keyup",r=>{r.keyCode==106&&r.shiftKey==!0&&r.ctrlKey==!0&&(window.location.href="/create",console.log(r))}),Se.jsx("section",{className:"homePage",children:Se.jsxs("div",{className:"homePage__container",children:[Se.jsx("h1",{className:"main__title",children:"Sayt haqida"}),Se.jsx("p",{className:"about__site__text",children:"Salom! Bu sayt orqali siz shunchaki blog postlarni o'qishingiz mumkin. Hozir siz ko'rib turgan narsalar sayni 1.01 versiyasi bo'lib kelajakda yangilanishi kutilmoqda. Sayt hozirda juda ko'p kamchiliklarga ega lekin bloglarni o'qishingiz uchun barcha narsa yetarli. Agar sizga DARK MODE noqulay bo'lsa yaqin oradagi yangilanish bu noqulaylikni bartaraf etish uchun qilinadi."}),Se.jsx("h2",{className:"second__title",children:"Men haqimda"}),Se.jsx("p",{className:"about__site__text",children:"Men Islomjon Kamolovman. Shunchaki oddiy maktab o'quvchisi. Blog sayt qilishni 4-5 oydan beri orzu qilib yurgandim lekin bilimlarim yetarli emas edi. Mana bugun yetarli bilimga ega bo'lib bu saytni yasadim. Blogimdagi barcha narsalar mening shaxsiy fikrlarim va o'qigan bilimlarim asosida yoziladi. 09.08.2008 kuni tug'ulganman. Yaxshi ko'rgan ovqatim osh. Nima uchun bularni yozdim? Yozishga boshqa narsa bo'lmagani uchun."}),Se.jsx(Mu,{to:"posts",className:"GoToPosts__link",children:"Postlarni ko'rish"})]})})}var Xf,bv;function qk(){if(bv)return Xf;bv=1;function r(){this.__data__=[],this.size=0}return Xf=r,Xf}var Zf,Iv;function ME(){if(Iv)return Zf;Iv=1;function r(e,t){return e===t||e!==e&&t!==t}return Zf=r,Zf}var Jf,Rv;function ec(){if(Rv)return Jf;Rv=1;var r=ME();function e(t,i){for(var s=t.length;s--;)if(r(t[s][0],i))return s;return-1}return Jf=e,Jf}var eh,kv;function jk(){if(kv)return eh;kv=1;var r=ec(),e=Array.prototype,t=e.splice;function i(s){var a=this.__data__,u=r(a,s);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return eh=i,eh}var th,Pv;function Fk(){if(Pv)return th;Pv=1;var r=ec();function e(t){var i=this.__data__,s=r(i,t);return s<0?void 0:i[s][1]}return th=e,th}var nh,Ov;function Bk(){if(Ov)return nh;Ov=1;var r=ec();function e(t){return r(this.__data__,t)>-1}return nh=e,nh}var rh,Cv;function Uk(){if(Cv)return rh;Cv=1;var r=ec();function e(t,i){var s=this.__data__,a=r(s,t);return a<0?(++this.size,s.push([t,i])):s[a][1]=i,this}return rh=e,rh}var ih,xv;function tc(){if(xv)return ih;xv=1;var r=qk(),e=jk(),t=Fk(),i=Bk(),s=Uk();function a(u){var f=-1,p=u==null?0:u.length;for(this.clear();++f<p;){var y=u[f];this.set(y[0],y[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=s,ih=a,ih}var oh,Nv;function zk(){if(Nv)return oh;Nv=1;var r=tc();function e(){this.__data__=new r,this.size=0}return oh=e,oh}var sh,Lv;function $k(){if(Lv)return sh;Lv=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return sh=r,sh}var ah,Dv;function Hk(){if(Dv)return ah;Dv=1;function r(e){return this.__data__.get(e)}return ah=r,ah}var lh,Mv;function Kk(){if(Mv)return lh;Mv=1;function r(e){return this.__data__.has(e)}return lh=r,lh}var uh,Vv;function VE(){if(Vv)return uh;Vv=1;var r=typeof eu=="object"&&eu&&eu.Object===Object&&eu;return uh=r,uh}var ch,qv;function Fr(){if(qv)return ch;qv=1;var r=VE(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return ch=t,ch}var fh,jv;function Gp(){if(jv)return fh;jv=1;var r=Fr(),e=r.Symbol;return fh=e,fh}var hh,Fv;function Gk(){if(Fv)return hh;Fv=1;var r=Gp(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,s=r?r.toStringTag:void 0;function a(u){var f=t.call(u,s),p=u[s];try{u[s]=void 0;var y=!0}catch{}var v=i.call(u);return y&&(f?u[s]=p:delete u[s]),v}return hh=a,hh}var dh,Bv;function Wk(){if(Bv)return dh;Bv=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return dh=t,dh}var ph,Uv;function nc(){if(Uv)return ph;Uv=1;var r=Gp(),e=Gk(),t=Wk(),i="[object Null]",s="[object Undefined]",a=r?r.toStringTag:void 0;function u(f){return f==null?f===void 0?s:i:a&&a in Object(f)?e(f):t(f)}return ph=u,ph}var mh,zv;function qE(){if(zv)return mh;zv=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return mh=r,mh}var gh,$v;function jE(){if($v)return gh;$v=1;var r=nc(),e=qE(),t="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var p=r(f);return p==i||p==s||p==t||p==a}return gh=u,gh}var yh,Hv;function Qk(){if(Hv)return yh;Hv=1;var r=Fr(),e=r["__core-js_shared__"];return yh=e,yh}var vh,Kv;function Yk(){if(Kv)return vh;Kv=1;var r=Qk(),e=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return vh=t,vh}var _h,Gv;function FE(){if(Gv)return _h;Gv=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return _h=t,_h}var Eh,Wv;function Xk(){if(Wv)return Eh;Wv=1;var r=jE(),e=Yk(),t=qE(),i=FE(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,p=u.toString,y=f.hasOwnProperty,v=RegExp("^"+p.call(y).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(d){if(!t(d)||e(d))return!1;var m=r(d)?v:a;return m.test(i(d))}return Eh=g,Eh}var wh,Qv;function Zk(){if(Qv)return wh;Qv=1;function r(e,t){return e==null?void 0:e[t]}return wh=r,wh}var Th,Yv;function ys(){if(Yv)return Th;Yv=1;var r=Xk(),e=Zk();function t(i,s){var a=e(i,s);return r(a)?a:void 0}return Th=t,Th}var Ah,Xv;function Wp(){if(Xv)return Ah;Xv=1;var r=ys(),e=Fr(),t=r(e,"Map");return Ah=t,Ah}var Sh,Zv;function rc(){if(Zv)return Sh;Zv=1;var r=ys(),e=r(Object,"create");return Sh=e,Sh}var bh,Jv;function Jk(){if(Jv)return bh;Jv=1;var r=rc();function e(){this.__data__=r?r(null):{},this.size=0}return bh=e,bh}var Ih,e_;function eP(){if(e_)return Ih;e_=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Ih=r,Ih}var Rh,t_;function tP(){if(t_)return Rh;t_=1;var r=rc(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function s(a){var u=this.__data__;if(r){var f=u[a];return f===e?void 0:f}return i.call(u,a)?u[a]:void 0}return Rh=s,Rh}var kh,n_;function nP(){if(n_)return kh;n_=1;var r=rc(),e=Object.prototype,t=e.hasOwnProperty;function i(s){var a=this.__data__;return r?a[s]!==void 0:t.call(a,s)}return kh=i,kh}var Ph,r_;function rP(){if(r_)return Ph;r_=1;var r=rc(),e="__lodash_hash_undefined__";function t(i,s){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=r&&s===void 0?e:s,this}return Ph=t,Ph}var Oh,i_;function iP(){if(i_)return Oh;i_=1;var r=Jk(),e=eP(),t=tP(),i=nP(),s=rP();function a(u){var f=-1,p=u==null?0:u.length;for(this.clear();++f<p;){var y=u[f];this.set(y[0],y[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=s,Oh=a,Oh}var Ch,o_;function oP(){if(o_)return Ch;o_=1;var r=iP(),e=tc(),t=Wp();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Ch=i,Ch}var xh,s_;function sP(){if(s_)return xh;s_=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return xh=r,xh}var Nh,a_;function ic(){if(a_)return Nh;a_=1;var r=sP();function e(t,i){var s=t.__data__;return r(i)?s[typeof i=="string"?"string":"hash"]:s.map}return Nh=e,Nh}var Lh,l_;function aP(){if(l_)return Lh;l_=1;var r=ic();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return Lh=e,Lh}var Dh,u_;function lP(){if(u_)return Dh;u_=1;var r=ic();function e(t){return r(this,t).get(t)}return Dh=e,Dh}var Mh,c_;function uP(){if(c_)return Mh;c_=1;var r=ic();function e(t){return r(this,t).has(t)}return Mh=e,Mh}var Vh,f_;function cP(){if(f_)return Vh;f_=1;var r=ic();function e(t,i){var s=r(this,t),a=s.size;return s.set(t,i),this.size+=s.size==a?0:1,this}return Vh=e,Vh}var qh,h_;function BE(){if(h_)return qh;h_=1;var r=oP(),e=aP(),t=lP(),i=uP(),s=cP();function a(u){var f=-1,p=u==null?0:u.length;for(this.clear();++f<p;){var y=u[f];this.set(y[0],y[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=s,qh=a,qh}var jh,d_;function fP(){if(d_)return jh;d_=1;var r=tc(),e=Wp(),t=BE(),i=200;function s(a,u){var f=this.__data__;if(f instanceof r){var p=f.__data__;if(!e||p.length<i-1)return p.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(p)}return f.set(a,u),this.size=f.size,this}return jh=s,jh}var Fh,p_;function hP(){if(p_)return Fh;p_=1;var r=tc(),e=zk(),t=$k(),i=Hk(),s=Kk(),a=fP();function u(f){var p=this.__data__=new r(f);this.size=p.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,Fh=u,Fh}var Bh,m_;function dP(){if(m_)return Bh;m_=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Bh=e,Bh}var Uh,g_;function pP(){if(g_)return Uh;g_=1;function r(e){return this.__data__.has(e)}return Uh=r,Uh}var zh,y_;function mP(){if(y_)return zh;y_=1;var r=BE(),e=dP(),t=pP();function i(s){var a=-1,u=s==null?0:s.length;for(this.__data__=new r;++a<u;)this.add(s[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,zh=i,zh}var $h,v_;function gP(){if(v_)return $h;v_=1;function r(e,t){for(var i=-1,s=e==null?0:e.length;++i<s;)if(t(e[i],i,e))return!0;return!1}return $h=r,$h}var Hh,__;function yP(){if(__)return Hh;__=1;function r(e,t){return e.has(t)}return Hh=r,Hh}var Kh,E_;function UE(){if(E_)return Kh;E_=1;var r=mP(),e=gP(),t=yP(),i=1,s=2;function a(u,f,p,y,v,g){var d=p&i,m=u.length,S=f.length;if(m!=S&&!(d&&S>m))return!1;var A=g.get(u),w=g.get(f);if(A&&w)return A==f&&w==u;var _=-1,T=!0,x=p&s?new r:void 0;for(g.set(u,f),g.set(f,u);++_<m;){var b=u[_],M=f[_];if(y)var j=d?y(M,b,_,f,u,g):y(b,M,_,u,f,g);if(j!==void 0){if(j)continue;T=!1;break}if(x){if(!e(f,function(C,R){if(!t(x,R)&&(b===C||v(b,C,p,y,g)))return x.push(R)})){T=!1;break}}else if(!(b===M||v(b,M,p,y,g))){T=!1;break}}return g.delete(u),g.delete(f),T}return Kh=a,Kh}var Gh,w_;function vP(){if(w_)return Gh;w_=1;var r=Fr(),e=r.Uint8Array;return Gh=e,Gh}var Wh,T_;function _P(){if(T_)return Wh;T_=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(s,a){i[++t]=[a,s]}),i}return Wh=r,Wh}var Qh,A_;function EP(){if(A_)return Qh;A_=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(s){i[++t]=s}),i}return Qh=r,Qh}var Yh,S_;function wP(){if(S_)return Yh;S_=1;var r=Gp(),e=vP(),t=ME(),i=UE(),s=_P(),a=EP(),u=1,f=2,p="[object Boolean]",y="[object Date]",v="[object Error]",g="[object Map]",d="[object Number]",m="[object RegExp]",S="[object Set]",A="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",x=r?r.prototype:void 0,b=x?x.valueOf:void 0;function M(j,C,R,D,O,I,L){switch(R){case T:if(j.byteLength!=C.byteLength||j.byteOffset!=C.byteOffset)return!1;j=j.buffer,C=C.buffer;case _:return!(j.byteLength!=C.byteLength||!I(new e(j),new e(C)));case p:case y:case d:return t(+j,+C);case v:return j.name==C.name&&j.message==C.message;case m:case A:return j==C+"";case g:var N=s;case S:var $=D&u;if(N||(N=a),j.size!=C.size&&!$)return!1;var G=L.get(j);if(G)return G==C;D|=f,L.set(j,C);var ne=i(N(j),N(C),D,O,I,L);return L.delete(j),ne;case w:if(b)return b.call(j)==b.call(C)}return!1}return Yh=M,Yh}var Xh,b_;function TP(){if(b_)return Xh;b_=1;function r(e,t){for(var i=-1,s=t.length,a=e.length;++i<s;)e[a+i]=t[i];return e}return Xh=r,Xh}var Zh,I_;function Qp(){if(I_)return Zh;I_=1;var r=Array.isArray;return Zh=r,Zh}var Jh,R_;function AP(){if(R_)return Jh;R_=1;var r=TP(),e=Qp();function t(i,s,a){var u=s(i);return e(i)?u:r(u,a(i))}return Jh=t,Jh}var ed,k_;function SP(){if(k_)return ed;k_=1;function r(e,t){for(var i=-1,s=e==null?0:e.length,a=0,u=[];++i<s;){var f=e[i];t(f,i,e)&&(u[a++]=f)}return u}return ed=r,ed}var td,P_;function bP(){if(P_)return td;P_=1;function r(){return[]}return td=r,td}var nd,O_;function IP(){if(O_)return nd;O_=1;var r=SP(),e=bP(),t=Object.prototype,i=t.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(u){return u==null?[]:(u=Object(u),r(s(u),function(f){return i.call(u,f)}))}:e;return nd=a,nd}var rd,C_;function RP(){if(C_)return rd;C_=1;function r(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}return rd=r,rd}var id,x_;function oc(){if(x_)return id;x_=1;function r(e){return e!=null&&typeof e=="object"}return id=r,id}var od,N_;function kP(){if(N_)return od;N_=1;var r=nc(),e=oc(),t="[object Arguments]";function i(s){return e(s)&&r(s)==t}return od=i,od}var sd,L_;function PP(){if(L_)return sd;L_=1;var r=kP(),e=oc(),t=Object.prototype,i=t.hasOwnProperty,s=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return e(u)&&i.call(u,"callee")&&!s.call(u,"callee")};return sd=a,sd}var ma={exports:{}},ad,D_;function OP(){if(D_)return ad;D_=1;function r(){return!1}return ad=r,ad}ma.exports;var M_;function zE(){return M_||(M_=1,function(r,e){var t=Fr(),i=OP(),s=e&&!e.nodeType&&e,a=s&&!0&&r&&!r.nodeType&&r,u=a&&a.exports===s,f=u?t.Buffer:void 0,p=f?f.isBuffer:void 0,y=p||i;r.exports=y}(ma,ma.exports)),ma.exports}var ld,V_;function CP(){if(V_)return ld;V_=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,s){var a=typeof i;return s=s??r,!!s&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<s}return ld=t,ld}var ud,q_;function $E(){if(q_)return ud;q_=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return ud=e,ud}var cd,j_;function xP(){if(j_)return cd;j_=1;var r=nc(),e=$E(),t=oc(),i="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Function]",y="[object Map]",v="[object Number]",g="[object Object]",d="[object RegExp]",m="[object Set]",S="[object String]",A="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",I={};I[T]=I[x]=I[b]=I[M]=I[j]=I[C]=I[R]=I[D]=I[O]=!0,I[i]=I[s]=I[w]=I[a]=I[_]=I[u]=I[f]=I[p]=I[y]=I[v]=I[g]=I[d]=I[m]=I[S]=I[A]=!1;function L(N){return t(N)&&e(N.length)&&!!I[r(N)]}return cd=L,cd}var fd,F_;function NP(){if(F_)return fd;F_=1;function r(e){return function(t){return e(t)}}return fd=r,fd}var ga={exports:{}};ga.exports;var B_;function LP(){return B_||(B_=1,function(r,e){var t=VE(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,a=s&&s.exports===i,u=a&&t.process,f=function(){try{var p=s&&s.require&&s.require("util").types;return p||u&&u.binding&&u.binding("util")}catch{}}();r.exports=f}(ga,ga.exports)),ga.exports}var hd,U_;function HE(){if(U_)return hd;U_=1;var r=xP(),e=NP(),t=LP(),i=t&&t.isTypedArray,s=i?e(i):r;return hd=s,hd}var dd,z_;function DP(){if(z_)return dd;z_=1;var r=RP(),e=PP(),t=Qp(),i=zE(),s=CP(),a=HE(),u=Object.prototype,f=u.hasOwnProperty;function p(y,v){var g=t(y),d=!g&&e(y),m=!g&&!d&&i(y),S=!g&&!d&&!m&&a(y),A=g||d||m||S,w=A?r(y.length,String):[],_=w.length;for(var T in y)(v||f.call(y,T))&&!(A&&(T=="length"||m&&(T=="offset"||T=="parent")||S&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||s(T,_)))&&w.push(T);return w}return dd=p,dd}var pd,$_;function MP(){if($_)return pd;$_=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,s=typeof i=="function"&&i.prototype||r;return t===s}return pd=e,pd}var md,H_;function VP(){if(H_)return md;H_=1;function r(e,t){return function(i){return e(t(i))}}return md=r,md}var gd,K_;function qP(){if(K_)return gd;K_=1;var r=VP(),e=r(Object.keys,Object);return gd=e,gd}var yd,G_;function jP(){if(G_)return yd;G_=1;var r=MP(),e=qP(),t=Object.prototype,i=t.hasOwnProperty;function s(a){if(!r(a))return e(a);var u=[];for(var f in Object(a))i.call(a,f)&&f!="constructor"&&u.push(f);return u}return yd=s,yd}var vd,W_;function FP(){if(W_)return vd;W_=1;var r=jE(),e=$E();function t(i){return i!=null&&e(i.length)&&!r(i)}return vd=t,vd}var _d,Q_;function BP(){if(Q_)return _d;Q_=1;var r=DP(),e=jP(),t=FP();function i(s){return t(s)?r(s):e(s)}return _d=i,_d}var Ed,Y_;function UP(){if(Y_)return Ed;Y_=1;var r=AP(),e=IP(),t=BP();function i(s){return r(s,t,e)}return Ed=i,Ed}var wd,X_;function zP(){if(X_)return wd;X_=1;var r=UP(),e=1,t=Object.prototype,i=t.hasOwnProperty;function s(a,u,f,p,y,v){var g=f&e,d=r(a),m=d.length,S=r(u),A=S.length;if(m!=A&&!g)return!1;for(var w=m;w--;){var _=d[w];if(!(g?_ in u:i.call(u,_)))return!1}var T=v.get(a),x=v.get(u);if(T&&x)return T==u&&x==a;var b=!0;v.set(a,u),v.set(u,a);for(var M=g;++w<m;){_=d[w];var j=a[_],C=u[_];if(p)var R=g?p(C,j,_,u,a,v):p(j,C,_,a,u,v);if(!(R===void 0?j===C||y(j,C,f,p,v):R)){b=!1;break}M||(M=_=="constructor")}if(b&&!M){var D=a.constructor,O=u.constructor;D!=O&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof O=="function"&&O instanceof O)&&(b=!1)}return v.delete(a),v.delete(u),b}return wd=s,wd}var Td,Z_;function $P(){if(Z_)return Td;Z_=1;var r=ys(),e=Fr(),t=r(e,"DataView");return Td=t,Td}var Ad,J_;function HP(){if(J_)return Ad;J_=1;var r=ys(),e=Fr(),t=r(e,"Promise");return Ad=t,Ad}var Sd,e1;function KP(){if(e1)return Sd;e1=1;var r=ys(),e=Fr(),t=r(e,"Set");return Sd=t,Sd}var bd,t1;function GP(){if(t1)return bd;t1=1;var r=ys(),e=Fr(),t=r(e,"WeakMap");return bd=t,bd}var Id,n1;function WP(){if(n1)return Id;n1=1;var r=$P(),e=Wp(),t=HP(),i=KP(),s=GP(),a=nc(),u=FE(),f="[object Map]",p="[object Object]",y="[object Promise]",v="[object Set]",g="[object WeakMap]",d="[object DataView]",m=u(r),S=u(e),A=u(t),w=u(i),_=u(s),T=a;return(r&&T(new r(new ArrayBuffer(1)))!=d||e&&T(new e)!=f||t&&T(t.resolve())!=y||i&&T(new i)!=v||s&&T(new s)!=g)&&(T=function(x){var b=a(x),M=b==p?x.constructor:void 0,j=M?u(M):"";if(j)switch(j){case m:return d;case S:return f;case A:return y;case w:return v;case _:return g}return b}),Id=T,Id}var Rd,r1;function QP(){if(r1)return Rd;r1=1;var r=hP(),e=UE(),t=wP(),i=zP(),s=WP(),a=Qp(),u=zE(),f=HE(),p=1,y="[object Arguments]",v="[object Array]",g="[object Object]",d=Object.prototype,m=d.hasOwnProperty;function S(A,w,_,T,x,b){var M=a(A),j=a(w),C=M?v:s(A),R=j?v:s(w);C=C==y?g:C,R=R==y?g:R;var D=C==g,O=R==g,I=C==R;if(I&&u(A)){if(!u(w))return!1;M=!0,D=!1}if(I&&!D)return b||(b=new r),M||f(A)?e(A,w,_,T,x,b):t(A,w,C,_,T,x,b);if(!(_&p)){var L=D&&m.call(A,"__wrapped__"),N=O&&m.call(w,"__wrapped__");if(L||N){var $=L?A.value():A,G=N?w.value():w;return b||(b=new r),x($,G,_,T,b)}}return I?(b||(b=new r),i(A,w,_,T,x,b)):!1}return Rd=S,Rd}var kd,i1;function YP(){if(i1)return kd;i1=1;var r=QP(),e=oc();function t(i,s,a,u,f){return i===s?!0:i==null||s==null||!e(i)&&!e(s)?i!==i&&s!==s:r(i,s,a,u,t,f)}return kd=t,kd}var Pd,o1;function XP(){if(o1)return Pd;o1=1;var r=YP();function e(t,i){return r(t,i)}return Pd=e,Pd}var gu={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var ZP=gu.exports,s1;function JP(){return s1||(s1=1,function(r,e){(function(i,s){r.exports=s()})(typeof self<"u"?self:ZP,function(){return function(t){var i={};function s(a){if(i[a])return i[a].exports;var u=i[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=t,s.c=i,s.d=function(a,u,f){s.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},s.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(u,"a",u),u},s.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},s.p="",s(s.s=109)}([function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(17),u=s(18),f=s(19),p=s(45),y=s(46),v=s(47),g=s(48),d=s(49),m=s(12),S=s(32),A=s(33),w=s(31),_=s(1),T={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:g.default,Scroll:p.default,Block:v.default,Inline:y.default,Text:d.default,Attributor:{Attribute:m.default,Class:S.default,Style:A.default,Store:w.default}};i.default=T},function(t,i,s){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var x in T)T.hasOwnProperty(x)&&(_[x]=T[x])};return function(_,T){w(_,T);function x(){this.constructor=_}_.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=function(w){a(_,w);function _(T){var x=this;return T="[Parchment] "+T,x=w.call(this,T)||this,x.message=T,x.name=x.constructor.name,x}return _}(Error);i.ParchmentError=u;var f={},p={},y={},v={};i.DATA_KEY="__blot";var g;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(g=i.Scope||(i.Scope={}));function d(w,_){var T=S(w);if(T==null)throw new u("Unable to create "+w+" blot");var x=T,b=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:x.create(_);return new x(b,_)}i.create=d;function m(w,_){return _===void 0&&(_=!1),w==null?null:w[i.DATA_KEY]!=null?w[i.DATA_KEY].blot:_?m(w.parentNode,_):null}i.find=m;function S(w,_){_===void 0&&(_=g.ANY);var T;if(typeof w=="string")T=v[w]||f[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)T=v.text;else if(typeof w=="number")w&g.LEVEL&g.BLOCK?T=v.block:w&g.LEVEL&g.INLINE&&(T=v.inline);else if(w instanceof HTMLElement){var x=(w.getAttribute("class")||"").split(/\s+/);for(var b in x)if(T=p[x[b]],T)break;T=T||y[w.tagName]}return T==null?null:_&g.LEVEL&T.scope&&_&g.TYPE&T.scope?T:null}i.query=S;function A(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];if(w.length>1)return w.map(function(b){return A(b)});var T=w[0];if(typeof T.blotName!="string"&&typeof T.attrName!="string")throw new u("Invalid definition");if(T.blotName==="abstract")throw new u("Cannot register abstract class");if(v[T.blotName||T.attrName]=T,typeof T.keyName=="string")f[T.keyName]=T;else if(T.className!=null&&(p[T.className]=T),T.tagName!=null){Array.isArray(T.tagName)?T.tagName=T.tagName.map(function(b){return b.toUpperCase()}):T.tagName=T.tagName.toUpperCase();var x=Array.isArray(T.tagName)?T.tagName:[T.tagName];x.forEach(function(b){(y[b]==null||T.className==null)&&(y[b]=T)})}return T}i.register=A},function(t,i,s){var a=s(51),u=s(11),f=s(3),p=s(20),y="\0",v=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};v.prototype.insert=function(g,d){var m={};return g.length===0?this:(m.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},v.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},v.prototype.retain=function(g,d){if(g<=0)return this;var m={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},v.prototype.push=function(g){var d=this.ops.length,m=this.ops[d-1];if(g=f(!0,{},g),typeof m=="object"){if(typeof g.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+g.delete},this;if(typeof m.delete=="number"&&g.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(g),this;if(u(g.attributes,m.attributes)){if(typeof g.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},v.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},v.prototype.filter=function(g){return this.ops.filter(g)},v.prototype.forEach=function(g){this.ops.forEach(g)},v.prototype.map=function(g){return this.ops.map(g)},v.prototype.partition=function(g){var d=[],m=[];return this.forEach(function(S){var A=g(S)?d:m;A.push(S)}),[d,m]},v.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},v.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+p.length(d):d.delete?g-d.delete:g},0)},v.prototype.length=function(){return this.reduce(function(g,d){return g+p.length(d)},0)},v.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var m=[],S=p.iterator(this.ops),A=0;A<d&&S.hasNext();){var w;A<g?w=S.next(g-A):(w=S.next(d-A),m.push(w)),A+=p.length(w)}return new v(m)},v.prototype.compose=function(g){var d=p.iterator(this.ops),m=p.iterator(g.ops),S=[],A=m.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){for(var w=A.retain;d.peekType()==="insert"&&d.peekLength()<=w;)w-=d.peekLength(),S.push(d.next());A.retain-w>0&&m.next(A.retain-w)}for(var _=new v(S);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")_.push(m.next());else if(d.peekType()==="delete")_.push(d.next());else{var T=Math.min(d.peekLength(),m.peekLength()),x=d.next(T),b=m.next(T);if(typeof b.retain=="number"){var M={};typeof x.retain=="number"?M.retain=T:M.insert=x.insert;var j=p.attributes.compose(x.attributes,b.attributes,typeof x.retain=="number");if(j&&(M.attributes=j),_.push(M),!m.hasNext()&&u(_.ops[_.ops.length-1],M)){var C=new v(d.rest());return _.concat(C).chop()}}else typeof b.delete=="number"&&typeof x.retain=="number"&&_.push(b)}return _.chop()},v.prototype.concat=function(g){var d=new v(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},v.prototype.diff=function(g,d){if(this.ops===g.ops)return new v;var m=[this,g].map(function(T){return T.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:y;var b=T===g?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),S=new v,A=a(m[0],m[1],d),w=p.iterator(this.ops),_=p.iterator(g.ops);return A.forEach(function(T){for(var x=T[1].length;x>0;){var b=0;switch(T[0]){case a.INSERT:b=Math.min(_.peekLength(),x),S.push(_.next(b));break;case a.DELETE:b=Math.min(x,w.peekLength()),w.next(b),S.delete(b);break;case a.EQUAL:b=Math.min(w.peekLength(),_.peekLength(),x);var M=w.next(b),j=_.next(b);u(M.insert,j.insert)?S.retain(b,p.attributes.diff(M.attributes,j.attributes)):S.push(j).delete(b);break}x-=b}}),S.chop()},v.prototype.eachLine=function(g,d){d=d||`
`;for(var m=p.iterator(this.ops),S=new v,A=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),_=p.length(w)-m.peekLength(),T=typeof w.insert=="string"?w.insert.indexOf(d,_)-_:-1;if(T<0)S.push(m.next());else if(T>0)S.push(m.next(T));else{if(g(S,m.next(1).attributes||{},A)===!1)return;A+=1,S=new v}}S.length()>0&&g(S,{},A)},v.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var m=p.iterator(this.ops),S=p.iterator(g.ops),A=new v;m.hasNext()||S.hasNext();)if(m.peekType()==="insert"&&(d||S.peekType()!=="insert"))A.retain(p.length(m.next()));else if(S.peekType()==="insert")A.push(S.next());else{var w=Math.min(m.peekLength(),S.peekLength()),_=m.next(w),T=S.next(w);if(_.delete)continue;T.delete?A.push(T):A.retain(w,p.attributes.transform(_.attributes,T.attributes,d))}return A.chop()},v.prototype.transformPosition=function(g,d){d=!!d;for(var m=p.iterator(this.ops),S=0;m.hasNext()&&S<=g;){var A=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){g-=Math.min(A,g-S);continue}else w==="insert"&&(S<g||!d)&&(g+=A);S+=A}return g},t.exports=v},function(t,i){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p=function(m){return typeof Array.isArray=="function"?Array.isArray(m):a.call(m)==="[object Array]"},y=function(m){if(!m||a.call(m)!=="[object Object]")return!1;var S=s.call(m,"constructor"),A=m.constructor&&m.constructor.prototype&&s.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!S&&!A)return!1;var w;for(w in m);return typeof w>"u"||s.call(m,w)},v=function(m,S){u&&S.name==="__proto__"?u(m,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):m[S.name]=S.newValue},g=function(m,S){if(S==="__proto__")if(s.call(m,S)){if(f)return f(m,S).value}else return;return m[S]};t.exports=function d(){var m,S,A,w,_,T,x=arguments[0],b=1,M=arguments.length,j=!1;for(typeof x=="boolean"&&(j=x,x=arguments[1]||{},b=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});b<M;++b)if(m=arguments[b],m!=null)for(S in m)A=g(x,S),w=g(m,S),x!==w&&(j&&w&&(y(w)||(_=p(w)))?(_?(_=!1,T=A&&p(A)?A:[]):T=A&&y(A)?A:{},v(x,{name:S,newValue:d(j,T,w)})):typeof w<"u"&&v(x,{name:S,newValue:w}));return x}},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function I(L,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,$){return N&&I(L.prototype,N),$&&I(L,$),L}}(),u=function I(L,N,$){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,N);if(G===void 0){var ne=Object.getPrototypeOf(L);return ne===null?void 0:I(ne,N,$)}else{if("value"in G)return G.value;var te=G.get;return te===void 0?void 0:te.call($)}},f=s(3),p=x(f),y=s(2),v=x(y),g=s(0),d=x(g),m=s(16),S=x(m),A=s(6),w=x(A),_=s(7),T=x(_);function x(I){return I&&I.__esModule?I:{default:I}}function b(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function M(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function j(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var C=1,R=function(I){j(L,I);function L(){return b(this,L),M(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,p.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,G){var ne=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);ne!=null&&this.attributes.attribute(ne,G)}},{key:"formatAt",value:function($,G,ne,te){this.format(ne,te)}},{key:"insertAt",value:function($,G,ne){if(typeof G=="string"&&G.endsWith(`
`)){var te=d.default.create(D.blotName);this.parent.insertBefore(te,$===0?this:this.next),te.insertAt(0,G.slice(0,-1))}else u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ne)}}]),L}(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var D=function(I){j(L,I);function L(N){b(this,L);var $=M(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return $.cache={},$}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,G){return G.length()===0?$:$.insert(G.value(),O(G))},new v.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function($,G){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,$,G),this.cache={}}},{key:"formatAt",value:function($,G,ne,te){G<=0||(d.default.query(ne,d.default.Scope.BLOCK)?$+G===this.length()&&this.format(ne,te):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,$,Math.min(G,this.length()-$-1),ne,te),this.cache={})}},{key:"insertAt",value:function($,G,ne){if(ne!=null)return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ne);if(G.length!==0){var te=G.split(`
`),re=te.shift();re.length>0&&($<this.length()-1||this.children.tail==null?u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var Q=this;te.reduce(function(H,V){return Q=Q.split(H,!0),Q.insertAt(0,V),V.length},$+re.length)}}},{key:"insertBefore",value:function($,G){var ne=this.children.head;u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,$,G),ne instanceof S.default&&ne.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function($,G){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,$,G),this.cache={}}},{key:"optimize",value:function($){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&($===0||$>=this.length()-C)){var ne=this.clone();return $===0?(this.parent.insertBefore(ne,this),this):(this.parent.insertBefore(ne,this.next),ne)}else{var te=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,$,G);return this.cache={},te}}}]),L}(d.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[w.default,d.default.Embed,T.default];function O(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(L=(0,p.default)(L,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?L:O(I.parent,L)}i.bubbleFormats=O,i.BlockEmbed=R,i.default=D},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},u=function(){function Q(H,V){var B=[],K=!0,J=!1,Z=void 0;try{for(var z=H[Symbol.iterator](),Y;!(K=(Y=z.next()).done)&&(B.push(Y.value),!(V&&B.length===V));K=!0);}catch(ie){J=!0,Z=ie}finally{try{!K&&z.return&&z.return()}finally{if(J)throw Z}}return B}return function(H,V){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Q(H,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Q(H,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,V,B){return V&&Q(H.prototype,V),B&&Q(H,B),H}}();s(50);var p=s(2),y=O(p),v=s(14),g=O(v),d=s(8),m=O(d),S=s(9),A=O(S),w=s(0),_=O(w),T=s(15),x=O(T),b=s(3),M=O(b),j=s(10),C=O(j),R=s(34),D=O(R);function O(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q,H,V){return H in Q?Object.defineProperty(Q,H,{value:V,enumerable:!0,configurable:!0,writable:!0}):Q[H]=V,Q}function L(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}var N=(0,C.default)("quill"),$=function(){f(Q,null,[{key:"debug",value:function(V){V===!0&&(V="log"),C.default.level(V)}},{key:"find",value:function(V){return V.__quill||_.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&N.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,B){var K=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var Z=V.attrName||V.blotName;typeof Z=="string"?this.register("formats/"+Z,V,B):Object.keys(V).forEach(function(z){K.register(z,V[z],B)})}else this.imports[V]!=null&&!J&&N.warn("Overwriting "+V+" with",B),this.imports[V]=B,(V.startsWith("blots/")||V.startsWith("formats/"))&&B.blotName!=="abstract"?_.default.register(B):V.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function Q(H){var V=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Q),this.options=G(H,B),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",H);this.options.debug&&Q.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(Z){Z===m.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(Z,z){var Y=V.selection.lastRange,ie=Y&&Y.length===0?Y.index:void 0;ne.call(V,function(){return V.editor.update(null,z,ie)},Z)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Q,[{key:"addContainer",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var K=V;V=document.createElement("div"),V.classList.add(K)}return this.container.insertBefore(V,B),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,B,K){var J=this,Z=te(V,B,K),z=u(Z,4);return V=z[0],B=z[1],K=z[3],ne.call(this,function(){return J.editor.deleteText(V,B)},K,V,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,B){var K=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return ne.call(this,function(){var Z=K.getSelection(!0),z=new y.default;if(Z==null)return z;if(_.default.query(V,_.default.Scope.BLOCK))z=K.editor.formatLine(Z.index,Z.length,I({},V,B));else{if(Z.length===0)return K.selection.format(V,B),z;z=K.editor.formatText(Z.index,Z.length,I({},V,B))}return K.setSelection(Z,m.default.sources.SILENT),z},J)}},{key:"formatLine",value:function(V,B,K,J,Z){var z=this,Y=void 0,ie=te(V,B,K,J,Z),oe=u(ie,4);return V=oe[0],B=oe[1],Y=oe[2],Z=oe[3],ne.call(this,function(){return z.editor.formatLine(V,B,Y)},Z,V,0)}},{key:"formatText",value:function(V,B,K,J,Z){var z=this,Y=void 0,ie=te(V,B,K,J,Z),oe=u(ie,4);return V=oe[0],B=oe[1],Y=oe[2],Z=oe[3],ne.call(this,function(){return z.editor.formatText(V,B,Y)},Z,V,0)}},{key:"getBounds",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof V=="number"?K=this.selection.getBounds(V,B):K=this.selection.getBounds(V.index,V.length);var J=this.container.getBoundingClientRect();return{bottom:K.bottom-J.top,height:K.height,left:K.left-J.left,right:K.right-J.left,top:K.top-J.top,width:K.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=te(V,B),J=u(K,2);return V=J[0],B=J[1],this.editor.getContents(V,B)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,B):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,B)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=te(V,B),J=u(K,2);return V=J[0],B=J[1],this.editor.getText(V,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,B,K){var J=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Q.sources.API;return ne.call(this,function(){return J.editor.insertEmbed(V,B,K)},Z,V)}},{key:"insertText",value:function(V,B,K,J,Z){var z=this,Y=void 0,ie=te(V,0,K,J,Z),oe=u(ie,4);return V=oe[0],Y=oe[2],Z=oe[3],ne.call(this,function(){return z.editor.insertText(V,B,Y)},Z,V,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,B,K){this.clipboard.dangerouslyPasteHTML(V,B,K)}},{key:"removeFormat",value:function(V,B,K){var J=this,Z=te(V,B,K),z=u(Z,4);return V=z[0],B=z[1],K=z[3],ne.call(this,function(){return J.editor.removeFormat(V,B)},K,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return ne.call(this,function(){V=new y.default(V);var J=B.getLength(),Z=B.editor.deleteText(0,J),z=B.editor.applyDelta(V),Y=z.ops[z.ops.length-1];Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),z.delete(1));var ie=Z.compose(z);return ie},K)}},{key:"setSelection",value:function(V,B,K){if(V==null)this.selection.setRange(null,B||Q.sources.API);else{var J=te(V,B,K),Z=u(J,4);V=Z[0],B=Z[1],K=Z[3],this.selection.setRange(new T.Range(V,B),K),K!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,K=new y.default().insert(V);return this.setContents(K,B)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,B=this.scroll.update(V);return this.selection.update(V),B}},{key:"updateContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return ne.call(this,function(){return V=new y.default(V),B.editor.applyDelta(V,K)},K,!0)}}]),Q}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=m.default.events,$.sources=m.default.sources,$.version="1.3.7",$.imports={delta:y.default,parchment:_.default,"core/module":A.default,"core/theme":D.default};function G(Q,H){if(H=(0,M.default)(!0,{container:Q,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===$.DEFAULTS.theme)H.theme=D.default;else if(H.theme=$.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var V=(0,M.default)(!0,{},H.theme.DEFAULTS);[V,H].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(Z){J.modules[Z]===!0&&(J.modules[Z]={})})});var B=Object.keys(V.modules).concat(Object.keys(H.modules)),K=B.reduce(function(J,Z){var z=$.import("modules/"+Z);return z==null?N.error("Cannot load "+Z+" module. Are you sure you registered it?"):J[Z]=z.DEFAULTS||{},J},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,M.default)(!0,{},$.DEFAULTS,{modules:K},V,H),["bounds","container","scrollingContainer"].forEach(function(J){typeof H[J]=="string"&&(H[J]=document.querySelector(H[J]))}),H.modules=Object.keys(H.modules).reduce(function(J,Z){return H.modules[Z]&&(J[Z]=H.modules[Z]),J},{}),H}function ne(Q,H,V,B){if(this.options.strict&&!this.isEnabled()&&H===m.default.sources.USER)return new y.default;var K=V==null?null:this.getSelection(),J=this.editor.delta,Z=Q();if(K!=null&&(V===!0&&(V=K.index),B==null?K=re(K,Z,H):B!==0&&(K=re(K,V,B,H)),this.setSelection(K,m.default.sources.SILENT)),Z.length()>0){var z,Y=[m.default.events.TEXT_CHANGE,Z,J,H];if((z=this.emitter).emit.apply(z,[m.default.events.EDITOR_CHANGE].concat(Y)),H!==m.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,Y)}}return Z}function te(Q,H,V,B,K){var J={};return typeof Q.index=="number"&&typeof Q.length=="number"?typeof H!="number"?(K=B,B=V,V=H,H=Q.length,Q=Q.index):(H=Q.length,Q=Q.index):typeof H!="number"&&(K=B,B=V,V=H,H=0),(typeof V>"u"?"undefined":a(V))==="object"?(J=V,K=B):typeof V=="string"&&(B!=null?J[V]=B:K=V),K=K||m.default.sources.API,[Q,H,J,K]}function re(Q,H,V,B){if(Q==null)return null;var K=void 0,J=void 0;if(H instanceof y.default){var Z=[Q.index,Q.index+Q.length].map(function(oe){return H.transformPosition(oe,B!==m.default.sources.USER)}),z=u(Z,2);K=z[0],J=z[1]}else{var Y=[Q.index,Q.index+Q.length].map(function(oe){return oe<H||oe===H&&B===m.default.sources.USER?oe:V>=0?oe+V:Math.max(H,oe+V)}),ie=u(Y,2);K=ie[0],J=ie[1]}return new T.Range(K,J-K)}i.expandConfig=G,i.overload=te,i.default=$},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(_,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),u=function w(_,T,x){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,T);if(b===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:w(M,T,x)}else{if("value"in b)return b.value;var j=b.get;return j===void 0?void 0:j.call(x)}},f=s(7),p=g(f),y=s(0),v=g(y);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function m(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function S(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var A=function(w){S(_,w);function _(){return d(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"formatAt",value:function(x,b,M,j){if(_.compare(this.statics.blotName,M)<0&&v.default.query(M,v.default.Scope.BLOT)){var C=this.isolate(x,b);j&&C.wrap(M,j)}else u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,x,b,M,j)}},{key:"optimize",value:function(x){if(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,x),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(x,b){var M=_.order.indexOf(x),j=_.order.indexOf(b);return M>=0||j>=0?M-j:x===b?0:x<b?-1:1}}]),_}(v.default.Inline);A.allowedChildren=[A,v.default.Embed,p.default],A.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=A},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function p(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function y(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function v(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){v(m,d);function m(){return p(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default.Text);i.default=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function T(x,b){for(var M=0;M<b.length;M++){var j=b[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,b,M){return b&&T(x.prototype,b),M&&T(x,M),x}}(),u=function T(x,b,M){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,b);if(j===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:T(C,b,M)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(M)}},f=s(54),p=g(f),y=s(10),v=g(y);function g(T){return T&&T.__esModule?T:{default:T}}function d(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function m(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:T}function S(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}var A=(0,v.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(T){document.addEventListener(T,function(){for(var x=arguments.length,b=Array(x),M=0;M<x;M++)b[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(j){if(j.__quill&&j.__quill.emitter){var C;(C=j.__quill.emitter).handleDOM.apply(C,b)}})})});var _=function(T){S(x,T);function x(){d(this,x);var b=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return b.listeners={},b.on("error",A.error),b}return a(x,[{key:"emit",value:function(){A.log.apply(A,arguments),u(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var j=arguments.length,C=Array(j>1?j-1:0),R=1;R<j;R++)C[R-1]=arguments[R];(this.listeners[M.type]||[]).forEach(function(D){var O=D.node,I=D.handler;(M.target===O||O.contains(M.target))&&I.apply(void 0,[M].concat(C))})}},{key:"listenDOM",value:function(M,j,C){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:j,handler:C})}}]),x}(p.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},i.default=_},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});function a(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var u=function f(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=p,this.options=y};u.DEFAULTS={},i.default=u},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(y){if(a.indexOf(y)<=a.indexOf(u)){for(var v,g=arguments.length,d=Array(g>1?g-1:0),m=1;m<g;m++)d[m-1]=arguments[m];(v=console)[y].apply(v,d)}}function p(y){return a.reduce(function(v,g){return v[g]=f.bind(console,g,y),v},{})}f.level=p.level=function(y){u=y},i.default=p},function(t,i,s){var a=Array.prototype.slice,u=s(52),f=s(53),p=t.exports=function(d,m,S){return S||(S={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?S.strict?d===m:d==m:g(d,m,S)};function y(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,m,S){var A,w;if(y(d)||y(m)||d.prototype!==m.prototype)return!1;if(f(d))return f(m)?(d=a.call(d),m=a.call(m),p(d,m,S)):!1;if(v(d)){if(!v(m)||d.length!==m.length)return!1;for(A=0;A<d.length;A++)if(d[A]!==m[A])return!1;return!0}try{var _=u(d),T=u(m)}catch{return!1}if(_.length!=T.length)return!1;for(_.sort(),T.sort(),A=_.length-1;A>=0;A--)if(_[A]!=T[A])return!1;for(A=_.length-1;A>=0;A--)if(w=_[A],!p(d[w],m[w],S))return!1;return typeof d==typeof m}},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(1),u=function(){function f(p,y,v){v===void 0&&(v={}),this.attrName=p,this.keyName=y;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(p){return[].map.call(p.attributes,function(y){return y.name})},f.prototype.add=function(p,y){return this.canAdd(p,y)?(p.setAttribute(this.keyName,y),!0):!1},f.prototype.canAdd=function(p,y){var v=a.query(p,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof y=="string"?this.whitelist.indexOf(y.replace(/["']/g,""))>-1:this.whitelist.indexOf(y)>-1},f.prototype.remove=function(p){p.removeAttribute(this.keyName)},f.prototype.value=function(p){var y=p.getAttribute(this.keyName);return this.canAdd(p,y)&&y?y:""},f}();i.default=u},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function R(D,O){var I=[],L=!0,N=!1,$=void 0;try{for(var G=D[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(O&&I.length===O));L=!0);}catch(te){N=!0,$=te}finally{try{!L&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(D,O){for(var I=0;I<O.length;I++){var L=O[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,O,I){return O&&R(D.prototype,O),I&&R(D,I),D}}(),f=function R(D,O,I){D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,O);if(L===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:R(N,O,I)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(I)}},p=s(2),y=T(p),v=s(0),g=T(v),d=s(4),m=T(d),S=s(6),A=T(S),w=s(7),_=T(w);function T(R){return R&&R.__esModule?R:{default:R}}function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function b(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function M(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var j=function(R){M(D,R);function D(){return x(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(A.default);j.blotName="code",j.tagName="CODE";var C=function(R){M(D,R);function D(){return x(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var I=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,$){return N.insert($).insert(`
`,I.formats())},new y.default)}},{key:"format",value:function(I,L){if(!(I===this.statics.blotName&&L)){var N=this.descendant(_.default,this.length()-1),$=a(N,1),G=$[0];G!=null&&G.deleteAt(G.length()-1,1),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,I,L)}}},{key:"formatAt",value:function(I,L,N,$){if(L!==0&&!(g.default.query(N,g.default.Scope.BLOCK)==null||N===this.statics.blotName&&$===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+L)){var ne=this.newlineIndex(I,!0)+1,te=G-ne+1,re=this.isolate(ne,te),Q=re.next;re.format(N,$),Q instanceof D&&Q.formatAt(0,I-ne+L-te,N,$)}}}},{key:"insertAt",value:function(I,L,N){if(N==null){var $=this.descendant(_.default,I),G=a($,2),ne=G[0],te=G[1];ne.insertAt(te,L)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,I);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(I),L.moveChildren(this),L.remove())}},{key:"replace",value:function(I){f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=g.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof g.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var L=f(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,I);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),D}(m.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",i.Code=j,i.default=C},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},u=function(){function Q(H,V){var B=[],K=!0,J=!1,Z=void 0;try{for(var z=H[Symbol.iterator](),Y;!(K=(Y=z.next()).done)&&(B.push(Y.value),!(V&&B.length===V));K=!0);}catch(ie){J=!0,Z=ie}finally{try{!K&&z.return&&z.return()}finally{if(J)throw Z}}return B}return function(H,V){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Q(H,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Q(H,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,V,B){return V&&Q(H.prototype,V),B&&Q(H,B),H}}(),p=s(2),y=L(p),v=s(20),g=L(v),d=s(0),m=L(d),S=s(13),A=L(S),w=s(24),_=L(w),T=s(4),x=L(T),b=s(16),M=L(b),j=s(21),C=L(j),R=s(11),D=L(R),O=s(3),I=L(O);function L(Q){return Q&&Q.__esModule?Q:{default:Q}}function N(Q,H,V){return H in Q?Object.defineProperty(Q,H,{value:V,enumerable:!0,configurable:!0,writable:!0}):Q[H]=V,Q}function $(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ne=function(){function Q(H){$(this,Q),this.scroll=H,this.delta=this.getDelta()}return f(Q,[{key:"applyDelta",value:function(V){var B=this,K=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),V=re(V),V.reduce(function(Z,z){var Y=z.retain||z.delete||z.insert.length||1,ie=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var oe=z.insert;oe.endsWith(`
`)&&K&&(K=!1,oe=oe.slice(0,-1)),Z>=J&&!oe.endsWith(`
`)&&(K=!0),B.scroll.insertAt(Z,oe);var he=B.scroll.line(Z),Ie=u(he,2),De=Ie[0],qe=Ie[1],He=(0,I.default)({},(0,T.bubbleFormats)(De));if(De instanceof x.default){var We=De.descendant(m.default.Leaf,qe),It=u(We,1),ht=It[0];He=(0,I.default)(He,(0,T.bubbleFormats)(ht))}ie=g.default.attributes.diff(He,ie)||{}}else if(a(z.insert)==="object"){var fe=Object.keys(z.insert)[0];if(fe==null)return Z;B.scroll.insertAt(Z,fe,z.insert[fe])}J+=Y}return Object.keys(ie).forEach(function(de){B.scroll.formatAt(Z,Y,de,ie[de])}),Z+Y},0),V.reduce(function(Z,z){return typeof z.delete=="number"?(B.scroll.deleteAt(Z,z.delete),Z):Z+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,B){return this.scroll.deleteAt(V,B),this.update(new y.default().retain(V).delete(B))}},{key:"formatLine",value:function(V,B){var K=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(Z){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[Z])){var z=K.scroll.lines(V,Math.max(B,1)),Y=B;z.forEach(function(ie){var oe=ie.length();if(!(ie instanceof A.default))ie.format(Z,J[Z]);else{var he=V-ie.offset(K.scroll),Ie=ie.newlineIndex(he+Y)-he+1;ie.formatAt(he,Ie,Z,J[Z])}Y-=oe})}}),this.scroll.optimize(),this.update(new y.default().retain(V).retain(B,(0,C.default)(J)))}},{key:"formatText",value:function(V,B){var K=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(Z){K.scroll.formatAt(V,B,Z,J[Z])}),this.update(new y.default().retain(V).retain(B,(0,C.default)(J)))}},{key:"getContents",value:function(V,B){return this.delta.slice(V,V+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,B){return V.concat(B.delta())},new y.default)}},{key:"getFormat",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],J=[];B===0?this.scroll.path(V).forEach(function(z){var Y=u(z,1),ie=Y[0];ie instanceof x.default?K.push(ie):ie instanceof m.default.Leaf&&J.push(ie)}):(K=this.scroll.lines(V,B),J=this.scroll.descendants(m.default.Leaf,V,B));var Z=[K,J].map(function(z){if(z.length===0)return{};for(var Y=(0,T.bubbleFormats)(z.shift());Object.keys(Y).length>0;){var ie=z.shift();if(ie==null)return Y;Y=te((0,T.bubbleFormats)(ie),Y)}return Y});return I.default.apply(I.default,Z)}},{key:"getText",value:function(V,B){return this.getContents(V,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(V,B,K){return this.scroll.insertAt(V,B,K),this.update(new y.default().retain(V).insert(N({},B,K)))}},{key:"insertText",value:function(V,B){var K=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,B),Object.keys(J).forEach(function(Z){K.scroll.formatAt(V,B.length,Z,J[Z])}),this.update(new y.default().retain(V).insert(B,(0,C.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==x.default.blotName||V.children.length>1?!1:V.children.head instanceof M.default}},{key:"removeFormat",value:function(V,B){var K=this.getText(V,B),J=this.scroll.line(V+B),Z=u(J,2),z=Z[0],Y=Z[1],ie=0,oe=new y.default;z!=null&&(z instanceof A.default?ie=z.newlineIndex(Y)-Y+1:ie=z.length()-Y,oe=z.delta().slice(Y,Y+ie-1).insert(`
`));var he=this.getContents(V,B+ie),Ie=he.diff(new y.default().insert(K).concat(oe)),De=new y.default().retain(V).concat(Ie);return this.applyDelta(De)}},{key:"update",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&m.default.find(B[0].target)){var Z=m.default.find(B[0].target),z=(0,T.bubbleFormats)(Z),Y=Z.offset(this.scroll),ie=B[0].oldValue.replace(_.default.CONTENTS,""),oe=new y.default().insert(ie),he=new y.default().insert(Z.value()),Ie=new y.default().retain(Y).concat(oe.diff(he,K));V=Ie.reduce(function(De,qe){return qe.insert?De.insert(qe.insert,z):De.push(qe)},new y.default),this.delta=J.compose(V)}else this.delta=this.getDelta(),(!V||!(0,D.default)(J.compose(V),this.delta))&&(V=J.diff(this.delta,K));return V}}]),Q}();function te(Q,H){return Object.keys(H).reduce(function(V,B){return Q[B]==null||(H[B]===Q[B]?V[B]=H[B]:Array.isArray(H[B])?H[B].indexOf(Q[B])<0&&(V[B]=H[B].concat([Q[B]])):V[B]=[H[B],Q[B]]),V},{})}function re(Q){return Q.reduce(function(H,V){if(V.insert===1){var B=(0,C.default)(V.attributes);return delete B.image,H.insert({image:V.attributes.image},B)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,C.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var K=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(K,V.attributes)}return H.push(V)},new y.default)}i.default=ne},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function R(D,O){var I=[],L=!0,N=!1,$=void 0;try{for(var G=D[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(O&&I.length===O));L=!0);}catch(te){N=!0,$=te}finally{try{!L&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(D,O){for(var I=0;I<O.length;I++){var L=O[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,O,I){return O&&R(D.prototype,O),I&&R(D,I),D}}(),f=s(0),p=_(f),y=s(21),v=_(y),g=s(11),d=_(g),m=s(8),S=_(m),A=s(10),w=_(A);function _(R){return R&&R.__esModule?R:{default:R}}function T(R){if(Array.isArray(R)){for(var D=0,O=Array(R.length);D<R.length;D++)O[D]=R[D];return O}else return Array.from(R)}function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var b=(0,w.default)("quill:selection"),M=function R(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,R),this.index=D,this.length=O},j=function(){function R(D,O){var I=this;x(this,R),this.emitter=O,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=p.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(L,N){L===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var L=I.getNativeRange();L!=null&&L.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var $=N.range,G=$.startNode,ne=$.startOffset,te=$.endNode,re=$.endOffset;I.setNativeRange(G,ne,te,re)}}),this.update(S.default.sources.SILENT)}return u(R,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var I=O.cursor.restore();if(!I)return;setTimeout(function(){O.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||p.default.query(O,p.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=p.default.find(L.start.node,!1);if(N==null)return;if(N instanceof p.default.Leaf){var $=N.split(L.start.offset);N.parent.insertBefore(this.cursor,$)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(O,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();O=Math.min(O,L-1),I=Math.min(O+I,L-1)-O;var N=void 0,$=this.scroll.leaf(O),G=a($,2),ne=G[0],te=G[1];if(ne==null)return null;var re=ne.position(te,!0),Q=a(re,2);N=Q[0],te=Q[1];var H=document.createRange();if(I>0){H.setStart(N,te);var V=this.scroll.leaf(O+I),B=a(V,2);if(ne=B[0],te=B[1],ne==null)return null;var K=ne.position(te,!0),J=a(K,2);return N=J[0],te=J[1],H.setEnd(N,te),H.getBoundingClientRect()}else{var Z="left",z=void 0;return N instanceof Text?(te<N.data.length?(H.setStart(N,te),H.setEnd(N,te+1)):(H.setStart(N,te-1),H.setEnd(N,te),Z="right"),z=H.getBoundingClientRect()):(z=ne.domNode.getBoundingClientRect(),te>0&&(Z="right")),{bottom:z.top+z.height,height:z.height,left:z[Z],right:z[Z],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var I=O.getRangeAt(0);if(I==null)return null;var L=this.normalizeNative(I);return b.info("getNativeRange",L),L}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var I=this.normalizedToRange(O);return[I,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var I=this,L=[[O.start.node,O.start.offset]];O.native.collapsed||L.push([O.end.node,O.end.offset]);var N=L.map(function(ne){var te=a(ne,2),re=te[0],Q=te[1],H=p.default.find(re,!0),V=H.offset(I.scroll);return Q===0?V:H instanceof p.default.Container?V+H.length():V+H.index(re,Q)}),$=Math.min(Math.max.apply(Math,T(N)),this.scroll.length()-1),G=Math.min.apply(Math,[$].concat(T(N)));return new M(G,$-G)}},{key:"normalizeNative",value:function(O){if(!C(this.root,O.startContainer)||!O.collapsed&&!C(this.root,O.endContainer))return null;var I={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[I.start,I.end].forEach(function(L){for(var N=L.node,$=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>$)N=N.childNodes[$],$=0;else if(N.childNodes.length===$)N=N.lastChild,$=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=$}),I}},{key:"rangeToNative",value:function(O){var I=this,L=O.collapsed?[O.index]:[O.index,O.index+O.length],N=[],$=this.scroll.length();return L.forEach(function(G,ne){G=Math.min($-1,G);var te=void 0,re=I.scroll.leaf(G),Q=a(re,2),H=Q[0],V=Q[1],B=H.position(V,ne!==0),K=a(B,2);te=K[0],V=K[1],N.push(te,V)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(O){var I=this.lastRange;if(I!=null){var L=this.getBounds(I.index,I.length);if(L!=null){var N=this.scroll.length()-1,$=this.scroll.line(Math.min(I.index,N)),G=a($,1),ne=G[0],te=ne;if(I.length>0){var re=this.scroll.line(Math.min(I.index+I.length,N)),Q=a(re,1);te=Q[0]}if(!(ne==null||te==null)){var H=O.getBoundingClientRect();L.top<H.top?O.scrollTop-=H.top-L.top:L.bottom>H.bottom&&(O.scrollTop+=L.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(O,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",O,I,L,N),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(O!=null){this.hasFocus()||this.root.focus();var ne=(this.getNativeRange()||{}).native;if(ne==null||$||O!==ne.startContainer||I!==ne.startOffset||L!==ne.endContainer||N!==ne.endOffset){O.tagName=="BR"&&(I=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var te=document.createRange();te.setStart(O,I),te.setEnd(L,N),G.removeAllRanges(),G.addRange(te)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(L=I,I=!1),b.info("setRange",O),O!=null){var N=this.rangeToNative(O);this.setNativeRange.apply(this,T(N).concat([I]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,L=this.getRange(),N=a(L,2),$=N[0],G=N[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var ne;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var te=[S.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),O];if((ne=this.emitter).emit.apply(ne,[S.default.events.EDITOR_CHANGE].concat(te)),O!==S.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,te)}}}}]),R}();function C(R,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),R.contains(D)}i.Range=M,i.default=j},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(A,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,w,_){return w&&S(A.prototype,w),_&&S(A,_),A}}(),u=function S(A,w,_){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,w);if(T===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:S(x,w,_)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(_)}},f=s(0),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(){return v(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"insertInto",value:function(_,T){_.children.length===0?u(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertInto",this).call(this,_,T):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),A}(p.default.Embed);m.blotName="break",m.tagName="BR",i.default=m},function(t,i,s){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var S in m)m.hasOwnProperty(S)&&(d[S]=m[S])};return function(d,m){g(d,m);function S(){this.constructor=d}d.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(44),f=s(30),p=s(1),y=function(g){a(d,g);function d(m){var S=g.call(this,m)||this;return S.build(),S}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var A=v(S);m.insertBefore(A,m.children.head||void 0)}catch(w){if(w instanceof p.ParchmentError)return;throw w}})},d.prototype.deleteAt=function(m,S){if(m===0&&S===this.length())return this.remove();this.children.forEachAt(m,S,function(A,w,_){A.deleteAt(w,_)})},d.prototype.descendant=function(m,S){var A=this.children.find(S),w=A[0],_=A[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,_]:w instanceof d?w.descendant(m,_):[null,-1]},d.prototype.descendants=function(m,S,A){S===void 0&&(S=0),A===void 0&&(A=Number.MAX_VALUE);var w=[],_=A;return this.children.forEachAt(S,A,function(T,x,b){(m.blotName==null&&m(T)||m.blotName!=null&&T instanceof m)&&w.push(T),T instanceof d&&(w=w.concat(T.descendants(m,x,_))),_-=b}),w},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(m,S,A,w){this.children.forEachAt(m,S,function(_,T,x){_.formatAt(T,x,A,w)})},d.prototype.insertAt=function(m,S,A){var w=this.children.find(m),_=w[0],T=w[1];if(_)_.insertAt(T,S,A);else{var x=A==null?p.create("text",S):p.create(S,A);this.appendChild(x)}},d.prototype.insertBefore=function(m,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(A){return m instanceof A}))throw new p.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,S)},d.prototype.length=function(){return this.children.reduce(function(m,S){return m+S.length()},0)},d.prototype.moveChildren=function(m,S){this.children.forEach(function(A){m.insertBefore(A,S)})},d.prototype.optimize=function(m){if(g.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var S=p.create(this.statics.defaultChild);this.appendChild(S),S.optimize(m)}else this.remove()},d.prototype.path=function(m,S){S===void 0&&(S=!1);var A=this.children.find(m,S),w=A[0],_=A[1],T=[[this,m]];return w instanceof d?T.concat(w.path(_,S)):(w!=null&&T.push([w,_]),T)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),g.prototype.replace.call(this,m)},d.prototype.split=function(m,S){if(S===void 0&&(S=!1),!S){if(m===0)return this;if(m===this.length())return this.next}var A=this.clone();return this.parent.insertBefore(A,this.next),this.children.forEachAt(m,this.length(),function(w,_,T){w=w.split(_,S),A.appendChild(w)}),A},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,S){var A=this,w=[],_=[];m.forEach(function(T){T.target===A.domNode&&T.type==="childList"&&(w.push.apply(w,T.addedNodes),_.push.apply(_,T.removedNodes))}),_.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=p.find(T);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===A.domNode)&&x.detach()}}),w.filter(function(T){return T.parentNode==A.domNode}).sort(function(T,x){return T===x?0:T.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var x=null;T.nextSibling!=null&&(x=p.find(T.nextSibling));var b=v(T);(b.next!=x||b.next==null)&&(b.parent!=null&&b.parent.removeChild(A),A.insertBefore(b,x||void 0))})},d}(f.default);function v(g){var d=p.find(g);if(d==null)try{d=p.create(g)}catch{d=p.create(p.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(S){d.domNode.appendChild(S)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}i.default=y},function(t,i,s){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var S in m)m.hasOwnProperty(S)&&(d[S]=m[S])};return function(d,m){g(d,m);function S(){this.constructor=d}d.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(12),f=s(31),p=s(17),y=s(1),v=function(g){a(d,g);function d(m){var S=g.call(this,m)||this;return S.attributes=new f.default(S.domNode),S}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,S){var A=y.query(m);A instanceof u.default?this.attributes.attribute(A,S):S&&A!=null&&(m!==this.statics.blotName||this.formats()[m]!==S)&&this.replaceWith(m,S)},d.prototype.formats=function(){var m=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(m[this.statics.blotName]=S),m},d.prototype.replaceWith=function(m,S){var A=g.prototype.replaceWith.call(this,m,S);return this.attributes.copy(A),A},d.prototype.update=function(m,S){var A=this;g.prototype.update.call(this,m,S),m.some(function(w){return w.target===A.domNode&&w.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,S){var A=g.prototype.wrap.call(this,m,S);return A instanceof d&&A.statics.scope===this.statics.scope&&this.attributes.move(A),A},d}(p.default);i.default=v},function(t,i,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){y(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(30),f=s(1),p=function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.value=function(g){return!0},v.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(g,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(m+=1),[this.parent.domNode,m]},v.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},v.scope=f.Scope.INLINE_BLOT,v}(u.default);i.default=p},function(t,i,s){var a=s(11),u=s(3),f={attributes:{compose:function(y,v,g){typeof y!="object"&&(y={}),typeof v!="object"&&(v={});var d=u(!0,{},v);g||(d=Object.keys(d).reduce(function(S,A){return d[A]!=null&&(S[A]=d[A]),S},{}));for(var m in y)y[m]!==void 0&&v[m]===void 0&&(d[m]=y[m]);return Object.keys(d).length>0?d:void 0},diff:function(y,v){typeof y!="object"&&(y={}),typeof v!="object"&&(v={});var g=Object.keys(y).concat(Object.keys(v)).reduce(function(d,m){return a(y[m],v[m])||(d[m]=v[m]===void 0?null:v[m]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(y,v,g){if(typeof y!="object")return v;if(typeof v=="object"){if(!g)return v;var d=Object.keys(v).reduce(function(m,S){return y[S]===void 0&&(m[S]=v[S]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(y){return new p(y)},length:function(y){return typeof y.delete=="number"?y.delete:typeof y.retain=="number"?y.retain:typeof y.insert=="string"?y.insert.length:1}};function p(y){this.ops=y,this.index=0,this.offset=0}p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(y){y||(y=1/0);var v=this.ops[this.index];if(v){var g=this.offset,d=f.length(v);if(y>=d-g?(y=d-g,this.index+=1,this.offset=0):this.offset+=y,typeof v.delete=="number")return{delete:y};var m={};return v.attributes&&(m.attributes=v.attributes),typeof v.retain=="number"?m.retain=y:typeof v.insert=="string"?m.insert=v.insert.substr(g,y):m.insert=v.insert,m}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var y=this.offset,v=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=y,this.index=v,[g].concat(d)}else return[]},t.exports=f},function(t,i){var s=function(){function a(A,w){return w!=null&&A instanceof w}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var p;try{p=Promise}catch{p=function(){}}function y(A,w,_,T,x){typeof w=="object"&&(_=w.depth,T=w.prototype,x=w.includeNonEnumerable,w=w.circular);var b=[],M=[],j=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof _>"u"&&(_=1/0);function C(R,D){if(R===null)return null;if(D===0)return R;var O,I;if(typeof R!="object")return R;if(a(R,u))O=new u;else if(a(R,f))O=new f;else if(a(R,p))O=new p(function(H,V){R.then(function(B){H(C(B,D-1))},function(B){V(C(B,D-1))})});else if(y.__isArray(R))O=[];else if(y.__isRegExp(R))O=new RegExp(R.source,S(R)),R.lastIndex&&(O.lastIndex=R.lastIndex);else if(y.__isDate(R))O=new Date(R.getTime());else{if(j&&Buffer.isBuffer(R))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(R.length):O=new Buffer(R.length),R.copy(O),O;a(R,Error)?O=Object.create(R):typeof T>"u"?(I=Object.getPrototypeOf(R),O=Object.create(I)):(O=Object.create(T),I=T)}if(w){var L=b.indexOf(R);if(L!=-1)return M[L];b.push(R),M.push(O)}a(R,u)&&R.forEach(function(H,V){var B=C(V,D-1),K=C(H,D-1);O.set(B,K)}),a(R,f)&&R.forEach(function(H){var V=C(H,D-1);O.add(V)});for(var N in R){var $;I&&($=Object.getOwnPropertyDescriptor(I,N)),!($&&$.set==null)&&(O[N]=C(R[N],D-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var ne=G[N],te=Object.getOwnPropertyDescriptor(R,ne);te&&!te.enumerable&&!x||(O[ne]=C(R[ne],D-1),te.enumerable||Object.defineProperty(O,ne,{enumerable:!1}))}if(x)for(var re=Object.getOwnPropertyNames(R),N=0;N<re.length;N++){var Q=re[N],te=Object.getOwnPropertyDescriptor(R,Q);te&&te.enumerable||(O[Q]=C(R[Q],D-1),Object.defineProperty(O,Q,{enumerable:!1}))}return O}return C(A,_)}y.clonePrototype=function(w){if(w===null)return null;var _=function(){};return _.prototype=w,new _};function v(A){return Object.prototype.toString.call(A)}y.__objToStr=v;function g(A){return typeof A=="object"&&v(A)==="[object Date]"}y.__isDate=g;function d(A){return typeof A=="object"&&v(A)==="[object Array]"}y.__isArray=d;function m(A){return typeof A=="object"&&v(A)==="[object RegExp]"}y.__isRegExp=m;function S(A){var w="";return A.global&&(w+="g"),A.ignoreCase&&(w+="i"),A.multiline&&(w+="m"),w}return y.__getRegExpFlags=S,y}();typeof t=="object"&&t.exports&&(t.exports=s)},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function O(I,L){var N=[],$=!0,G=!1,ne=void 0;try{for(var te=I[Symbol.iterator](),re;!($=(re=te.next()).done)&&(N.push(re.value),!(L&&N.length===L));$=!0);}catch(Q){G=!0,ne=Q}finally{try{!$&&te.return&&te.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function O(I,L){for(var N=0;N<L.length;N++){var $=L[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,L,N){return L&&O(I.prototype,L),N&&O(I,N),I}}(),f=function O(I,L,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,L);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:O(G,L,N)}else{if("value"in $)return $.value;var ne=$.get;return ne===void 0?void 0:ne.call(N)}},p=s(0),y=b(p),v=s(8),g=b(v),d=s(4),m=b(d),S=s(16),A=b(S),w=s(13),_=b(w),T=s(25),x=b(T);function b(O){return O&&O.__esModule?O:{default:O}}function M(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function j(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function C(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}function R(O){return O instanceof m.default||O instanceof d.BlockEmbed}var D=function(O){C(I,O);function I(L,N){M(this,I);var $=j(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return $.emitter=N.emitter,Array.isArray(N.whitelist)&&($.whitelist=N.whitelist.reduce(function(G,ne){return G[ne]=!0,G},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return u(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,$){var G=this.line(N),ne=a(G,2),te=ne[0],re=ne[1],Q=this.line(N+$),H=a(Q,1),V=H[0];if(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,$),V!=null&&te!==V&&re>0){if(te instanceof d.BlockEmbed||V instanceof d.BlockEmbed){this.optimize();return}if(te instanceof _.default){var B=te.newlineIndex(te.length(),!0);if(B>-1&&(te=te.split(B+1),te===V)){this.optimize();return}}else if(V instanceof _.default){var K=V.newlineIndex(0);K>-1&&V.split(K+1)}var J=V.children.head instanceof A.default?null:V.children.head;te.moveChildren(V,J),te.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,$,G,ne){this.whitelist!=null&&!this.whitelist[G]||(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,$,G,ne),this.optimize())}},{key:"insertAt",value:function(N,$,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[$])){if(N>=this.length())if(G==null||y.default.query($,y.default.Scope.BLOCK)==null){var ne=y.default.create(this.statics.defaultChild);this.appendChild(ne),G==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),ne.insertAt(0,$,G)}else{var te=y.default.create($,G);this.appendChild(te)}else f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,$,G);this.optimize()}}},{key:"insertBefore",value:function(N,$){if(N.statics.scope===y.default.Scope.INLINE_BLOT){var G=y.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,$)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ne(te,re,Q){var H=[],V=Q;return te.children.forEachAt(re,Q,function(B,K,J){R(B)?H.push(B):B instanceof y.default.Container&&(H=H.concat(ne(B,K,V))),V-=J}),H};return G(this,N,$)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,$),N.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,N,$))}},{key:"path",value:function(N){return f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var $=g.default.sources.USER;typeof N=="string"&&($=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,$,N),f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,$,N)}}}]),I}(y.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,d.BlockEmbed,x.default],i.default=D},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=function(){function z(Y,ie){var oe=[],he=!0,Ie=!1,De=void 0;try{for(var qe=Y[Symbol.iterator](),He;!(he=(He=qe.next()).done)&&(oe.push(He.value),!(ie&&oe.length===ie));he=!0);}catch(We){Ie=!0,De=We}finally{try{!he&&qe.return&&qe.return()}finally{if(Ie)throw De}}return oe}return function(Y,ie){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function z(Y,ie){for(var oe=0;oe<ie.length;oe++){var he=ie[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Y,he.key,he)}}return function(Y,ie,oe){return ie&&z(Y.prototype,ie),oe&&z(Y,oe),Y}}(),p=s(21),y=O(p),v=s(11),g=O(v),d=s(3),m=O(d),S=s(2),A=O(S),w=s(20),_=O(w),T=s(0),x=O(T),b=s(5),M=O(b),j=s(10),C=O(j),R=s(9),D=O(R);function O(z){return z&&z.__esModule?z:{default:z}}function I(z,Y,ie){return Y in z?Object.defineProperty(z,Y,{value:ie,enumerable:!0,configurable:!0,writable:!0}):z[Y]=ie,z}function L(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}function N(z,Y){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:z}function $(z,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(z,Y):z.__proto__=Y)}var G=(0,C.default)("quill:keyboard"),ne=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",te=function(z){$(Y,z),f(Y,null,[{key:"match",value:function(oe,he){return he=Z(he),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!he[Ie]!==oe[Ie]&&he[Ie]!==null})?!1:he.key===(oe.which||oe.keyCode)}}]);function Y(ie,oe){L(this,Y);var he=N(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,ie,oe));return he.bindings={},Object.keys(he.options.bindings).forEach(function(Ie){Ie==="list autofill"&&ie.scroll.whitelist!=null&&!ie.scroll.whitelist.list||he.options.bindings[Ie]&&he.addBinding(he.options.bindings[Ie])}),he.addBinding({key:Y.keys.ENTER,shiftKey:null},B),he.addBinding({key:Y.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0},Q),he.addBinding({key:Y.keys.DELETE},{collapsed:!0},H)):(he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Q),he.addBinding({key:Y.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!1},V),he.addBinding({key:Y.keys.DELETE},{collapsed:!1},V),he.addBinding({key:Y.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Q),he.listen(),he}return f(Y,[{key:"addBinding",value:function(oe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=Z(oe);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof he=="function"&&(he={handler:he}),typeof Ie=="function"&&(Ie={handler:Ie}),De=(0,m.default)(De,he,Ie),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var oe=this;this.quill.root.addEventListener("keydown",function(he){if(!he.defaultPrevented){var Ie=he.which||he.keyCode,De=(oe.bindings[Ie]||[]).filter(function(at){return Y.match(he,at)});if(De.length!==0){var qe=oe.quill.getSelection();if(!(qe==null||!oe.quill.hasFocus())){var He=oe.quill.getLine(qe.index),We=u(He,2),It=We[0],ht=We[1],fe=oe.quill.getLeaf(qe.index),de=u(fe,2),Te=de[0],be=de[1],ye=qe.length===0?[Te,be]:oe.quill.getLeaf(qe.index+qe.length),Be=u(ye,2),Ue=Be[0],Ke=Be[1],rt=Te instanceof x.default.Text?Te.value().slice(0,be):"",st=Ue instanceof x.default.Text?Ue.value().slice(Ke):"",tt={collapsed:qe.length===0,empty:qe.length===0&&It.length()<=1,format:oe.quill.getFormat(qe),offset:ht,prefix:rt,suffix:st},Si=De.some(function(at){if(at.collapsed!=null&&at.collapsed!==tt.collapsed||at.empty!=null&&at.empty!==tt.empty||at.offset!=null&&at.offset!==tt.offset)return!1;if(Array.isArray(at.format)){if(at.format.every(function(Wt){return tt.format[Wt]==null}))return!1}else if(a(at.format)==="object"&&!Object.keys(at.format).every(function(Wt){return at.format[Wt]===!0?tt.format[Wt]!=null:at.format[Wt]===!1?tt.format[Wt]==null:(0,g.default)(at.format[Wt],tt.format[Wt])}))return!1;return at.prefix!=null&&!at.prefix.test(tt.prefix)||at.suffix!=null&&!at.suffix.test(tt.suffix)?!1:at.handler.call(oe,qe,tt)!==!0});Si&&he.preventDefault()}}}})}}]),Y}(D.default);te.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},te.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:te.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,ie){if(ie.collapsed&&ie.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:te.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,ie){if(ie.collapsed&&ie.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:te.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,ie){ie.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):ie.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:te.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,M.default.sources.USER)}},tab:{key:te.keys.TAB,handler:function(Y){this.quill.history.cutoff();var ie=new A.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(ie,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,M.default.sources.SILENT)}},"list empty enter":{key:te.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,ie){this.quill.format("list",!1,M.default.sources.USER),ie.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:te.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var ie=this.quill.getLine(Y.index),oe=u(ie,2),he=oe[0],Ie=oe[1],De=(0,m.default)({},he.formats(),{list:"checked"}),qe=new A.default().retain(Y.index).insert(`
`,De).retain(he.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(qe,M.default.sources.USER),this.quill.setSelection(Y.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:te.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,ie){var oe=this.quill.getLine(Y.index),he=u(oe,2),Ie=he[0],De=he[1],qe=new A.default().retain(Y.index).insert(`
`,ie.format).retain(Ie.length()-De-1).retain(1,{header:null});this.quill.updateContents(qe,M.default.sources.USER),this.quill.setSelection(Y.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,ie){var oe=ie.prefix.length,he=this.quill.getLine(Y.index),Ie=u(he,2),De=Ie[0],qe=Ie[1];if(qe>oe)return!0;var He=void 0;switch(ie.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(Y.index," ",M.default.sources.USER),this.quill.history.cutoff();var We=new A.default().retain(Y.index-qe).delete(oe+1).retain(De.length()-2-qe).retain(1,{list:He});this.quill.updateContents(We,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-oe,M.default.sources.SILENT)}},"code exit":{key:te.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var ie=this.quill.getLine(Y.index),oe=u(ie,2),he=oe[0],Ie=oe[1],De=new A.default().retain(Y.index+he.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,M.default.sources.USER)}},"embed left":re(te.keys.LEFT,!1),"embed left shift":re(te.keys.LEFT,!0),"embed right":re(te.keys.RIGHT,!1),"embed right shift":re(te.keys.RIGHT,!0)}};function re(z,Y){var ie,oe=z===te.keys.LEFT?"prefix":"suffix";return ie={key:z,shiftKey:Y,altKey:null},I(ie,oe,/^$/),I(ie,"handler",function(Ie){var De=Ie.index;z===te.keys.RIGHT&&(De+=Ie.length+1);var qe=this.quill.getLeaf(De),He=u(qe,1),We=He[0];return We instanceof x.default.Embed?(z===te.keys.LEFT?Y?this.quill.setSelection(Ie.index-1,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index-1,M.default.sources.USER):Y?this.quill.setSelection(Ie.index,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,M.default.sources.USER),!1):!0}),ie}function Q(z,Y){if(!(z.index===0||this.quill.getLength()<=1)){var ie=this.quill.getLine(z.index),oe=u(ie,1),he=oe[0],Ie={};if(Y.offset===0){var De=this.quill.getLine(z.index-1),qe=u(De,1),He=qe[0];if(He!=null&&He.length()>1){var We=he.formats(),It=this.quill.getFormat(z.index-1,1);Ie=_.default.attributes.diff(We,It)||{}}}var ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Y.prefix)?2:1;this.quill.deleteText(z.index-ht,ht,M.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(z.index-ht,ht,Ie,M.default.sources.USER),this.quill.focus()}}function H(z,Y){var ie=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Y.suffix)?2:1;if(!(z.index>=this.quill.getLength()-ie)){var oe={},he=0,Ie=this.quill.getLine(z.index),De=u(Ie,1),qe=De[0];if(Y.offset>=qe.length()-1){var He=this.quill.getLine(z.index+1),We=u(He,1),It=We[0];if(It){var ht=qe.formats(),fe=this.quill.getFormat(z.index,1);oe=_.default.attributes.diff(ht,fe)||{},he=It.length()}}this.quill.deleteText(z.index,ie,M.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index+he-1,ie,oe,M.default.sources.USER)}}function V(z){var Y=this.quill.getLines(z),ie={};if(Y.length>1){var oe=Y[0].formats(),he=Y[Y.length-1].formats();ie=_.default.attributes.diff(he,oe)||{}}this.quill.deleteText(z,M.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(z.index,1,ie,M.default.sources.USER),this.quill.setSelection(z.index,M.default.sources.SILENT),this.quill.focus()}function B(z,Y){var ie=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var oe=Object.keys(Y.format).reduce(function(he,Ie){return x.default.query(Ie,x.default.Scope.BLOCK)&&!Array.isArray(Y.format[Ie])&&(he[Ie]=Y.format[Ie]),he},{});this.quill.insertText(z.index,`
`,oe,M.default.sources.USER),this.quill.setSelection(z.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(he){oe[he]==null&&(Array.isArray(Y.format[he])||he!=="link"&&ie.quill.format(he,Y.format[he],M.default.sources.USER))})}function K(z){return{key:te.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(ie){var oe=x.default.query("code-block"),he=ie.index,Ie=ie.length,De=this.quill.scroll.descendant(oe,he),qe=u(De,2),He=qe[0],We=qe[1];if(He!=null){var It=this.quill.getIndex(He),ht=He.newlineIndex(We,!0)+1,fe=He.newlineIndex(It+We+Ie),de=He.domNode.textContent.slice(ht,fe).split(`
`);We=0,de.forEach(function(Te,be){z?(He.insertAt(ht+We,oe.TAB),We+=oe.TAB.length,be===0?he+=oe.TAB.length:Ie+=oe.TAB.length):Te.startsWith(oe.TAB)&&(He.deleteAt(ht+We,oe.TAB.length),We-=oe.TAB.length,be===0?he-=oe.TAB.length:Ie-=oe.TAB.length),We+=Te.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(he,Ie,M.default.sources.SILENT)}}}}function J(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(ie,oe){this.quill.format(z,!oe.format[z],M.default.sources.USER)}}}function Z(z){if(typeof z=="string"||typeof z=="number")return Z({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,y.default)(z,!1)),typeof z.key=="string")if(te.keys[z.key.toUpperCase()]!=null)z.key=te.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[ne]=z.shortKey,delete z.shortKey),z}i.default=te,i.SHORTKEY=ne},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(T,x){var b=[],M=!0,j=!1,C=void 0;try{for(var R=T[Symbol.iterator](),D;!(M=(D=R.next()).done)&&(b.push(D.value),!(x&&b.length===x));M=!0);}catch(O){j=!0,C=O}finally{try{!M&&R.return&&R.return()}finally{if(j)throw C}}return b}return function(T,x){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return _(T,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function _(T,x,b){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,x);if(M===void 0){var j=Object.getPrototypeOf(T);return j===null?void 0:_(j,x,b)}else{if("value"in M)return M.value;var C=M.get;return C===void 0?void 0:C.call(b)}},f=function(){function _(T,x){for(var b=0;b<x.length;b++){var M=x[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,x,b){return x&&_(T.prototype,x),b&&_(T,b),T}}(),p=s(0),y=d(p),v=s(7),g=d(v);function d(_){return _&&_.__esModule?_:{default:_}}function m(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function S(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function A(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var w=function(_){A(T,_),f(T,null,[{key:"value",value:function(){}}]);function T(x,b){m(this,T);var M=S(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,x));return M.selection=b,M.textNode=document.createTextNode(T.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return f(T,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,M){if(this._length!==0)return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,b,M);for(var j=this,C=0;j!=null&&j.statics.scope!==y.default.Scope.BLOCK_BLOT;)C+=j.offset(j.parent),j=j.parent;j!=null&&(this._length=T.CONTENTS.length,j.optimize(),j.formatAt(C,T.CONTENTS.length,b,M),this._length=0)}},{key:"index",value:function(b,M){return b===this.textNode?0:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,b,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,M=this.selection.getNativeRange(),j=void 0,C=void 0,R=void 0;if(M!=null&&M.start.node===b&&M.end.node===b){var D=[b,M.start.offset,M.end.offset];j=D[0],C=D[1],R=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==T.CONTENTS){var O=this.textNode.data.split(T.CONTENTS).join("");this.next instanceof g.default?(j=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=T.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(y.default.create(this.textNode),this),this.textNode=document.createTextNode(T.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),C!=null){var I=[C,R].map(function(N){return Math.max(0,Math.min(j.data.length,N-1))}),L=a(I,2);return C=L[0],R=L[1],{startNode:j,startOffset:C,endNode:j,endOffset:R}}}}},{key:"update",value:function(b,M){var j=this;if(b.some(function(R){return R.type==="characterData"&&R.target===j.textNode})){var C=this.restore();C&&(M.range=C)}}},{key:"value",value:function(){return""}}]),T}(y.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",i.default=w},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(0),u=y(a),f=s(4),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(){return v(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(u.default.Container);m.allowedChildren=[p.default,f.BlockEmbed,m],i.default=m},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function w(_,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),u=function w(_,T,x){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,T);if(b===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:w(M,T,x)}else{if("value"in b)return b.value;var j=b.get;return j===void 0?void 0:j.call(x)}},f=s(0),p=y(f);function y(w){return w&&w.__esModule?w:{default:w}}function v(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function g(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){d(_,w);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"value",value:function(x){var b=u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,x);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):b}}]),_}(p.default.Attributor.Style),S=new p.default.Attributor.Class("color","ql-color",{scope:p.default.Scope.INLINE}),A=new m("color","color",{scope:p.default.Scope.INLINE});i.ColorAttributor=m,i.ColorClass=S,i.ColorStyle=A},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function A(w,_){for(var T=0;T<_.length;T++){var x=_[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,_,T){return _&&A(w.prototype,_),T&&A(w,T),w}}(),u=function A(w,_,T){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,_);if(x===void 0){var b=Object.getPrototypeOf(w);return b===null?void 0:A(b,_,T)}else{if("value"in x)return x.value;var M=x.get;return M===void 0?void 0:M.call(T)}},f=s(6),p=y(f);function y(A){return A&&A.__esModule?A:{default:A}}function v(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function g(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function d(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var m=function(A){d(w,A);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(T,x){if(T!==this.statics.blotName||!x)return u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,T,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(T){var x=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,T);return T=this.sanitize(T),x.setAttribute("href",T),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(T){return T.getAttribute("href")}},{key:"sanitize",value:function(T){return S(T,this.PROTOCOL_WHITELIST)?T:this.SANITIZED_URL}}]),w}(p.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(A,w){var _=document.createElement("a");_.href=A;var T=_.href.slice(0,_.href.indexOf(":"));return w.indexOf(T)>-1}i.default=m,i.sanitize=S},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u=function(){function w(_,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),f=s(23),p=g(f),y=s(107),v=g(y);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}var m=0;function S(w,_){w.setAttribute(_,w.getAttribute(_)!=="true")}var A=function(){function w(_){var T=this;d(this,w),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){T.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case p.default.keys.ENTER:T.togglePicker();break;case p.default.keys.ESCAPE:T.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(T){var x=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),T.hasAttribute("value")&&b.setAttribute("data-value",T.getAttribute("value")),T.textContent&&b.setAttribute("data-label",T.textContent),b.addEventListener("click",function(){x.selectItem(b,!0)}),b.addEventListener("keydown",function(M){switch(M.keyCode){case p.default.keys.ENTER:x.selectItem(b,!0),M.preventDefault();break;case p.default.keys.ESCAPE:x.escape(),M.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var T=document.createElement("span");return T.classList.add("ql-picker-label"),T.innerHTML=v.default,T.tabIndex="0",T.setAttribute("role","button"),T.setAttribute("aria-expanded","false"),this.container.appendChild(T),T}},{key:"buildOptions",value:function(){var T=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(b){var M=T.buildItem(b);x.appendChild(M),b.selected===!0&&T.selectItem(M)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var T=this;[].slice.call(this.select.attributes).forEach(function(x){T.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var T=this;this.close(),setTimeout(function(){return T.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(T!==b&&(b!=null&&b.classList.remove("ql-selected"),T!=null&&(T.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(T.parentNode.children,T),T.hasAttribute("data-value")?this.label.setAttribute("data-value",T.getAttribute("data-value")):this.label.removeAttribute("data-value"),T.hasAttribute("data-label")?this.label.setAttribute("data-label",T.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var T=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];T=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var b=T!=null&&T!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),w}();i.default=A},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(0),u=G(a),f=s(5),p=G(f),y=s(4),v=G(y),g=s(16),d=G(g),m=s(25),S=G(m),A=s(24),w=G(A),_=s(35),T=G(_),x=s(6),b=G(x),M=s(22),j=G(M),C=s(7),R=G(C),D=s(55),O=G(D),I=s(42),L=G(I),N=s(23),$=G(N);function G(ne){return ne&&ne.__esModule?ne:{default:ne}}p.default.register({"blots/block":v.default,"blots/block/embed":y.BlockEmbed,"blots/break":d.default,"blots/container":S.default,"blots/cursor":w.default,"blots/embed":T.default,"blots/inline":b.default,"blots/scroll":j.default,"blots/text":R.default,"modules/clipboard":O.default,"modules/history":L.default,"modules/keyboard":$.default}),u.default.register(v.default,d.default,w.default,b.default,j.default,R.default),i.default=p.default},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(1),u=function(){function f(p){this.domNode=p,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(p){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var y;return Array.isArray(this.tagName)?(typeof p=="string"&&(p=p.toUpperCase(),parseInt(p).toString()===p&&(p=parseInt(p))),typeof p=="number"?y=document.createElement(this.tagName[p-1]):this.tagName.indexOf(p)>-1?y=document.createElement(p):y=document.createElement(this.tagName[0])):y=document.createElement(this.tagName),this.className&&y.classList.add(this.className),y},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var p=this.domNode.cloneNode(!1);return a.create(p)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(p,y){var v=this.isolate(p,y);v.remove()},f.prototype.formatAt=function(p,y,v,g){var d=this.isolate(p,y);if(a.query(v,a.Scope.BLOT)!=null&&g)d.wrap(v,g);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var m=a.create(this.statics.scope);d.wrap(m),m.format(v,g)}},f.prototype.insertAt=function(p,y,v){var g=v==null?a.create("text",y):a.create(y,v),d=this.split(p);this.parent.insertBefore(g,d)},f.prototype.insertInto=function(p,y){y===void 0&&(y=null),this.parent!=null&&this.parent.children.remove(this);var v=null;p.children.insertBefore(this,y),y!=null&&(v=y.domNode),(this.domNode.parentNode!=p.domNode||this.domNode.nextSibling!=v)&&p.domNode.insertBefore(this.domNode,v),this.parent=p,this.attach()},f.prototype.isolate=function(p,y){var v=this.split(p);return v.split(y),v},f.prototype.length=function(){return 1},f.prototype.offset=function(p){return p===void 0&&(p=this.parent),this.parent==null||this==p?0:this.parent.children.offset(this)+this.parent.offset(p)},f.prototype.optimize=function(p){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(p){p.parent!=null&&(p.parent.insertBefore(this,p.next),p.remove())},f.prototype.replaceWith=function(p,y){var v=typeof p=="string"?a.create(p,y):p;return v.replace(this),v},f.prototype.split=function(p,y){return p===0?this:this.next},f.prototype.update=function(p,y){},f.prototype.wrap=function(p,y){var v=typeof p=="string"?a.create(p,y):p;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();i.default=u},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(12),u=s(32),f=s(33),p=s(1),y=function(){function v(g){this.attributes={},this.domNode=g,this.build()}return v.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},v.prototype.build=function(){var g=this;this.attributes={};var d=a.default.keys(this.domNode),m=u.default.keys(this.domNode),S=f.default.keys(this.domNode);d.concat(m).concat(S).forEach(function(A){var w=p.query(A,p.Scope.ATTRIBUTE);w instanceof a.default&&(g.attributes[w.attrName]=w)})},v.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(m){var S=d.attributes[m].value(d.domNode);g.format(m,S)})},v.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=g.attributes[m].value(g.domNode),d},{})},v}();i.default=y},function(t,i,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){y(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(12);function f(y,v){var g=y.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var p=function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(g){var d=f(g,this.keyName);d.forEach(function(m){g.classList.remove(m)}),g.classList.length===0&&g.removeAttribute("class")},v.prototype.value=function(g){var d=f(g,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(g,m)?m:""},v}(u.default);i.default=p},function(t,i,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){y(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(12);function f(y){var v=y.split("-"),g=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+g}var p=function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(g){g.style[f(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},v.prototype.value=function(g){var d=g.style[f(this.keyName)];return this.canAdd(g,d)?d:""},v}(u.default);i.default=p},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function p(y,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,v,g){return v&&p(y.prototype,v),g&&p(y,g),y}}();function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}var f=function(){function p(y,v){u(this,p),this.quill=y,this.options=v,this.modules={}}return a(p,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(g){v.modules[g]==null&&v.addModule(g)})}},{key:"addModule",value:function(v){var g=this.quill.constructor.import("modules/"+v);return this.modules[v]=new g(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),p}();f.DEFAULTS={modules:{}},f.themes={default:f},i.default=f},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(T,x){for(var b=0;b<x.length;b++){var M=x[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,x,b){return x&&_(T.prototype,x),b&&_(T,b),T}}(),u=function _(T,x,b){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,x);if(M===void 0){var j=Object.getPrototypeOf(T);return j===null?void 0:_(j,x,b)}else{if("value"in M)return M.value;var C=M.get;return C===void 0?void 0:C.call(b)}},f=s(0),p=g(f),y=s(7),v=g(y);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function m(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function S(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var A="\uFEFF",w=function(_){S(T,_);function T(x){d(this,T);var b=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,x));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(M){b.contentNode.appendChild(M)}),b.leftGuard=document.createTextNode(A),b.rightGuard=document.createTextNode(A),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(T,[{key:"index",value:function(b,M){return b===this.leftGuard?0:b===this.rightGuard?1:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,b,M)}},{key:"restore",value:function(b){var M=void 0,j=void 0,C=b.data.split(A).join("");if(b===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,C),M={startNode:this.prev.domNode,startOffset:R+C.length}}else j=document.createTextNode(C),this.parent.insertBefore(p.default.create(j),this),M={startNode:j,startOffset:C.length};else b===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,C),M={startNode:this.next.domNode,startOffset:C.length}):(j=document.createTextNode(C),this.parent.insertBefore(p.default.create(j),this.next),M={startNode:j,startOffset:C.length}));return b.data=A,M}},{key:"update",value:function(b,M){var j=this;b.forEach(function(C){if(C.type==="characterData"&&(C.target===j.leftGuard||C.target===j.rightGuard)){var R=j.restore(C.target);R&&(M.range=R)}})}}]),T}(p.default.Embed);i.default=w},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=s(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var p={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},y=new u.default.Attributor.Attribute("align","align",p),v=new u.default.Attributor.Class("align","ql-align",p),g=new u.default.Attributor.Style("align","text-align",p);i.AlignAttribute=y,i.AlignClass=v,i.AlignStyle=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=s(0),u=p(a),f=s(26);function p(g){return g&&g.__esModule?g:{default:g}}var y=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});i.BackgroundClass=y,i.BackgroundStyle=v},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=s(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var p={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},y=new u.default.Attributor.Attribute("direction","dir",p),v=new u.default.Attributor.Class("direction","ql-direction",p),g=new u.default.Attributor.Style("direction","direction",p);i.DirectionAttribute=y,i.DirectionClass=v,i.DirectionStyle=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function _(T,x){for(var b=0;b<x.length;b++){var M=x[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,x,b){return x&&_(T.prototype,x),b&&_(T,b),T}}(),u=function _(T,x,b){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,x);if(M===void 0){var j=Object.getPrototypeOf(T);return j===null?void 0:_(j,x,b)}else{if("value"in M)return M.value;var C=M.get;return C===void 0?void 0:C.call(b)}},f=s(0),p=y(f);function y(_){return _&&_.__esModule?_:{default:_}}function v(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function g(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function d(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var m={scope:p.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new p.default.Attributor.Class("font","ql-font",m),A=function(_){d(T,_);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(b){return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),T}(p.default.Attributor.Style),w=new A("font","font-family",m);i.FontStyle=w,i.FontClass=S},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=s(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var p=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),y=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=p,i.SizeStyle=y},function(t,i,s){t.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function x(b,M){for(var j=0;j<M.length;j++){var C=M[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,M,j){return M&&x(b.prototype,M),j&&x(b,j),b}}(),u=s(0),f=d(u),p=s(5),y=d(p),v=s(9),g=d(v);function d(x){return x&&x.__esModule?x:{default:x}}function m(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function S(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function A(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var w=function(x){A(b,x);function b(M,j){m(this,b);var C=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,M,j));return C.lastRecorded=0,C.ignoreChange=!1,C.clear(),C.quill.on(y.default.events.EDITOR_CHANGE,function(R,D,O,I){R!==y.default.events.TEXT_CHANGE||C.ignoreChange||(!C.options.userOnly||I===y.default.sources.USER?C.record(D,O):C.transform(D))}),C.quill.keyboard.addBinding({key:"Z",shortKey:!0},C.undo.bind(C)),C.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},C.redo.bind(C)),/Win/i.test(navigator.platform)&&C.quill.keyboard.addBinding({key:"Y",shortKey:!0},C.redo.bind(C)),C}return a(b,[{key:"change",value:function(j,C){if(this.stack[j].length!==0){var R=this.stack[j].pop();this.stack[C].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[j],y.default.sources.USER),this.ignoreChange=!1;var D=T(R[j]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(j,C){if(j.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(C),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var O=this.stack.undo.pop();R=R.compose(O.undo),j=O.redo.compose(j)}else this.lastRecorded=D;this.stack.undo.push({redo:j,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(j){this.stack.undo.forEach(function(C){C.undo=j.transform(C.undo,!0),C.redo=j.transform(C.redo,!0)}),this.stack.redo.forEach(function(C){C.undo=j.transform(C.undo,!0),C.redo=j.transform(C.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(g.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(x){var b=x.ops[x.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(M){return f.default.query(M,f.default.Scope.BLOCK)!=null}):!1}function T(x){var b=x.reduce(function(j,C){return j+=C.delete||0,j},0),M=x.length()-b;return _(x)&&(M-=1),M}i.default=w,i.getLastChangeIndex=T},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function B(K,J){for(var Z=0;Z<J.length;Z++){var z=J[Z];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(K,z.key,z)}}return function(K,J,Z){return J&&B(K.prototype,J),Z&&B(K,Z),K}}(),u=function B(K,J,Z){K===null&&(K=Function.prototype);var z=Object.getOwnPropertyDescriptor(K,J);if(z===void 0){var Y=Object.getPrototypeOf(K);return Y===null?void 0:B(Y,J,Z)}else{if("value"in z)return z.value;var ie=z.get;return ie===void 0?void 0:ie.call(Z)}},f=s(3),p=D(f),y=s(2),v=D(y),g=s(8),d=D(g),m=s(23),S=D(m),A=s(34),w=D(A),_=s(59),T=D(_),x=s(60),b=D(x),M=s(28),j=D(M),C=s(61),R=D(C);function D(B){return B&&B.__esModule?B:{default:B}}function O(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function I(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function L(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var N=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ne=["1","2","3",!1],te=["small",!1,"large","huge"],re=function(B){L(K,B);function K(J,Z){O(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,J,Z)),Y=function ie(oe){if(!document.body.contains(J.root))return document.body.removeEventListener("click",ie);z.tooltip!=null&&!z.tooltip.root.contains(oe.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(he){he.container.contains(oe.target)||he.close()})};return J.emitter.listenDOM("click",document.body,Y),z}return a(K,[{key:"addModule",value:function(Z){var z=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(Z,z){Z.forEach(function(Y){var ie=Y.getAttribute("class")||"";ie.split(/\s+/).forEach(function(oe){if(oe.startsWith("ql-")&&(oe=oe.slice(3),z[oe]!=null))if(oe==="direction")Y.innerHTML=z[oe][""]+z[oe].rtl;else if(typeof z[oe]=="string")Y.innerHTML=z[oe];else{var he=Y.value||"";he!=null&&z[oe][he]&&(Y.innerHTML=z[oe][he])}})})}},{key:"buildPickers",value:function(Z,z){var Y=this;this.pickers=Z.map(function(oe){if(oe.classList.contains("ql-align"))return oe.querySelector("option")==null&&V(oe,N),new b.default(oe,z.align);if(oe.classList.contains("ql-background")||oe.classList.contains("ql-color")){var he=oe.classList.contains("ql-background")?"background":"color";return oe.querySelector("option")==null&&V(oe,$,he==="background"?"#ffffff":"#000000"),new T.default(oe,z[he])}else return oe.querySelector("option")==null&&(oe.classList.contains("ql-font")?V(oe,G):oe.classList.contains("ql-header")?V(oe,ne):oe.classList.contains("ql-size")&&V(oe,te)),new j.default(oe)});var ie=function(){Y.pickers.forEach(function(he){he.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,ie)}}]),K}(w.default);re.DEFAULTS=(0,p.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var Z=new FileReader;Z.onload=function(z){var Y=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(Y.index).delete(Y.length).insert({image:z.target.result}),d.default.sources.USER),K.quill.setSelection(Y.index+1,d.default.sources.SILENT),J.value=""},Z.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Q=function(B){L(K,B);function K(J,Z){O(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,J,Z));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(K,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(z){S.default.match(z,"enter")?(Z.save(),z.preventDefault()):S.default.match(z,"escape")&&(Z.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,d.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":Z=H(Z);case"formula":{if(!Z)break;var Y=this.quill.getSelection(!0);if(Y!=null){var ie=Y.index+Y.length;this.quill.insertEmbed(ie,this.root.getAttribute("data-mode"),Z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ie+1," ",d.default.sources.USER),this.quill.setSelection(ie+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(R.default);function H(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function V(B,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(Z){var z=document.createElement("option");Z===J?z.setAttribute("selected","selected"):z.setAttribute("value",Z),B.appendChild(z)})}i.BaseTooltip=Q,i.default=re},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var p,y=this.iterator();p=y();)if(p===f)return!0;return!1},u.prototype.insertBefore=function(f,p){f&&(f.next=p,p!=null?(f.prev=p.prev,p.prev!=null&&(p.prev.next=f),p.prev=f,p===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var p=0,y=this.head;y!=null;){if(y===f)return p;p+=y.length(),y=y.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var p=f;return f!=null&&(f=f.next),p}},u.prototype.find=function(f,p){p===void 0&&(p=!1);for(var y,v=this.iterator();y=v();){var g=y.length();if(f<g||p&&f===g&&(y.next==null||y.next.length()!==0))return[y,f];f-=g}return[null,0]},u.prototype.forEach=function(f){for(var p,y=this.iterator();p=y();)f(p)},u.prototype.forEachAt=function(f,p,y){if(!(p<=0))for(var v=this.find(f),g=v[0],d=v[1],m,S=f-d,A=this.iterator(g);(m=A())&&S<f+p;){var w=m.length();f>S?y(m,f-S,Math.min(p,S+w-f)):y(m,0,Math.min(w,f+p-S)),S+=w}},u.prototype.map=function(f){return this.reduce(function(p,y){return p.push(f(y)),p},[])},u.prototype.reduce=function(f,p){for(var y,v=this.iterator();y=v();)p=f(p,y);return p},u}();i.default=a},function(t,i,s){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var S in m)m.hasOwnProperty(S)&&(d[S]=m[S])};return function(d,m){g(d,m);function S(){this.constructor=d}d.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(17),f=s(1),p={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},y=100,v=function(g){a(d,g);function d(m){var S=g.call(this,m)||this;return S.scroll=S,S.observer=new MutationObserver(function(A){S.update(A)}),S.observer.observe(S.domNode,p),S.attach(),S}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,S){this.update(),m===0&&S===this.length()?this.children.forEach(function(A){A.remove()}):g.prototype.deleteAt.call(this,m,S)},d.prototype.formatAt=function(m,S,A,w){this.update(),g.prototype.formatAt.call(this,m,S,A,w)},d.prototype.insertAt=function(m,S,A){this.update(),g.prototype.insertAt.call(this,m,S,A)},d.prototype.optimize=function(m,S){var A=this;m===void 0&&(m=[]),S===void 0&&(S={}),g.prototype.optimize.call(this,S);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var _=function(M,j){j===void 0&&(j=!0),!(M==null||M===A)&&M.domNode.parentNode!=null&&(M.domNode[f.DATA_KEY].mutations==null&&(M.domNode[f.DATA_KEY].mutations=[]),j&&_(M.parent))},T=function(M){M.domNode[f.DATA_KEY]==null||M.domNode[f.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(T),M.optimize(S))},x=m,b=0;x.length>0;b+=1){if(b>=y)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(M){var j=f.find(M.target,!0);j!=null&&(j.domNode===M.target&&(M.type==="childList"?(_(f.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(C){var R=f.find(C,!1);_(R,!1),R instanceof u.default&&R.children.forEach(function(D){_(D,!1)})})):M.type==="attributes"&&_(j.prev)),_(j))}),this.children.forEach(T),x=[].slice.call(this.observer.takeRecords()),w=x.slice();w.length>0;)m.push(w.pop())}},d.prototype.update=function(m,S){var A=this;S===void 0&&(S={}),m=m||this.observer.takeRecords(),m.map(function(w){var _=f.find(w.target,!0);return _==null?null:_.domNode[f.DATA_KEY].mutations==null?(_.domNode[f.DATA_KEY].mutations=[w],_):(_.domNode[f.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===A||w.domNode[f.DATA_KEY]==null||w.update(w.domNode[f.DATA_KEY].mutations||[],S)}),this.domNode[f.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,S),this.optimize(m,S)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);i.default=v},function(t,i,s){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var m in d)d.hasOwnProperty(m)&&(g[m]=d[m])};return function(g,d){v(g,d);function m(){this.constructor=g}g.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(18),f=s(1);function p(v,g){if(Object.keys(v).length!==Object.keys(g).length)return!1;for(var d in v)if(v[d]!==g[d])return!1;return!0}var y=function(v){a(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return v.formats.call(this,d)},g.prototype.format=function(d,m){var S=this;d===this.statics.blotName&&!m?(this.children.forEach(function(A){A instanceof u.default||(A=A.wrap(g.blotName,!0)),S.attributes.copy(A)}),this.unwrap()):v.prototype.format.call(this,d,m)},g.prototype.formatAt=function(d,m,S,A){if(this.formats()[S]!=null||f.query(S,f.Scope.ATTRIBUTE)){var w=this.isolate(d,m);w.format(S,A)}else v.prototype.formatAt.call(this,d,m,S,A)},g.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var S=this.next;S instanceof g&&S.prev===this&&p(m,S.formats())&&(S.moveChildren(this),S.remove())},g.blotName="inline",g.scope=f.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);i.default=y},function(t,i,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){y(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(18),f=s(1),p=function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.formats=function(g){var d=f.query(v.blotName).tagName;if(g.tagName!==d)return y.formats.call(this,g)},v.prototype.format=function(g,d){f.query(g,f.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(v.blotName):y.prototype.format.call(this,g,d))},v.prototype.formatAt=function(g,d,m,S){f.query(m,f.Scope.BLOCK)!=null?this.format(m,S):y.prototype.formatAt.call(this,g,d,m,S)},v.prototype.insertAt=function(g,d,m){if(m==null||f.query(d,f.Scope.INLINE)!=null)y.prototype.insertAt.call(this,g,d,m);else{var S=this.split(g),A=f.create(d,m);S.parent.insertBefore(A,S)}},v.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():y.prototype.update.call(this,g,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);i.default=p},function(t,i,s){var a=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var g in v)v.hasOwnProperty(g)&&(y[g]=v[g])};return function(y,v){p(y,v);function g(){this.constructor=y}y.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(19),f=function(p){a(y,p);function y(){return p!==null&&p.apply(this,arguments)||this}return y.formats=function(v){},y.prototype.format=function(v,g){p.prototype.formatAt.call(this,0,this.length(),v,g)},y.prototype.formatAt=function(v,g,d,m){v===0&&g===this.length()?this.format(d,m):p.prototype.formatAt.call(this,v,g,d,m)},y.prototype.formats=function(){return this.statics.formats(this.domNode)},y}(u.default);i.default=f},function(t,i,s){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){y(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=s(19),f=s(1),p=function(y){a(v,y);function v(g){var d=y.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(g){return document.createTextNode(g)},v.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},v.prototype.index=function(g,d){return this.domNode===g?d:-1},v.prototype.insertAt=function(g,d,m){m==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):y.prototype.insertAt.call(this,g,d,m)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(g){y.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(g,d){return[this.domNode,g]},v.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var m=f.create(this.domNode.splitText(g));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},v.prototype.update=function(g,d){var m=this;g.some(function(S){return S.type==="characterData"&&S.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);i.default=p},function(t,i,s){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,p){return arguments.length>1&&!this.contains(f)==!p?p:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,p){return p=p||0,this.substr(p,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,p){var y=this.toString();(typeof p!="number"||!isFinite(p)||Math.floor(p)!==p||p>y.length)&&(p=y.length),p-=f.length;var v=y.indexOf(f,p);return v!==-1&&v===p}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(p){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof p!="function")throw new TypeError("predicate must be a function");for(var y=Object(this),v=y.length>>>0,g=arguments[1],d,m=0;m<v;m++)if(d=y[m],p.call(g,d,m,y))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,i){var s=-1,a=1,u=0;function f(b,M,j){if(b==M)return b?[[u,b]]:[];(j<0||b.length<j)&&(j=null);var C=g(b,M),R=b.substring(0,C);b=b.substring(C),M=M.substring(C),C=d(b,M);var D=b.substring(b.length-C);b=b.substring(0,b.length-C),M=M.substring(0,M.length-C);var O=p(b,M);return R&&O.unshift([u,R]),D&&O.push([u,D]),S(O),j!=null&&(O=_(O,j)),O=T(O),O}function p(b,M){var j;if(!b)return[[a,M]];if(!M)return[[s,b]];var C=b.length>M.length?b:M,R=b.length>M.length?M:b,D=C.indexOf(R);if(D!=-1)return j=[[a,C.substring(0,D)],[u,R],[a,C.substring(D+R.length)]],b.length>M.length&&(j[0][0]=j[2][0]=s),j;if(R.length==1)return[[s,b],[a,M]];var O=m(b,M);if(O){var I=O[0],L=O[1],N=O[2],$=O[3],G=O[4],ne=f(I,N),te=f(L,$);return ne.concat([[u,G]],te)}return y(b,M)}function y(b,M){for(var j=b.length,C=M.length,R=Math.ceil((j+C)/2),D=R,O=2*R,I=new Array(O),L=new Array(O),N=0;N<O;N++)I[N]=-1,L[N]=-1;I[D+1]=0,L[D+1]=0;for(var $=j-C,G=$%2!=0,ne=0,te=0,re=0,Q=0,H=0;H<R;H++){for(var V=-H+ne;V<=H-te;V+=2){var B=D+V,K;V==-H||V!=H&&I[B-1]<I[B+1]?K=I[B+1]:K=I[B-1]+1;for(var J=K-V;K<j&&J<C&&b.charAt(K)==M.charAt(J);)K++,J++;if(I[B]=K,K>j)te+=2;else if(J>C)ne+=2;else if(G){var Z=D+$-V;if(Z>=0&&Z<O&&L[Z]!=-1){var z=j-L[Z];if(K>=z)return v(b,M,K,J)}}}for(var Y=-H+re;Y<=H-Q;Y+=2){var Z=D+Y,z;Y==-H||Y!=H&&L[Z-1]<L[Z+1]?z=L[Z+1]:z=L[Z-1]+1;for(var ie=z-Y;z<j&&ie<C&&b.charAt(j-z-1)==M.charAt(C-ie-1);)z++,ie++;if(L[Z]=z,z>j)Q+=2;else if(ie>C)re+=2;else if(!G){var B=D+$-Y;if(B>=0&&B<O&&I[B]!=-1){var K=I[B],J=D+K-B;if(z=j-z,K>=z)return v(b,M,K,J)}}}}return[[s,b],[a,M]]}function v(b,M,j,C){var R=b.substring(0,j),D=M.substring(0,C),O=b.substring(j),I=M.substring(C),L=f(R,D),N=f(O,I);return L.concat(N)}function g(b,M){if(!b||!M||b.charAt(0)!=M.charAt(0))return 0;for(var j=0,C=Math.min(b.length,M.length),R=C,D=0;j<R;)b.substring(D,R)==M.substring(D,R)?(j=R,D=j):C=R,R=Math.floor((C-j)/2+j);return R}function d(b,M){if(!b||!M||b.charAt(b.length-1)!=M.charAt(M.length-1))return 0;for(var j=0,C=Math.min(b.length,M.length),R=C,D=0;j<R;)b.substring(b.length-R,b.length-D)==M.substring(M.length-R,M.length-D)?(j=R,D=j):C=R,R=Math.floor((C-j)/2+j);return R}function m(b,M){var j=b.length>M.length?b:M,C=b.length>M.length?M:b;if(j.length<4||C.length*2<j.length)return null;function R(te,re,Q){for(var H=te.substring(Q,Q+Math.floor(te.length/4)),V=-1,B="",K,J,Z,z;(V=re.indexOf(H,V+1))!=-1;){var Y=g(te.substring(Q),re.substring(V)),ie=d(te.substring(0,Q),re.substring(0,V));B.length<ie+Y&&(B=re.substring(V-ie,V)+re.substring(V,V+Y),K=te.substring(0,Q-ie),J=te.substring(Q+Y),Z=re.substring(0,V-ie),z=re.substring(V+Y))}return B.length*2>=te.length?[K,J,Z,z,B]:null}var D=R(j,C,Math.ceil(j.length/4)),O=R(j,C,Math.ceil(j.length/2)),I;if(!D&&!O)return null;O?D?I=D[4].length>O[4].length?D:O:I=O:I=D;var L,N,$,G;b.length>M.length?(L=I[0],N=I[1],$=I[2],G=I[3]):($=I[0],G=I[1],L=I[2],N=I[3]);var ne=I[4];return[L,N,$,G,ne]}function S(b){b.push([u,""]);for(var M=0,j=0,C=0,R="",D="",O;M<b.length;)switch(b[M][0]){case a:C++,D+=b[M][1],M++;break;case s:j++,R+=b[M][1],M++;break;case u:j+C>1?(j!==0&&C!==0&&(O=g(D,R),O!==0&&(M-j-C>0&&b[M-j-C-1][0]==u?b[M-j-C-1][1]+=D.substring(0,O):(b.splice(0,0,[u,D.substring(0,O)]),M++),D=D.substring(O),R=R.substring(O)),O=d(D,R),O!==0&&(b[M][1]=D.substring(D.length-O)+b[M][1],D=D.substring(0,D.length-O),R=R.substring(0,R.length-O))),j===0?b.splice(M-C,j+C,[a,D]):C===0?b.splice(M-j,j+C,[s,R]):b.splice(M-j-C,j+C,[s,R],[a,D]),M=M-j-C+(j?1:0)+(C?1:0)+1):M!==0&&b[M-1][0]==u?(b[M-1][1]+=b[M][1],b.splice(M,1)):M++,C=0,j=0,R="",D="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(M=1;M<b.length-1;)b[M-1][0]==u&&b[M+1][0]==u&&(b[M][1].substring(b[M][1].length-b[M-1][1].length)==b[M-1][1]?(b[M][1]=b[M-1][1]+b[M][1].substring(0,b[M][1].length-b[M-1][1].length),b[M+1][1]=b[M-1][1]+b[M+1][1],b.splice(M-1,1),I=!0):b[M][1].substring(0,b[M+1][1].length)==b[M+1][1]&&(b[M-1][1]+=b[M+1][1],b[M][1]=b[M][1].substring(b[M+1][1].length)+b[M+1][1],b.splice(M+1,1),I=!0)),M++;I&&S(b)}var A=f;A.INSERT=a,A.DELETE=s,A.EQUAL=u,t.exports=A;function w(b,M){if(M===0)return[u,b];for(var j=0,C=0;C<b.length;C++){var R=b[C];if(R[0]===s||R[0]===u){var D=j+R[1].length;if(M===D)return[C+1,b];if(M<D){b=b.slice();var O=M-j,I=[R[0],R[1].slice(0,O)],L=[R[0],R[1].slice(O)];return b.splice(C,1,I,L),[C+1,b]}else j=D}}throw new Error("cursor_pos is out of bounds!")}function _(b,M){var j=w(b,M),C=j[1],R=j[0],D=C[R],O=C[R+1];if(D==null)return b;if(D[0]!==u)return b;if(O!=null&&D[1]+O[1]===O[1]+D[1])return C.splice(R,2,O,D),x(C,R,2);if(O!=null&&O[1].indexOf(D[1])===0){C.splice(R,2,[O[0],D[1]],[0,D[1]]);var I=O[1].slice(D[1].length);return I.length>0&&C.splice(R+2,0,[O[0],I]),x(C,R,3)}else return b}function T(b){for(var M=!1,j=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},C=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},R=2;R<b.length;R+=1)b[R-2][0]===u&&C(b[R-2][1])&&b[R-1][0]===s&&j(b[R-1][1])&&b[R][0]===a&&j(b[R][1])&&(M=!0,b[R-1][1]=b[R-2][1].slice(-1)+b[R-1][1],b[R][1]=b[R-2][1].slice(-1)+b[R][1],b[R-2][1]=b[R-2][1].slice(0,-1));if(!M)return b;for(var D=[],R=0;R<b.length;R+=1)b[R][1].length>0&&D.push(b[R]);return D}function x(b,M,j){for(var C=M+j-1;C>=0&&C>=M-1;C--)if(C+1<b.length){var R=b[C],D=b[C+1];R[0]===D[1]&&b.splice(C,2,[R[0],R[1]+D[1]])}return b}},function(t,i){i=t.exports=typeof Object.keys=="function"?Object.keys:s,i.shim=s;function s(a){var u=[];for(var f in a)u.push(f);return u}},function(t,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=t.exports=s?a:u,i.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}i.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,i){var s=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(y,v,g){this.fn=y,this.context=v,this.once=g||!1}function p(){this._events=new u,this._eventsCount=0}p.prototype.eventNames=function(){var v=[],g,d;if(this._eventsCount===0)return v;for(d in g=this._events)s.call(g,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},p.prototype.listeners=function(v,g){var d=a?a+v:v,m=this._events[d];if(g)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var S=0,A=m.length,w=new Array(A);S<A;S++)w[S]=m[S].fn;return w},p.prototype.emit=function(v,g,d,m,S,A){var w=a?a+v:v;if(!this._events[w])return!1;var _=this._events[w],T=arguments.length,x,b;if(_.fn){switch(_.once&&this.removeListener(v,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,g),!0;case 3:return _.fn.call(_.context,g,d),!0;case 4:return _.fn.call(_.context,g,d,m),!0;case 5:return _.fn.call(_.context,g,d,m,S),!0;case 6:return _.fn.call(_.context,g,d,m,S,A),!0}for(b=1,x=new Array(T-1);b<T;b++)x[b-1]=arguments[b];_.fn.apply(_.context,x)}else{var M=_.length,j;for(b=0;b<M;b++)switch(_[b].once&&this.removeListener(v,_[b].fn,void 0,!0),T){case 1:_[b].fn.call(_[b].context);break;case 2:_[b].fn.call(_[b].context,g);break;case 3:_[b].fn.call(_[b].context,g,d);break;case 4:_[b].fn.call(_[b].context,g,d,m);break;default:if(!x)for(j=1,x=new Array(T-1);j<T;j++)x[j-1]=arguments[j];_[b].fn.apply(_[b].context,x)}}return!0},p.prototype.on=function(v,g,d){var m=new f(g,d||this),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],m]:this._events[S].push(m):(this._events[S]=m,this._eventsCount++),this},p.prototype.once=function(v,g,d){var m=new f(g,d||this,!0),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],m]:this._events[S].push(m):(this._events[S]=m,this._eventsCount++),this},p.prototype.removeListener=function(v,g,d,m){var S=a?a+v:v;if(!this._events[S])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[S],this;var A=this._events[S];if(A.fn)A.fn===g&&(!m||A.once)&&(!d||A.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[S]);else{for(var w=0,_=[],T=A.length;w<T;w++)(A[w].fn!==g||m&&!A[w].once||d&&A[w].context!==d)&&_.push(A[w]);_.length?this._events[S]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new u:delete this._events[S]}return this},p.prototype.removeAllListeners=function(v){var g;return v?(g=a?a+v:v,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=a,p.EventEmitter=p,typeof t<"u"&&(t.exports=p)},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},u=function(){function fe(de,Te){var be=[],ye=!0,Be=!1,Ue=void 0;try{for(var Ke=de[Symbol.iterator](),rt;!(ye=(rt=Ke.next()).done)&&(be.push(rt.value),!(Te&&be.length===Te));ye=!0);}catch(st){Be=!0,Ue=st}finally{try{!ye&&Ke.return&&Ke.return()}finally{if(Be)throw Ue}}return be}return function(de,Te){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return fe(de,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function fe(de,Te){for(var be=0;be<Te.length;be++){var ye=Te[be];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(de,ye.key,ye)}}return function(de,Te,be){return Te&&fe(de.prototype,Te),be&&fe(de,be),de}}(),p=s(3),y=L(p),v=s(2),g=L(v),d=s(0),m=L(d),S=s(5),A=L(S),w=s(10),_=L(w),T=s(9),x=L(T),b=s(36),M=s(37),j=s(13),C=L(j),R=s(26),D=s(38),O=s(39),I=s(40);function L(fe){return fe&&fe.__esModule?fe:{default:fe}}function N(fe,de,Te){return de in fe?Object.defineProperty(fe,de,{value:Te,enumerable:!0,configurable:!0,writable:!0}):fe[de]=Te,fe}function $(fe,de){if(!(fe instanceof de))throw new TypeError("Cannot call a class as a function")}function G(fe,de){if(!fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:fe}function ne(fe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);fe.prototype=Object.create(de&&de.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(fe,de):fe.__proto__=de)}var te=(0,_.default)("quill:clipboard"),re="__ql-matcher",Q=[[Node.TEXT_NODE,ht],[Node.TEXT_NODE,He],["br",Ie],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,It],["li",qe],["b",ie.bind(ie,"bold")],["i",ie.bind(ie,"italic")],["style",De]],H=[b.AlignAttribute,D.DirectionAttribute].reduce(function(fe,de){return fe[de.keyName]=de,fe},{}),V=[b.AlignStyle,M.BackgroundStyle,R.ColorStyle,D.DirectionStyle,O.FontStyle,I.SizeStyle].reduce(function(fe,de){return fe[de.keyName]=de,fe},{}),B=function(fe){ne(de,fe);function de(Te,be){$(this,de);var ye=G(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,Te,be));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Q.concat(ye.options.matchers).forEach(function(Be){var Ue=u(Be,2),Ke=Ue[0],rt=Ue[1];!be.matchVisual&&rt===We||ye.addMatcher(Ke,rt)}),ye}return f(de,[{key:"addMatcher",value:function(be,ye){this.matchers.push([be,ye])}},{key:"convert",value:function(be){if(typeof be=="string")return this.container.innerHTML=be.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[C.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new g.default().insert(Be,N({},C.default.blotName,ye[C.default.blotName]))}var Ue=this.prepareMatching(),Ke=u(Ue,2),rt=Ke[0],st=Ke[1],tt=Y(this.container,rt,st);return Z(tt,`
`)&&tt.ops[tt.ops.length-1].attributes==null&&(tt=tt.compose(new g.default().retain(tt.length()-1).delete(1))),te.log("convert",this.container.innerHTML,tt),this.container.innerHTML="",tt}},{key:"dangerouslyPasteHTML",value:function(be,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof be=="string")this.quill.setContents(this.convert(be),ye),this.quill.setSelection(0,A.default.sources.SILENT);else{var Ue=this.convert(ye);this.quill.updateContents(new g.default().retain(be).concat(Ue),Be),this.quill.setSelection(be+Ue.length(),A.default.sources.SILENT)}}},{key:"onPaste",value:function(be){var ye=this;if(!(be.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),Ue=new g.default().retain(Be.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(A.default.sources.SILENT),setTimeout(function(){Ue=Ue.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(Ue,A.default.sources.USER),ye.quill.setSelection(Ue.length()-Be.length,A.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ke,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var be=this,ye=[],Be=[];return this.matchers.forEach(function(Ue){var Ke=u(Ue,2),rt=Ke[0],st=Ke[1];switch(rt){case Node.TEXT_NODE:Be.push(st);break;case Node.ELEMENT_NODE:ye.push(st);break;default:[].forEach.call(be.container.querySelectorAll(rt),function(tt){tt[re]=tt[re]||[],tt[re].push(st)});break}}),[ye,Be]}}]),de}(x.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(fe,de,Te){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(be,ye){return K(be,ye,de[ye])},fe):fe.reduce(function(be,ye){return ye.attributes&&ye.attributes[de]?be.push(ye):be.insert(ye.insert,(0,y.default)({},N({},de,Te),ye.attributes))},new g.default)}function J(fe){if(fe.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return fe[de]||(fe[de]=window.getComputedStyle(fe))}function Z(fe,de){for(var Te="",be=fe.ops.length-1;be>=0&&Te.length<de.length;--be){var ye=fe.ops[be];if(typeof ye.insert!="string")break;Te=ye.insert+Te}return Te.slice(-1*de.length)===de}function z(fe){if(fe.childNodes.length===0)return!1;var de=J(fe);return["block","list-item"].indexOf(de.display)>-1}function Y(fe,de,Te){return fe.nodeType===fe.TEXT_NODE?Te.reduce(function(be,ye){return ye(fe,be)},new g.default):fe.nodeType===fe.ELEMENT_NODE?[].reduce.call(fe.childNodes||[],function(be,ye){var Be=Y(ye,de,Te);return ye.nodeType===fe.ELEMENT_NODE&&(Be=de.reduce(function(Ue,Ke){return Ke(ye,Ue)},Be),Be=(ye[re]||[]).reduce(function(Ue,Ke){return Ke(ye,Ue)},Be)),be.concat(Be)},new g.default):new g.default}function ie(fe,de,Te){return K(Te,fe,!0)}function oe(fe,de){var Te=m.default.Attributor.Attribute.keys(fe),be=m.default.Attributor.Class.keys(fe),ye=m.default.Attributor.Style.keys(fe),Be={};return Te.concat(be).concat(ye).forEach(function(Ue){var Ke=m.default.query(Ue,m.default.Scope.ATTRIBUTE);Ke!=null&&(Be[Ke.attrName]=Ke.value(fe),Be[Ke.attrName])||(Ke=H[Ue],Ke!=null&&(Ke.attrName===Ue||Ke.keyName===Ue)&&(Be[Ke.attrName]=Ke.value(fe)||void 0),Ke=V[Ue],Ke!=null&&(Ke.attrName===Ue||Ke.keyName===Ue)&&(Ke=V[Ue],Be[Ke.attrName]=Ke.value(fe)||void 0))}),Object.keys(Be).length>0&&(de=K(de,Be)),de}function he(fe,de){var Te=m.default.query(fe);if(Te==null)return de;if(Te.prototype instanceof m.default.Embed){var be={},ye=Te.value(fe);ye!=null&&(be[Te.blotName]=ye,de=new g.default().insert(be,Te.formats(fe)))}else typeof Te.formats=="function"&&(de=K(de,Te.blotName,Te.formats(fe)));return de}function Ie(fe,de){return Z(de,`
`)||de.insert(`
`),de}function De(){return new g.default}function qe(fe,de){var Te=m.default.query(fe);if(Te==null||Te.blotName!=="list-item"||!Z(de,`
`))return de;for(var be=-1,ye=fe.parentNode;!ye.classList.contains("ql-clipboard");)(m.default.query(ye)||{}).blotName==="list"&&(be+=1),ye=ye.parentNode;return be<=0?de:de.compose(new g.default().retain(de.length()-1).retain(1,{indent:be}))}function He(fe,de){return Z(de,`
`)||(z(fe)||de.length()>0&&fe.nextSibling&&z(fe.nextSibling))&&de.insert(`
`),de}function We(fe,de){if(z(fe)&&fe.nextElementSibling!=null&&!Z(de,`

`)){var Te=fe.offsetHeight+parseFloat(J(fe).marginTop)+parseFloat(J(fe).marginBottom);fe.nextElementSibling.offsetTop>fe.offsetTop+Te*1.5&&de.insert(`
`)}return de}function It(fe,de){var Te={},be=fe.style||{};return be.fontStyle&&J(fe).fontStyle==="italic"&&(Te.italic=!0),be.fontWeight&&(J(fe).fontWeight.startsWith("bold")||parseInt(J(fe).fontWeight)>=700)&&(Te.bold=!0),Object.keys(Te).length>0&&(de=K(de,Te)),parseFloat(be.textIndent||0)>0&&(de=new g.default().insert("	").concat(de)),de}function ht(fe,de){var Te=fe.data;if(fe.parentNode.tagName==="O:P")return de.insert(Te.trim());if(Te.trim().length===0&&fe.parentNode.classList.contains("ql-clipboard"))return de;if(!J(fe.parentNode).whiteSpace.startsWith("pre")){var be=function(Be,Ue){return Ue=Ue.replace(/[^\u00a0]/g,""),Ue.length<1&&Be?" ":Ue};Te=Te.replace(/\r\n/g," ").replace(/\n/g," "),Te=Te.replace(/\s\s+/g,be.bind(be,!0)),(fe.previousSibling==null&&z(fe.parentNode)||fe.previousSibling!=null&&z(fe.previousSibling))&&(Te=Te.replace(/^\s+/,be.bind(be,!1))),(fe.nextSibling==null&&z(fe.parentNode)||fe.nextSibling!=null&&z(fe.nextSibling))&&(Te=Te.replace(/\s+$/,be.bind(be,!1)))}return de.insert(Te)}i.default=B,i.matchAttributor=oe,i.matchBlot=he,i.matchNewline=He,i.matchSpacing=We,i.matchText=ht},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(A,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,w,_){return w&&S(A.prototype,w),_&&S(A,_),A}}(),u=function S(A,w,_){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,w);if(T===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:S(x,w,_)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(_)}},f=s(6),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(){return v(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"optimize",value:function(_){u(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),A}(p.default);m.blotName="bold",m.tagName=["STRONG","B"],i.default=m},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function I(L,N){var $=[],G=!0,ne=!1,te=void 0;try{for(var re=L[Symbol.iterator](),Q;!(G=(Q=re.next()).done)&&($.push(Q.value),!(N&&$.length===N));G=!0);}catch(H){ne=!0,te=H}finally{try{!G&&re.return&&re.return()}finally{if(ne)throw te}}return $}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(L,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,$){return N&&I(L.prototype,N),$&&I(L,$),L}}(),f=s(2),p=_(f),y=s(0),v=_(y),g=s(5),d=_(g),m=s(10),S=_(m),A=s(9),w=_(A);function _(I){return I&&I.__esModule?I:{default:I}}function T(I,L,N){return L in I?Object.defineProperty(I,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[L]=N,I}function x(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function b(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function M(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var j=(0,S.default)("quill:toolbar"),C=function(I){M(L,I);function L(N,$){x(this,L);var G=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,$));if(Array.isArray(G.options.container)){var ne=document.createElement("div");D(ne,G.options.container),N.container.parentNode.insertBefore(ne,N.container),G.container=ne}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var te;return te=j.error("Container required for toolbar",G.options),b(G,te)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(re){G.addHandler(re,G.options.handlers[re])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(re){G.attach(re)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(re,Q){re===d.default.events.SELECTION_CHANGE&&G.update(Q)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var re=G.quill.selection.getRange(),Q=a(re,1),H=Q[0];G.update(H)}),G}return u(L,[{key:"addHandler",value:function($,G){this.handlers[$]=G}},{key:"attach",value:function($){var G=this,ne=[].find.call($.classList,function(re){return re.indexOf("ql-")===0});if(ne){if(ne=ne.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[ne]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ne]==null){j.warn("ignoring attaching to disabled format",ne,$);return}if(v.default.query(ne)==null){j.warn("ignoring attaching to nonexistent format",ne,$);return}}var te=$.tagName==="SELECT"?"change":"click";$.addEventListener(te,function(re){var Q=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var H=$.options[$.selectedIndex];H.hasAttribute("selected")?Q=!1:Q=H.value||!1}else $.classList.contains("ql-active")?Q=!1:Q=$.value||!$.hasAttribute("value"),re.preventDefault();G.quill.focus();var V=G.quill.selection.getRange(),B=a(V,1),K=B[0];if(G.handlers[ne]!=null)G.handlers[ne].call(G,Q);else if(v.default.query(ne).prototype instanceof v.default.Embed){if(Q=prompt("Enter "+ne),!Q)return;G.quill.updateContents(new p.default().retain(K.index).delete(K.length).insert(T({},ne,Q)),d.default.sources.USER)}else G.quill.format(ne,Q,d.default.sources.USER);G.update(K)}),this.controls.push([ne,$])}}},{key:"update",value:function($){var G=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(ne){var te=a(ne,2),re=te[0],Q=te[1];if(Q.tagName==="SELECT"){var H=void 0;if($==null)H=null;else if(G[re]==null)H=Q.querySelector("option[selected]");else if(!Array.isArray(G[re])){var V=G[re];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),H=Q.querySelector('option[value="'+V+'"]')}H==null?(Q.value="",Q.selectedIndex=-1):H.selected=!0}else if($==null)Q.classList.remove("ql-active");else if(Q.hasAttribute("value")){var B=G[re]===Q.getAttribute("value")||G[re]!=null&&G[re].toString()===Q.getAttribute("value")||G[re]==null&&!Q.getAttribute("value");Q.classList.toggle("ql-active",B)}else Q.classList.toggle("ql-active",G[re]!=null)})}}]),L}(w.default);C.DEFAULTS={};function R(I,L,N){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+L),N!=null&&($.value=N),I.appendChild($)}function D(I,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var $=document.createElement("span");$.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R($,G);else{var ne=Object.keys(G)[0],te=G[ne];Array.isArray(te)?O($,ne,te):R($,ne,te)}}),I.appendChild($)})}function O(I,L,N){var $=document.createElement("select");$.classList.add("ql-"+L),N.forEach(function(G){var ne=document.createElement("option");G!==!1?ne.setAttribute("value",G):ne.setAttribute("selected","selected"),$.appendChild(ne)}),I.appendChild($)}C.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),$=this.quill.getFormat(N),G=parseInt($.indent||0);if(L==="+1"||L==="-1"){var ne=L==="+1"?1:-1;$.direction==="rtl"&&(ne*=-1),this.quill.format("indent",G+ne,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),$=this.quill.getFormat(N);L==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},i.default=C,i.addControls=D},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(A,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,w,_){return w&&S(A.prototype,w),_&&S(A,_),A}}(),u=function S(A,w,_){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,w);if(T===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:S(x,w,_)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(_)}},f=s(28),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(w,_){v(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,w));return T.label.innerHTML=_,T.container.classList.add("ql-color-picker"),[].slice.call(T.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),T}return a(A,[{key:"buildItem",value:function(_){var T=u(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"buildItem",this).call(this,_);return T.style.backgroundColor=_.getAttribute("value")||"",T}},{key:"selectItem",value:function(_,T){u(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"selectItem",this).call(this,_,T);var x=this.label.querySelector(".ql-color-label"),b=_&&_.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=b:x.style.fill=b)}}]),A}(p.default);i.default=m},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(A,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,w,_){return w&&S(A.prototype,w),_&&S(A,_),A}}(),u=function S(A,w,_){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,w);if(T===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:S(x,w,_)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(_)}},f=s(28),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(w,_){v(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,w));return T.container.classList.add("ql-icon-picker"),[].forEach.call(T.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=_[x.getAttribute("data-value")||""]}),T.defaultItem=T.container.querySelector(".ql-selected"),T.selectItem(T.defaultItem),T}return a(A,[{key:"selectItem",value:function(_,T){u(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"selectItem",this).call(this,_,T),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),A}(p.default);i.default=m},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function p(y,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,v,g){return v&&p(y.prototype,v),g&&p(y,g),y}}();function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}var f=function(){function p(y,v){var g=this;u(this,p),this.quill=y,this.boundsContainer=v||document.body,this.root=y.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(p,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var g=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),A=0;if(S.right>m.right&&(A=m.right-S.right,this.root.style.left=g+A+"px"),S.left<m.left&&(A=m.left-S.left,this.root.style.left=g+A+"px"),S.bottom>m.bottom){var w=S.bottom-S.top,_=v.bottom-v.top+w;this.root.style.top=d-_+"px",this.root.classList.add("ql-flip")}return A}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),p}();i.default=f},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function O(I,L){var N=[],$=!0,G=!1,ne=void 0;try{for(var te=I[Symbol.iterator](),re;!($=(re=te.next()).done)&&(N.push(re.value),!(L&&N.length===L));$=!0);}catch(Q){G=!0,ne=Q}finally{try{!$&&te.return&&te.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function O(I,L,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,L);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:O(G,L,N)}else{if("value"in $)return $.value;var ne=$.get;return ne===void 0?void 0:ne.call(N)}},f=function(){function O(I,L){for(var N=0;N<L.length;N++){var $=L[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,L,N){return L&&O(I.prototype,L),N&&O(I,N),I}}(),p=s(3),y=x(p),v=s(8),g=x(v),d=s(43),m=x(d),S=s(27),A=x(S),w=s(15),_=s(41),T=x(_);function x(O){return O&&O.__esModule?O:{default:O}}function b(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function M(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function j(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(O){j(I,O);function I(L,N){b(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=C);var $=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return $.quill.container.classList.add("ql-snow"),$}return f(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),T.default),this.tooltip=new D(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,G){N.handlers.link.call(N,!G.format.link)})}}]),I}(m.default);R.DEFAULTS=(0,y.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var $=this.quill.theme.tooltip;$.edit("link",N)}else this.quill.format("link",!1)}}}}});var D=function(O){j(I,O);function I(L,N){b(this,I);var $=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return $.preview=$.root.querySelector("a.ql-preview"),$}return f(I,[{key:"listen",value:function(){var N=this;u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,g.default.sources.USER),delete N.linkRange}$.preventDefault(),N.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function($,G,ne){if($!=null){if($.length===0&&ne===g.default.sources.USER){var te=N.quill.scroll.descendant(A.default,$.index),re=a(te,2),Q=re[0],H=re[1];if(Q!=null){N.linkRange=new w.Range($.index-H,Q.length());var V=A.default.formats(Q.domNode);N.preview.textContent=V,N.preview.setAttribute("href",V),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(d.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=R},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(29),u=ye(a),f=s(36),p=s(38),y=s(64),v=s(65),g=ye(v),d=s(66),m=ye(d),S=s(67),A=ye(S),w=s(37),_=s(26),T=s(39),x=s(40),b=s(56),M=ye(b),j=s(68),C=ye(j),R=s(27),D=ye(R),O=s(69),I=ye(O),L=s(70),N=ye(L),$=s(71),G=ye($),ne=s(72),te=ye(ne),re=s(73),Q=ye(re),H=s(13),V=ye(H),B=s(74),K=ye(B),J=s(75),Z=ye(J),z=s(57),Y=ye(z),ie=s(41),oe=ye(ie),he=s(28),Ie=ye(he),De=s(59),qe=ye(De),He=s(60),We=ye(He),It=s(61),ht=ye(It),fe=s(108),de=ye(fe),Te=s(62),be=ye(Te);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":p.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":p.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":p.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":x.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":p.DirectionClass,"formats/indent":y.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":T.FontClass,"formats/size":x.SizeClass,"formats/blockquote":g.default,"formats/code-block":V.default,"formats/header":m.default,"formats/list":A.default,"formats/bold":M.default,"formats/code":H.Code,"formats/italic":C.default,"formats/link":D.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":te.default,"formats/video":Q.default,"formats/list/item":S.ListItem,"modules/formula":K.default,"modules/syntax":Z.default,"modules/toolbar":Y.default,"themes/bubble":de.default,"themes/snow":be.default,"ui/icons":oe.default,"ui/picker":Ie.default,"ui/icon-picker":We.default,"ui/color-picker":qe.default,"ui/tooltip":ht.default},!0),i.default=u.default},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function A(w,_){for(var T=0;T<_.length;T++){var x=_[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,_,T){return _&&A(w.prototype,_),T&&A(w,T),w}}(),u=function A(w,_,T){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,_);if(x===void 0){var b=Object.getPrototypeOf(w);return b===null?void 0:A(b,_,T)}else{if("value"in x)return x.value;var M=x.get;return M===void 0?void 0:M.call(T)}},f=s(0),p=y(f);function y(A){return A&&A.__esModule?A:{default:A}}function v(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function g(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function d(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var m=function(A){d(w,A);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(T,x){if(x==="+1"||x==="-1"){var b=this.value(T)||0;x=x==="+1"?b+1:b-1}return x===0?(this.remove(T),!0):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,T,x)}},{key:"canAdd",value:function(T,x){return u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,T,x)||u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,T,parseInt(x))}},{key:"value",value:function(T){return parseInt(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,T))||void 0}}]),w}(p.default.Attributor.Class),S=new m("indent","ql-indent",{scope:p.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=S},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function p(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function y(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function v(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){v(m,d);function m(){return p(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="blockquote",g.tagName="blockquote",i.default=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(S,A){for(var w=0;w<A.length;w++){var _=A[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,A,w){return A&&m(S.prototype,A),w&&m(S,w),S}}(),u=s(4),f=p(u);function p(m){return m&&m.__esModule?m:{default:m}}function y(m,S){if(!(m instanceof S))throw new TypeError("Cannot call a class as a function")}function v(m,S){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:m}function g(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);m.prototype=Object.create(S&&S.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(m,S):m.__proto__=S)}var d=function(m){g(S,m);function S(){return y(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),S}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],i.default=d},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function b(M,j){for(var C=0;C<j.length;C++){var R=j[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,j,C){return j&&b(M.prototype,j),C&&b(M,C),M}}(),u=function b(M,j,C){M===null&&(M=Function.prototype);var R=Object.getOwnPropertyDescriptor(M,j);if(R===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:b(D,j,C)}else{if("value"in R)return R.value;var O=R.get;return O===void 0?void 0:O.call(C)}},f=s(0),p=m(f),y=s(4),v=m(y),g=s(25),d=m(g);function m(b){return b&&b.__esModule?b:{default:b}}function S(b,M,j){return M in b?Object.defineProperty(b,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[M]=j,b}function A(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function w(b,M){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:b}function _(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(b,M):b.__proto__=M)}var T=function(b){_(M,b);function M(){return A(this,M),w(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(C,R){C===x.blotName&&!R?this.replaceWith(p.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,C,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,R){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,R),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,C,R))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,C)}}]),M}(v.default);T.blotName="list-item",T.tagName="LI";var x=function(b){_(M,b),a(M,null,[{key:"create",value:function(C){var R=C==="ordered"?"OL":"UL",D=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,R);return(C==="checked"||C==="unchecked")&&D.setAttribute("data-checked",C==="checked"),D}},{key:"formats",value:function(C){if(C.tagName==="OL")return"ordered";if(C.tagName==="UL")return C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(j){A(this,M);var C=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,j)),R=function(O){if(O.target.parentNode===j){var I=C.statics.formats(j),L=p.default.find(O.target);I==="checked"?L.format("list","unchecked"):I==="unchecked"&&L.format("list","checked")}};return j.addEventListener("touchstart",R),j.addEventListener("mousedown",R),C}return a(M,[{key:"format",value:function(C,R){this.children.length>0&&this.children.tail.format(C,R)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(C,R){if(C instanceof T)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,C,R);else{var D=R==null?this.length():R.offset(this),O=this.split(D);O.parent.insertBefore(C,O)}}},{key:"optimize",value:function(C){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,C);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var R=p.default.create(this.statics.defaultChild);C.moveChildren(R),this.appendChild(R)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,C)}}]),M}(d.default);x.blotName="list",x.scope=p.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[T],i.ListItem=T,i.default=x},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function p(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function y(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function v(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){v(m,d);function m(){return p(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="italic",g.tagName=["EM","I"],i.default=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(A,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,w,_){return w&&S(A.prototype,w),_&&S(A,_),A}}(),u=function S(A,w,_){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,w);if(T===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:S(x,w,_)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(_)}},f=s(6),p=y(f);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function g(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function d(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var m=function(S){d(A,S);function A(){return v(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):u(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),A}(p.default);m.blotName="script",m.tagName=["SUB","SUP"],i.default=m},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function p(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function y(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function v(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){v(m,d);function m(){return p(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="strike",g.tagName="S",i.default=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=s(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function p(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function y(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function v(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){v(m,d);function m(){return p(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="underline",g.tagName="U",i.default=g},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(_,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),u=function w(_,T,x){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,T);if(b===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:w(M,T,x)}else{if("value"in b)return b.value;var j=b.get;return j===void 0?void 0:j.call(x)}},f=s(0),p=v(f),y=s(27);function v(w){return w&&w.__esModule?w:{default:w}}function g(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function d(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function m(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var S=["alt","height","width"],A=function(w){m(_,w);function _(){return g(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(x,b){S.indexOf(x)>-1?b?this.domNode.setAttribute(x,b):this.domNode.removeAttribute(x):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,x,b)}}],[{key:"create",value:function(x){var b=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,x);return typeof x=="string"&&b.setAttribute("src",this.sanitize(x)),b}},{key:"formats",value:function(x){return S.reduce(function(b,M){return x.hasAttribute(M)&&(b[M]=x.getAttribute(M)),b},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,y.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),_}(p.default.Embed);A.blotName="image",A.tagName="IMG",i.default=A},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(_,T){for(var x=0;x<T.length;x++){var b=T[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),u=function w(_,T,x){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,T);if(b===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:w(M,T,x)}else{if("value"in b)return b.value;var j=b.get;return j===void 0?void 0:j.call(x)}},f=s(4),p=s(27),y=v(p);function v(w){return w&&w.__esModule?w:{default:w}}function g(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function d(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function m(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var S=["height","width"],A=function(w){m(_,w);function _(){return g(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(x,b){S.indexOf(x)>-1?b?this.domNode.setAttribute(x,b):this.domNode.removeAttribute(x):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,x,b)}}],[{key:"create",value:function(x){var b=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,x);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(x)),b}},{key:"formats",value:function(x){return S.reduce(function(b,M){return x.hasAttribute(M)&&(b[M]=x.getAttribute(M)),b},{})}},{key:"sanitize",value:function(x){return y.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),_}(f.BlockEmbed);A.blotName="video",A.className="ql-video",A.tagName="IFRAME",i.default=A},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function x(b,M){for(var j=0;j<M.length;j++){var C=M[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,M,j){return M&&x(b.prototype,M),j&&x(b,j),b}}(),u=function x(b,M,j){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,M);if(C===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:x(R,M,j)}else{if("value"in C)return C.value;var D=C.get;return D===void 0?void 0:D.call(j)}},f=s(35),p=m(f),y=s(5),v=m(y),g=s(9),d=m(g);function m(x){return x&&x.__esModule?x:{default:x}}function S(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function A(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function w(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var _=function(x){w(b,x);function b(){return S(this,b),A(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(j){var C=u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&(window.katex.render(j,C,{throwOnError:!1,errorColor:"#f00"}),C.setAttribute("data-value",j)),C}},{key:"value",value:function(j){return j.getAttribute("data-value")}}]),b}(p.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var T=function(x){w(b,x),a(b,null,[{key:"register",value:function(){v.default.register(_,!0)}}]);function b(){S(this,b);var M=A(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return b}(d.default);i.FormulaBlot=_,i.default=T},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function j(C,R){for(var D=0;D<R.length;D++){var O=R[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,R,D){return R&&j(C.prototype,R),D&&j(C,D),C}}(),u=function j(C,R,D){C===null&&(C=Function.prototype);var O=Object.getOwnPropertyDescriptor(C,R);if(O===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:j(I,R,D)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(D)}},f=s(0),p=A(f),y=s(5),v=A(y),g=s(9),d=A(g),m=s(13),S=A(m);function A(j){return j&&j.__esModule?j:{default:j}}function w(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function _(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function T(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var x=function(j){T(C,j);function C(){return w(this,C),_(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),C}(S.default);x.className="ql-syntax";var b=new p.default.Attributor.Class("token","hljs",{scope:p.default.Scope.INLINE}),M=function(j){T(C,j),a(C,null,[{key:"register",value:function(){v.default.register(b,!0),v.default.register(x,!0)}}]);function C(R,D){w(this,C);var O=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,D));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return O.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){O.highlight(),I=null},O.options.interval)}),O.highlight(),O}return a(C,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(I){I.highlight(D.options.highlight)}),this.quill.update(v.default.sources.SILENT),O!=null&&this.quill.setSelection(O,v.default.sources.SILENT)}}}]),C}(d.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(j){var C=window.hljs.highlightAuto(j);return C.value}}(),interval:1e3},i.CodeBlock=x,i.CodeToken=b,i.default=M},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function C(R,D,O){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,D);if(I===void 0){var L=Object.getPrototypeOf(R);return L===null?void 0:C(L,D,O)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(O)}},u=function(){function C(R,D){for(var O=0;O<D.length;O++){var I=D[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,D,O){return D&&C(R.prototype,D),O&&C(R,O),R}}(),f=s(3),p=w(f),y=s(8),v=w(y),g=s(43),d=w(g),m=s(15),S=s(41),A=w(S);function w(C){return C&&C.__esModule?C:{default:C}}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function T(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:C}function x(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(C){x(R,C);function R(D,O){_(this,R),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=b);var I=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,O));return I.quill.container.classList.add("ql-bubble"),I}return u(R,[{key:"extendToolbar",value:function(O){this.tooltip=new j(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),A.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),A.default)}}]),R}(d.default);M.DEFAULTS=(0,p.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var j=function(C){x(R,C);function R(D,O){_(this,R);var I=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,O));return I.quill.on(v.default.events.EDITOR_CHANGE,function(L,N,$,G){if(L===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var ne=I.quill.getLines(N.index,N.length);if(ne.length===1)I.position(I.quill.getBounds(N));else{var te=ne[ne.length-1],re=I.quill.getIndex(te),Q=Math.min(te.length()-1,N.index+N.length-re),H=I.quill.getBounds(new m.Range(re,Q));I.position(H)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return u(R,[{key:"listen",value:function(){var O=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var I=O.quill.getSelection();I!=null&&O.position(O.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,O),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",I===0)return I;L.style.marginLeft=-1*I-L.offsetWidth/2+"px"}}]),R}(g.BaseTooltip);j.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=j,i.default=M},function(t,i,s){t.exports=s(63)}]).default})}(gu)),gu.exports}var Zn,a1;function eO(){if(a1)return Zn;a1=1;var r=Zn&&Zn.__extends||function(){var v=function(g,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var A in S)S.hasOwnProperty(A)&&(m[A]=S[A])},v(g,d)};return function(g,d){v(g,d);function m(){this.constructor=g}g.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}(),e=Zn&&Zn.__assign||function(){return e=Object.assign||function(v){for(var g,d=1,m=arguments.length;d<m;d++){g=arguments[d];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(v[S]=g[S])}return v},e.apply(this,arguments)},t=Zn&&Zn.__spreadArrays||function(){for(var v=0,g=0,d=arguments.length;g<d;g++)v+=arguments[g].length;for(var m=Array(v),S=0,g=0;g<d;g++)for(var A=arguments[g],w=0,_=A.length;w<_;w++,S++)m[S]=A[w];return m},i=Zn&&Zn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},s=i(Nu()),a=i(l1()),u=i(XP()),f=i(JP()),p=function(v){r(g,v);function g(d){var m=v.call(this,d)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(A,w,_,T){var x,b,M,j;A==="text-change"?(b=(x=m).onEditorChangeText)===null||b===void 0||b.call(x,m.editor.root.innerHTML,w,T,m.unprivilegedEditor):A==="selection-change"&&((j=(M=m).onEditorChangeSelection)===null||j===void 0||j.call(M,w,T,m.unprivilegedEditor))};var S=m.isControlled()?d.value:d.defaultValue;return m.value=S??"",m}return g.prototype.validateProps=function(d){var m;if(s.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(d.children)){var S=s.default.Children.only(d.children);if(((m=S)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(d,m){var S=this,A;if(this.validateProps(d),!this.editor||this.state.generation!==m.generation)return!0;if("value"in d){var w=this.getEditorContents(),_=(A=d.value,A??"");this.isEqualValue(_,w)||this.setEditorContents(this.editor,_)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(T){return!u.default(d[T],S.props[T])})},g.prototype.shouldComponentRegenerate=function(d){var m=this;return this.dirtyProps.some(function(S){return!u.default(d[S],m.props[S])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(d,m){var S=this;if(this.editor&&this.shouldComponentRegenerate(d)){var A=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:A,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var _=this.regenerationSnapshot,A=_.delta,T=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var x=this.editor;x.setContents(A),y(function(){return S.setEditorSelection(x,T)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(d,m){var S=new f.default(d,m);return m.tabIndex!=null&&this.setEditorTabIndex(S,m.tabIndex),this.hookEditor(S),S},g.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(d){return d&&d.ops},g.prototype.isEqualValue=function(d,m){return this.isDelta(d)&&this.isDelta(m)?u.default(d.ops,m.ops):u.default(d,m)},g.prototype.setEditorContents=function(d,m){var S=this;this.value=m;var A=this.getEditorSelection();typeof m=="string"?d.setContents(d.clipboard.convert(m)):d.setContents(m),y(function(){return S.setEditorSelection(d,A)})},g.prototype.setEditorSelection=function(d,m){if(this.selection=m,m){var S=d.getLength();m.index=Math.max(0,Math.min(m.index,S-1)),m.length=Math.max(0,Math.min(m.length,S-1-m.index)),d.setSelection(m)}},g.prototype.setEditorTabIndex=function(d,m){var S,A;!((A=(S=d)===null||S===void 0?void 0:S.scroll)===null||A===void 0)&&A.domNode&&(d.scroll.domNode.tabIndex=m)},g.prototype.setEditorReadOnly=function(d,m){m?d.disable():d.enable()},g.prototype.makeUnprivilegedEditor=function(d){var m=d;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},g.prototype.renderEditingArea=function(){var d=this,m=this.props,S=m.children,A=m.preserveWhitespace,w=this.state.generation,_={key:w,ref:function(T){d.editingArea=T}};return s.default.Children.count(S)?s.default.cloneElement(s.default.Children.only(S),_):A?s.default.createElement("pre",e({},_)):s.default.createElement("div",e({},_))},g.prototype.render=function(){var d;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(d,m,S,A){var w,_;if(this.editor){var T=this.isDelta(this.value)?A.getContents():A.getHTML();T!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=T,(_=(w=this.props).onChange)===null||_===void 0||_.call(w,d,m,S,A))}},g.prototype.onEditorChangeSelection=function(d,m,S){var A,w,_,T,x,b;if(this.editor){var M=this.getEditorSelection(),j=!M&&d,C=M&&!d;u.default(d,M)||(this.selection=d,(w=(A=this.props).onChangeSelection)===null||w===void 0||w.call(A,d,m,S),j?(T=(_=this.props).onFocus)===null||T===void 0||T.call(_,d,m,S):C&&((b=(x=this.props).onBlur)===null||b===void 0||b.call(x,M,m,S)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=f.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(s.default.Component);function y(v){Promise.resolve().then(v)}return Zn=p,Zn}var tO=eO();const nO=Ww(tO),rO={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],[{align:[]}],["link"],[{color:[]},{background:[]}],["blockquote","code-block"],["image","video"]]},iO=()=>{const[r,e]=pe.useState(""),[t,i]=pe.useState(""),s=pe.useRef(null),a=f=>{i(f)},u=async f=>{if(f.preventDefault(),r&&t)try{await cR(Rp(Ca,"posts"),{title:r,content:t,createdAt:new Date}),alert("Post muvaffaqiyatli yaratildi!"),e(""),i("")}catch(p){console.error("Xatolik yuz berdi:",p)}else alert("Sarlavha va kontentni to'ldiring!")};return Se.jsxs("div",{children:[Se.jsx("h2",{className:"create__title",children:"Yangi Post Yaratish"}),Se.jsxs("form",{onSubmit:u,children:[Se.jsx("div",{children:Se.jsx("input",{type:"text",placeholder:"Post Sarlavhasi",value:r,onChange:f=>e(f.target.value),required:!0})}),Se.jsx("div",{children:Se.jsx(nO,{ref:s,value:t,onChange:a,placeholder:"",required:!0,modules:rO})}),Se.jsx("button",{className:"submit__button",type:"submit",children:"Post yaratish"})]})]})},oO=()=>Se.jsx("div",{className:"post__create",children:Se.jsx(iO,{})});function sO(){return Se.jsx("header",{children:Se.jsxs("div",{className:"header__container",children:[Se.jsx(Mu,{className:"header__logo",to:"/",children:"Ikamolov_blog"}),Se.jsx("a",{href:"https://t.me/ikamolov_blog",target:"_blank",className:"telegram_icon",children:Se.jsxs("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#000000",children:[Se.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),Se.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),Se.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",Se.jsx("title",{children:"telegram_fill"})," ",Se.jsxs("g",{id:"-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[" ",Se.jsxs("g",{id:"Brand",transform:"translate(-672.000000, -48.000000)",children:[" ",Se.jsxs("g",{id:"telegram_fill",transform:"translate(672.000000, 48.000000)",children:[" ",Se.jsx("path",{d:"M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z",id:"MingCute",fillRule:"nonzero",children:" "})," ",Se.jsx("path",{d:"M19.7773,4.42984 C20.8652,3.97177 22.0315,4.8917 21.8394,6.05639 L19.5705,19.8131 C19.3517,21.1395 17.8949,21.9006 16.678,21.2396 C15.6597,20.6865 14.1489,19.8352 12.7873,18.9455 C12.1074,18.5012 10.0255,17.0766 10.2814,16.0625 C10.5002,15.1954 14.0001,11.9375 16.0001,10 C16.7857,9.23893 16.4279,8.79926 15.5001,9.5 C13.1985,11.2383 9.50332,13.8812 8.28136,14.625 C7.20323,15.2812 6.64031,15.3932 5.96886,15.2812 C4.74273,15.0769 3.60596,14.7605 2.67788,14.3758 C1.42351,13.8558 1.48461,12.132 2.67703,11.63 L19.7773,4.42984 Z",id:"",fill:"#ffffff",children:" "})," "]})," "]})," "]})," "]})]})})]})})}const aO=()=>Se.jsxs(gA,{children:[Se.jsx(sO,{}),Se.jsxs(KT,{children:[Se.jsx(ca,{path:"/",element:Se.jsx(Vk,{})}),Se.jsx(ca,{path:"/posts",element:Se.jsx(Sv,{})}),Se.jsx(ca,{path:"/posts/:id",element:Se.jsx(Sv,{})})," ",Se.jsx(ca,{path:"/create",element:Se.jsx(oO,{})})]}),Se.jsx("footer",{style:{paddingTop:"20px"},children:"Version 1.01 created by Islomjon Kamolov"})]});nT.createRoot(document.getElementById("root")).render(Se.jsx(pe.StrictMode,{children:Se.jsx(aO,{})}));
